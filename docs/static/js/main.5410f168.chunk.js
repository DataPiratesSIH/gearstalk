(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1020:function(e,t,a){},1026:function(e,t,a){},1027:function(e,t,a){},1029:function(e,t){},1051:function(e,t,a){},1230:function(e,t,a){e.exports=a.p+"static/media/tensorflow.ccd3039c.png"},1231:function(e,t,a){e.exports=a.p+"static/media/reactjs.549a2528.png"},1232:function(e,t,a){e.exports=a.p+"static/media/flask.af103f13.png"},1233:function(e,t,a){e.exports=a.p+"static/media/materialui.a019edaf.png"},1234:function(e,t){e.exports="data:image/png;base64,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"},1235:function(e,t,a){e.exports=a.p+"static/media/gridfs.6847457e.png"},1236:function(e,t,a){e.exports=a.p+"static/media/amcharts.a19da3c3.png"},1237:function(e,t,a){},1238:function(e,t,a){e.exports=a.p+"static/media/start.3df4d356.png"},1239:function(e,t,a){"use strict";a.r(t);a(703),a(704),a(774),a(775),a(776),a(705),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(784),a(706),a(785),a(707),a(708),a(709),a(786),a(787),a(788),a(789),a(710),a(711),a(712),a(713),a(350),a(714),a(790),a(715),a(791),a(716),a(792),a(717),a(718),a(719),a(793),a(794),a(795),a(796),a(797),a(798),a(800),a(802),a(720),a(803),a(449),a(804),a(805),a(806),a(807),a(808),a(809),a(810),a(811),a(812),a(813),a(814),a(815),a(816),a(817),a(818),a(819),a(820),a(821),a(822),a(823),a(824),a(825),a(826),a(827),a(828),a(829),a(830),a(831),a(833),a(834),a(835),a(836),a(837),a(838),a(721),a(722),a(839),a(840),a(841),a(842),a(843),a(844),a(723),a(845),a(846),a(847),a(848),a(849),a(724),a(851),a(852),a(853),a(725),a(854),a(726),a(727),a(856),a(728),a(857),a(858),a(729),a(859),a(860),a(861),a(862),a(863),a(864),a(519),a(865),a(730),a(565),a(866),a(867),a(868),a(731),a(520),a(732),a(869),a(870),a(871),a(872),a(733),a(873),a(734),a(735),a(736),a(874),a(875),a(876),a(877),a(878),a(879),a(880),a(881),a(882),a(883),a(884),a(885),a(886),a(887),a(888),a(889),a(891),a(892),a(893),a(894),a(895),a(896),a(897),a(898),a(899),a(900),a(901),a(902),a(903),a(904),a(905),a(906),a(907),a(908),a(909),a(910),a(911),a(912),a(913),a(914),a(915),a(916),a(917),a(918),a(919),a(920),a(921),a(922),a(923),a(478),a(924),a(925),a(926),a(927),a(928),a(929),a(930),a(932),a(933),a(934),a(935),a(936),a(937),a(938),a(939),a(941),a(942),a(943),a(944),a(945),a(946),a(947),a(948),a(949),a(950),a(951),a(952),a(953),a(954),a(955),a(956),a(957),a(958),a(959),a(960),a(961),a(962),a(963),a(964),a(965),a(967),a(968),a(969),a(970),a(971),a(972),a(973),a(974),a(975),a(976),a(977),a(978),a(979),a(980),a(981),a(982),a(983),a(984),a(985),a(986),a(987),a(988),a(989),a(990),a(991),a(992),a(993),a(994),a(995),a(996),a(997),a(998),a(1e3),a(1001),a(1002),a(1003),a(1004),a(1005),a(1006),a(1007),a(1008),a(1009),a(1010),a(737),a(738),a(1011),a(1012),a(1013),a(1015),a(576);var n,r=a(1),l=a.n(r),o=a(81),c=a.n(o),i=(a(1020),a(253)),s=a(116),m=Object(r.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),u=a(27),d=a(1338),p=a(692),f=a(141),g=a(1295),E=a(1298),b=a(1299),h=a(1300),v=a(1301),x=a(1302),y=function(e){var t=e.className,a=Object(r.useContext)(m),n=Object(r.useState)(!1),o=Object(u.a)(n,2),c=o[0],i=o[1],s=function(){i(!1)};return l.a.createElement("div",null,l.a.createElement(g.a,{className:t,color:"inherit",onClick:function(){i(!0)}},"Logout"),l.a.createElement(E.a,{open:c,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,{id:"alert-dialog-title"},"Logout?"),l.a.createElement(h.a,null,l.a.createElement(v.a,{id:"alert-dialog-description"},"Are you sure you want to logout?")),l.a.createElement(x.a,null,l.a.createElement(g.a,{onClick:s,color:"primary"},"No"),l.a.createElement(g.a,{onClick:a.logout,color:"primary",autoFocus:!0},"Yes"))))},O=a(1310),C=a(1309),k=a(1305),j=a(1352),w=a(1346),A=a(1351),N=a(1306),S=a(1308),T=a(1242),B=a(1304),D=a(1307),z=a(642),I=a.n(z),L=a(643),R=a.n(L),P=a(644),q=a.n(P),V=a(419),F=a.n(V),M=a(422),H=a.n(M),W=a(645),U=a.n(W),Q=a(646),G=a.n(Q),X=a(647),K=a.n(X),Y=a(649),J=a.n(Y),_=a(648),Z=a.n(_),$=a(421),ee=a.n($),te=a(420),ae=a.n(te),ne=a(1303),re=a(85),le=a(214),oe=Object(ne.a)((function(e){return{root:{display:"flex"},button:{margin:e.spacing(1)},drawer:Object(f.a)({},e.breakpoints.up("lg"),{width:300,flexShrink:0}),toolbar:e.mixins.toolbar,drawerPaper:Object(f.a)({width:300},e.breakpoints.up("lg"),{paddingTop:"64px"}),divider:{backgroundColor:"#505c94"},red:{color:"red"}}})),ce=function(e){var t=Object(i.g)(),a=oe(),n=Object(re.a)(),r=function(a){t.push(a),e.handleDrawerToggle()},o=l.a.createElement("div",{style:{background:"linear-gradient(90deg, rgba(45,55,90,1) 4%, rgba(37,47,80,1) 18%, rgba(33,40,66,1) 38%, rgba(28,35,62,1) 82%)"}},l.a.createElement(T.a,{classes:{root:a.root},button:!0},l.a.createElement(B.a,null,l.a.createElement(I.a,{color:"primary",fontSize:"large"})),l.a.createElement(le.a,{color:"primary",style:{fontSize:"25px",fontWeight:500}},"Console")),l.a.createElement(k.a,{className:a.divider}),l.a.createElement(N.a,null,l.a.createElement(T.a,{button:!0,onClick:function(){r("/")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(R.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Dashboard"})),l.a.createElement(T.a,{button:!0},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(q.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Activity"}))),l.a.createElement(k.a,{className:a.divider}),l.a.createElement(N.a,null,l.a.createElement(S.a,{component:"div"},"DATABASE"),l.a.createElement(T.a,{button:!0,onClick:function(){r("/library")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(F.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Library"})),l.a.createElement(T.a,{button:!0,onClick:function(){r("/upload")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(U.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Add Video"})),l.a.createElement(T.a,{button:!0,onClick:function(){r("/cctv")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(ae.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Camera"}))),l.a.createElement(k.a,{className:a.divider}),l.a.createElement(N.a,null,l.a.createElement(S.a,{component:"div"},"TOOLS"),l.a.createElement(T.a,{button:!0,onClick:function(){r("/search")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(ee.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Search"})),l.a.createElement(T.a,{button:!0,onClick:function(){r("/videoquality")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(H.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Video Quality"})),l.a.createElement(T.a,{button:!0,onClick:function(){r("/visualization")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(G.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Visualization"}))),l.a.createElement(k.a,{className:a.divider}),l.a.createElement(N.a,null,l.a.createElement(S.a,{component:"div"},"REALTIME MAPPING"),l.a.createElement(T.a,{button:!0,onClick:function(){r("/maps")}},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(K.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Maps"})),l.a.createElement(T.a,{button:!0},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(Z.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Streetview"})),l.a.createElement(T.a,{button:!0},l.a.createElement(B.a,null,l.a.createElement(A.a,null,l.a.createElement(J.a,{fontSize:"small"}))),l.a.createElement(D.a,{primary:"Pinpoint"}))));return l.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},l.a.createElement(w.a,{lgUp:!0},l.a.createElement(j.a,{container:e.container,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:e.mobileOpen,onClose:e.handleDrawerToggle,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},o)),l.a.createElement(w.a,{mdDown:!0},l.a.createElement(j.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},o)))},ie=a(700),se=a(423),me=a.n(se),ue=a(1311),de=a(650),pe=a.n(de),fe=Object(ne.a)((function(e){return{root:{display:"flex"},appBar:{background:"linear-gradient(90deg, rgba(36,44,78,1) 0%, rgba(49,61,100,1) 29%, rgba(63,78,128,1) 51%, rgba(47,58,98,1) 75%, rgba(36,44,78,1) 100%)",zIndex:e.zIndex.drawer+1},menuButton:Object(f.a)({marginRight:e.spacing(2)},e.breakpoints.up("lg"),{display:"none"}),content:{flexGrow:1},toolbar:e.mixins.toolbar,title:{flexGrow:1}}})),ge=function(e){var t=Object(r.useContext)(m),a=e.container,n=fe(),o=Object(re.a)(),c=l.a.useState(!1),i=Object(u.a)(c,2),d=i[0],p=i[1],f=function(){p(!d)};return l.a.createElement("div",{className:n.root},l.a.createElement(C.a,null),l.a.createElement(O.a,{position:"fixed",className:n.appBar},l.a.createElement(ue.a,null,l.a.createElement(ie.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:f,className:n.menuButton},l.a.createElement(me.a,null)),l.a.createElement(le.a,{variant:"h6",className:n.title},l.a.createElement("span",{style:{marginRight:"20px"}},l.a.createElement("img",{width:"30",src:pe.a,alt:"cctv"})),"gearStalk"),!t.isLoggedIn&&l.a.createElement(g.a,{color:"inherit"},l.a.createElement(s.b,{style:{color:"white",textDecoration:"none",fontSize:"16px"},to:"/signin"},"Login")),t.isLoggedIn&&l.a.createElement(y,null))),l.a.createElement(ce,{theme:o,container:a,handleDrawerToggle:f,mobileOpen:d,setMobileOpen:p}),l.a.createElement("main",{className:n.content},l.a.createElement("div",{style:{marginTop:"70px"}},e.children)))},Ee=a(42),be=a.n(Ee),he=a(65),ve=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(),o=Object(u.a)(l,2),c=o[0],i=o[1],s=Object(r.useRef)([]),m=Object(r.useCallback)(function(){var e=Object(he.a)(be.a.mark((function e(t){var a,r,l,o,c,m,u=arguments;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,l=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),o=new AbortController,s.current.push(o),e.prev=6,e.next=9,fetch(t,{method:a,body:r,headers:l,mode:"cors",signal:o.signal,redirect:"follow"});case 9:return c=e.sent,e.next=12,c.json();case 12:if(m=e.sent,s.current=s.current.filter((function(e){return e!==o})),c.ok){e.next=16;break}throw new Error(m.message);case 16:return n(!1),e.abrupt("return",m);case 20:throw e.prev=20,e.t0=e.catch(6),i(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){return function(){s.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:c,sendRequest:m,clearError:function(){i(null)},setErrorText:function(e){i(e)}}},xe=(a(1026),function(e){return l.a.createElement("div",{style:{textAlign:"center"},className:"".concat(e.asOverlay&&"loading-spinner__overlay")},l.a.createElement("div",{className:"lds-grid"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))}),ye=a(69),Oe=a(1312),Ce=a(1349),ke=a(1313),je=a(1314),we=a(1315),Ae=a(1316),Ne=a(1317),Se=a(1347),Te=a(277),Be=a.n(Te),De=a(1345),ze=a(424),Ie=a.n(ze),Le=["None","Today","This Week","This Month","This Year"],Re=["None","Short (<4 minutes)","Medium (>4 minutes and <20 minutes)","Long (>20 minutes)"],Pe=["Relevance","Upload Date","Duration"],qe=["None","Processed","Unprocessed"],Ve=Object(ne.a)((function(e){return{expand:{padding:"5px"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},expandIcon:{color:"#ffffff"}}})),Fe=function(e){var t=Ve(),a=Object(r.useContext)(m),n=ve(),o=n.isLoading,c=n.error,i=n.sendRequest,s=n.clearError,d=Object(r.useReducer)((function(e,t){switch(t.type){case"record":return Object(ye.a)(Object(ye.a)({},e),{},{record:t.value});case"duration":return Object(ye.a)(Object(ye.a)({},e),{},{duration:t.value});case"sort":return Object(ye.a)(Object(ye.a)({},e),{},{sort:t.value});case"type":return Object(ye.a)(Object(ye.a)({},e),{},{type:t.value});default:return e}}),{record:"None",duration:"None",sort:"Relevance",type:"None"}),p=Object(u.a)(d,2),f=p[0],v=p[1],y=function(e){return v({type:e.target.name,value:e.target.value})},O=function(){var t=Object(he.a)(be.a.mark((function t(){var n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(),t.prev=1,t.next=4,i("http://localhost:5000/video/filter","POST",JSON.stringify({filter:f}),{Authorization:"Bearer "+a.token});case 4:n=t.sent,e.setVideos(n),e.handleClose(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(E.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"filter-dialog-title","aria-describedby":"filter-dialog-description"},l.a.createElement(b.a,{id:"filter-dialog-title"},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement(Ie.a,null),l.a.createElement("p",{style:{paddingLeft:"10px"}},"Filter"))),l.a.createElement(h.a,null,o&&l.a.createElement(xe,null),c&&l.a.createElement("div",{style:{marginTop:"20p",marginBottom:"20px"}},l.a.createElement(De.a,{onClose:s,severity:"error"},c)),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,sm:6,xs:12},l.a.createElement("div",{className:t.expand},l.a.createElement(Ce.a,null,l.a.createElement(ke.a,{expandIcon:l.a.createElement(Be.a,{className:t.expandIcon}),"aria-controls":"panel1a-content"},l.a.createElement(le.a,{className:t.heading},"RECORD DATE")),l.a.createElement(je.a,null,l.a.createElement(we.a,{component:"fieldset"},l.a.createElement(Ae.a,{name:"record",value:f.record,onChange:y},Le.map((function(e,t){return l.a.createElement(Ne.a,{key:t,value:e,control:l.a.createElement(Se.a,null),label:e})})))))))),l.a.createElement(Oe.a,{item:!0,sm:6,xs:12},l.a.createElement("div",{className:t.expand},l.a.createElement(Ce.a,null,l.a.createElement(ke.a,{expandIcon:l.a.createElement(Be.a,{className:t.expandIcon}),"aria-controls":"panel1a-content"},l.a.createElement(le.a,{className:t.heading},"DURATION")),l.a.createElement(je.a,null,l.a.createElement(we.a,{component:"fieldset"},l.a.createElement(Ae.a,{name:"duration",value:f.duration,onChange:y},Re.map((function(e,t){return l.a.createElement(Ne.a,{key:t,value:e,control:l.a.createElement(Se.a,null),label:e})})))))))),l.a.createElement(Oe.a,{item:!0,sm:6,xs:12},l.a.createElement("div",{className:t.expand},l.a.createElement(Ce.a,null,l.a.createElement(ke.a,{expandIcon:l.a.createElement(Be.a,{className:t.expandIcon}),"aria-controls":"panel1a-content"},l.a.createElement(le.a,{className:t.heading},"TYPE")),l.a.createElement(je.a,null,l.a.createElement(we.a,{component:"fieldset"},l.a.createElement(Ae.a,{name:"type",value:f.type,onChange:y},qe.map((function(e,t){return l.a.createElement(Ne.a,{key:t,value:e,control:l.a.createElement(Se.a,null),label:e})})))))))),l.a.createElement(Oe.a,{item:!0,sm:6,xs:12},l.a.createElement("div",{className:t.expand},l.a.createElement(Ce.a,null,l.a.createElement(ke.a,{expandIcon:l.a.createElement(Be.a,{className:t.expandIcon}),"aria-controls":"panel1a-content"},l.a.createElement(le.a,{className:t.heading},"SORT BY")),l.a.createElement(je.a,null,l.a.createElement(we.a,{component:"fieldset"},l.a.createElement(Ae.a,{name:"sort",value:f.sort,onChange:y},Pe.map((function(e,t){return l.a.createElement(Ne.a,{key:t,value:e,control:l.a.createElement(Se.a,null),label:e})})))))))))),l.a.createElement(x.a,null,l.a.createElement(g.a,{onClick:e.handleClose,disabled:o,color:"primary"},"Cancel"),l.a.createElement(g.a,{onClick:O,disabled:o,color:"primary",autoFocus:!0},"Apply")))},Me=a(230),He=a(651),We=a.n(He),Ue="audio/wav",Qe=2048,Ge=44100,Xe=function(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),n=a[0],l=a[1],o=function(e){var t=Object(r.useState)(e),a=Object(u.a)(t,2),n=a[0],l=a[1];return{isRecording:n,toggleIsRecording:Object(r.useCallback)((function(){return l((function(e){return!e}))}),[])}}(!1),c=o.isRecording,i=o.toggleIsRecording,s=Object(r.useRef)({}),m=Object(r.useRef)(null);return Object(r.useEffect)((function(){e&&navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){console.log("ready to record!"),m.current=e,s.current=new We.a(e),s.current.mimeType=Ue,s.current.bufferSize=Qe,s.current.sampleRate=Ge,s.current.ondataavailable=function(e){e&&(console.log(e),l((function(t){return[].concat(Object(Me.a)(t),[e])})))}})).catch((function(e){return console.log(e)}))}),[e]),{audioURL:n,isRecording:c,startRecording:Object(r.useCallback)((function(){s.current.start(),i()}),[s,i]),stopRecording:Object(r.useCallback)((function(){s.current.stop(),l([]),i()}),[s,i]),clearRecording:Object(r.useCallback)((function(){s.current&&"inactive"!==s.current.state&&(s.current.stop(),l([]),i(),null!==m.current&&m.current.getAudioTracks().forEach((function(e){e.stop()})))}),[s,m,i])}},Ke=(a(1027),function(e){var t=e.isRecording;return l.a.createElement("div",{className:"frame"},l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"mic_container"},l.a.createElement("div",{className:"mic_body ".concat(t&&"mic_animate")},l.a.createElement("div",{className:"mic_pill"}),l.a.createElement("div",{className:"mic_hole"}),l.a.createElement("div",{className:"mic_stand"}),l.a.createElement("div",{className:"mic_bottom"})),l.a.createElement("div",{className:"dots ".concat(t&&"animate")},l.a.createElement("div",{className:"dots_left ".concat(t&&"animate")}),l.a.createElement("div",{className:"dots_middle ".concat(t&&"animate")}),l.a.createElement("div",{className:"dots_right ".concat(t&&"animate")})))))}),Ye=function(e){var t=e.open,a=e.onText,n=e.handleClose,o=Object(r.useContext)(m),c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],d=i[1],p=Xe(t),f=p.audioURL,g=p.isRecording,v=p.startRecording,x=p.stopRecording,y=p.clearRecording,O=ve(),C=O.error,k=O.sendRequest,j=O.clearError,w=O.setErrorText;Object(r.useEffect)((function(){d("")}),[t]);var A=function(){var e=Object(he.a)(be.a.mark((function e(){var t,a,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=18;break}return x(),e.prev=2,t=new FormData,a=new Blob(f,{type:"audio/wav"}),t.append("speech",a),e.next=8,k("http://localhost:5000/helpers/speech","POST",t,{Authorization:"Bearer "+o.token});case 8:n=e.sent,d((function(e){return e+n.message})),""===n.message&&w("Can't hear. Try Again!"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),w("Network Error!");case 16:e.next=20;break;case 18:C&&j(),v();case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(E.a,{open:t,onClose:function(){""!==s&&a(s),y(),n()},"aria-labelledby":"mic-dialog-title","aria-describedby":"mic-dialog-description"},l.a.createElement(b.a,{style:{textAlign:"center"},id:"mic-dialog-title"},C||"Tap and Talk"),l.a.createElement(h.a,null,l.a.createElement("div",{className:"mic-position",onClick:A},l.a.createElement(Ke,{isRecording:g}))),l.a.createElement("div",{style:{padding:"5px 10px 15px",textAlign:"center"}},s))},Je=function(e){return l.a.createElement(E.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(b.a,{id:"alert-dialog-title"},e.title),l.a.createElement(h.a,null,l.a.createElement(v.a,{id:"alert-dialog-description"},e.children)),l.a.createElement(x.a,null,l.a.createElement(g.a,{onClick:e.operationHandler,color:"primary"},"Yes"),l.a.createElement(g.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"No")))},_e=a(1318),Ze=a(1319),$e=a(1320),et=a(696),tt=a(1322),at=a(1323),nt=a(653),rt=a.n(nt),lt=a(429),ot=a.n(lt),ct=a(298),it=a.n(ct),st=Object(ne.a)((function(e){return{root:{display:"flex",background:"#2a3f73",border:"1px solid #4f619a",cursor:"pointer","&:hover":{background:"#0a045e",border:"1px solid #0a045e"}},details:{display:"flex",flexDirection:"column",maxWidth:"200px"},content:{flex:"1 0 auto"},cover:{marginRight:"auto",width:"100%"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},playIcon:{color:e.palette.text.primary,height:38,width:38},optionIcon:{color:e.palette.text.primary}}})),mt=function(e){var t=st(),a=Object(r.useContext)(m),n=ve().sendRequest,o=Object(r.useState)(null),c=Object(u.a)(o,2),i=c[0],d=c[1],p=function(){d(null)},f=Object(r.useState)(!1),g=Object(u.a)(f,2),E=g[0],b=g[1],h=function(){b(!1)},v=function(){var t=Object(he.a)(be.a.mark((function t(){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("http://localhost:5000/video/deletevideo/"+e.oid,"DELETE",null,{Authorization:"Bearer "+a.token});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:h(),p(),e.videoDeletor(e.oid);case 11:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(Oe.a,{item:!0,xl:4,lg:4,md:4,xs:12,sm:12},l.a.createElement(Je,{open:E,title:"Delete Video?",operationHandler:v,handleClose:h},"This will delete this video and its details from the database. Please confirm if you want to delete the video."),l.a.createElement(_e.a,{square:!0,className:t.root},l.a.createElement("div",{className:t.details},l.a.createElement(Ze.a,{className:t.content},l.a.createElement(le.a,{component:"h5",variant:"h5"},"Footage #",e.index),l.a.createElement(le.a,{variant:"subtitle1",color:"textSecondary"},e.duration),l.a.createElement(le.a,{variant:"subtitle2",color:"textSecondary"},e.processed?"Processed":"Unprocessed")),l.a.createElement("div",{className:t.controls},l.a.createElement($e.a,{title:e.name},l.a.createElement(ie.a,{"aria-label":"info"},l.a.createElement(it.a,{className:t.optionIcon}))),l.a.createElement(s.b,{to:"/play/".concat(e.oid)},l.a.createElement(ie.a,{"aria-label":"play"},l.a.createElement(rt.a,{className:t.playIcon}))),l.a.createElement(ie.a,{onClick:function(e){d(e.currentTarget)},"aria-label":"options"},l.a.createElement(ot.a,{className:t.optionIcon})),l.a.createElement(et.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:p},l.a.createElement(tt.a,{onClick:function(){b(!0)}},"Delete"),l.a.createElement(tt.a,{onClick:p},"Camera"),!e.processed&&l.a.createElement(tt.a,{onClick:p},"Process"),e.processed&&l.a.createElement(tt.a,{onClick:p},"Search"),l.a.createElement(tt.a,{onClick:p},"Close")))),l.a.createElement(at.a,{className:t.cover,image:"".concat("http://localhost:5000","/helpers/file/").concat(e.thumbnail_id),title:e.name})))},ut=a(1324),dt=a(1353),pt=a(205),ft=a.n(pt),gt=a(654),Et=a.n(gt),bt=a(655),ht=a.n(bt),vt=a(656),xt=a.n(vt),yt=Object(ne.a)((function(e){return{root:{height:"80vh",overflow:"auto",overflowX:"hidden"},topContainer:{paddingTop:"10px",marginBottom:"15px"},search:{display:"flex",alignItems:"center",width:"100%",border:"1px solid ".concat(e.palette.text.primary)},input:{marginLeft:e.spacing(1),textDecoration:"none",flex:1},iconButton:{padding:10},divider:{height:28,margin:4},iconMargin:{"& > *":{marginLeft:e.spacing(1)}}}})),Ot=function(){var e=yt(),t=Object(r.useState)(""),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Object(r.useContext)(m),i=Object(r.useState)(!1),d=Object(u.a)(i,2),p=d[0],f=d[1],g=ve(),E=g.isLoading,b=g.error,h=g.sendRequest,v=g.clearError,x=Object(r.useState)([]),y=Object(u.a)(x,2),O=y[0],j=y[1],w=Object(r.useState)([]),A=Object(u.a)(w,2),N=A[0],S=A[1];Object(r.useEffect)((function(){(function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("http://localhost:5000/video/getvideo","GET",null,{Authorization:"Bearer "+c.token});case 3:t=e.sent,j(t),S(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[h,c.token]);var T=function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n){e.next=12;break}return e.prev=1,e.next=4,h("http://localhost:5000/video/search","POST",JSON.stringify({search:n}),{"Content-Type":"application/json"});case 4:t=e.sent,v(),j(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),B=Object(r.useState)(!1),D=Object(u.a)(B,2),z=D[0],I=D[1],L=Object(r.useCallback)((function(e){(function(){var e=Object(he.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t),console.log(t),e.prev=2,e.next=5,h("http://localhost:5000/video/search","POST",JSON.stringify({search:t}),{"Content-Type":"application/json",Authorization:"Bearer "+c.token});case 5:a=e.sent,v(),j(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}})()(e)}),[h,v,c.token]),R=function(e){j((function(t){return t.filter((function(t){return t._id.$oid!==e}))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ye,{open:z,onText:L,handleClose:function(){I(!1)}}),l.a.createElement(Fe,{open:p,handleClose:function(){f(!1)},setVideos:j}),l.a.createElement(C.a,null),l.a.createElement(ut.a,{maxWidth:"xl"},l.a.createElement(Oe.a,{container:!0,className:e.topContainer},l.a.createElement(Oe.a,{item:!0,xs:12,md:10,className:e.search},l.a.createElement(dt.a,{className:e.input,placeholder:"Search",inputProps:{"aria-label":"type your query here"},value:n,onChange:function(e){o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),T())}}),l.a.createElement(ie.a,{onClick:T,color:"primary",className:e.iconButton,"aria-label":"search"},l.a.createElement(ft.a,{fontSize:"small"})),l.a.createElement(k.a,{className:e.divider,orientation:"vertical"}),l.a.createElement(ie.a,{onClick:function(){I(!0)},color:"primary",className:e.iconButton,"aria-label":"mic"},l.a.createElement(Et.a,{fontSize:"small"}))),l.a.createElement(Oe.a,{style:{textAlign:"center"},item:!0,md:2,xs:12},l.a.createElement("div",{className:e.iconMargin},l.a.createElement($e.a,{title:"Filter"},l.a.createElement(ie.a,{color:"primary",className:e.iconButton,"aria-label":"Filter",onClick:function(){N.length>0&&f(!0)}},l.a.createElement(Ie.a,null))),l.a.createElement($e.a,{title:"Upload Video"},l.a.createElement(s.b,{to:"/upload"},l.a.createElement(ie.a,{color:"primary",className:e.iconButton,"aria-label":"Upload Video"},l.a.createElement(ht.a,null)))),l.a.createElement($e.a,{title:"Back to Home"},l.a.createElement(ie.a,{color:"primary",className:e.iconButton,"aria-label":"Home",onClick:function(){j(N),o("")}},l.a.createElement(xt.a,null)))))),l.a.createElement("div",{className:e.root},b&&l.a.createElement("div",{style:{marginTop:"20p",marginBottom:"20px"}},l.a.createElement(De.a,{onClose:v,severity:"error"},b)),E&&l.a.createElement(xe,null),!E&&0===O.length&&l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(le.a,{style:{marginTop:"40px"},variant:"h6",gutterBottom:!0},"No Video found in the database. Start with uploading one.")),!E&&l.a.createElement(Oe.a,{container:!0,spacing:4},O.map((function(e,t){return l.a.createElement(mt,{key:t,index:t,oid:e._id.$oid,name:e.name,date:e.date,time:e.date,location_id:e.location_id,file_id:e.file_id,thumbnail_id:e.thumbnail_id,duration:e.duration,processed:e.processed,videoDeletor:R})}))))))},Ct=a(275),kt=a(1339),jt=a(1348),wt=(a(1028),function(e){var t=e.width,a=e.height,n=e.viewState,o=e.onViewStateChange,c=e.libraries,i=Object(r.useMemo)((function(){for(var e=[],t=0;t<c.length;t++)e.push([c[t].longitude,c[t].latitude,c[t]._id.$oid,c[t].formatted_address]);return e}),[c]),s=Object(r.useState)({oid:"",latitude:null,longitude:null,address:""}),m=Object(u.a)(s,2),d=m[0],p=m[1],f=[new jt.a({id:"scatter-plot",data:i,getRadius:2500,radiusMaxPixels:15,radiusMinPixels:.5,getFillColor:[117,193,255],stroked:!0,getLineWidth:2e3,lineWidthMaxPixels:10,getLineColor:[117,193,255,76],getPosition:function(e){return[e[0],e[1],0]},pickable:!0,onClick:function(e){var t=e.object;console.log(t),p({oid:t[2],longitude:t[0],latitude:t[1],address:t[3]})}})];return l.a.createElement(Ct.c,{width:t,height:a,viewState:n,onViewStateChange:o,mapStyle:"mapbox://styles/gisfeedback/cjvod9hc909kh1eo9nj23g33k"},l.a.createElement(kt.a,{viewState:n,layers:f}),d.oid&&l.a.createElement(Ct.b,{style:{background:"#000000"},longitude:d.longitude,latitude:d.latitude,onClose:function(){p({oid:"",latitude:null,longitude:null,address:null})}},l.a.createElement("div",null,l.a.createElement("p",null,d.address))))}),At=a(1342),Nt=a(1327),St=a(343),Tt=a.n(St),Bt=Object(ne.a)((function(e){return{root:{marginBottom:"15px",width:"100%"},heading:{fontSize:e.typography.pxToRem(20),fontWeight:e.typography.fontWeightRegular},textPicker:{paddingLeft:"10px",paddingRight:"10px"},loader:{display:"flex",alignItems:"center",justifyContent:"center",margin:"20px",marginTop:"0px"},multilineColor:{color:"#ffffff"}}})),Dt=function(e){var t=Bt(),a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],c=n[1],i=Object(r.useContext)(m),s=Object(r.useState)({latitude:"",longitude:""}),d=Object(u.a)(s,2),p=d[0],f=d[1],g=ve(),E=g.isLoading,b=g.error,h=g.sendRequest,v=g.clearError,x=g.setErrorText,y=function(){var t=Object(he.a)(be.a.mark((function t(){var a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p.latitude||!p.longitude){t.next=19;break}return t.prev=1,t.next=4,h("http://localhost:5000/cctv/addcctv","POST",JSON.stringify({lat:parseFloat(p.latitude),lon:parseFloat(p.longitude)}),{"Content-Type":"application/json",Authorization:"Bearer "+i.token});case 4:a=t.sent,console.log(a),e.setLocationData((function(e){return[].concat(Object(Me.a)(e),[a[0]])})),e.camera||e.setCamera(a[0]),f({latitude:"",longitude:""}),v(),c(!0),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),c(!1),console.log(t.t0.message);case 17:t.next=21;break;case 19:c(!1),x("Provided fields are empty.");case 21:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();return l.a.createElement("div",{className:t.root},o&&l.a.createElement(De.a,{severity:"success",onClose:function(){c(!1)}},l.a.createElement(Nt.a,null,"Success"),l.a.createElement("span",null,l.a.createElement("strong",null,"Camera"))," ","location has been succesfully added."),b&&l.a.createElement(De.a,{style:{marginBottom:"10px"},severity:"error",onClose:v},b),l.a.createElement(Ce.a,null,l.a.createElement(ke.a,{expandIcon:l.a.createElement(Be.a,{style:{color:"#ffffff"}}),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(le.a,{className:t.heading},"Add Camera")),l.a.createElement(je.a,null,E?l.a.createElement(Oe.a,{container:!0,className:t.loader},l.a.createElement(xe,null)):l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{className:t.textPicker,item:!0,xs:5},l.a.createElement(At.a,{InputProps:{className:t.multilineColor},value:p.latitude,type:"number",onChange:function(e){return f(Object(ye.a)(Object(ye.a)({},p),{},{latitude:e.target.value}))},label:"Latitude"})),l.a.createElement(Oe.a,{className:t.textPicker,item:!0,xs:5},l.a.createElement(At.a,{InputProps:{className:t.multilineColor},value:p.longitude,type:"number",onChange:function(e){return f(Object(ye.a)(Object(ye.a)({},p),{},{longitude:e.target.value}))},label:"Longitude"})),l.a.createElement(Oe.a,{style:{textAlign:"center"},item:!0,xs:1},l.a.createElement(ie.a,{color:"primary",disabled:!p.latitude||!p.longitude,onClick:y},l.a.createElement(Tt.a,{fontSize:"large"})))))))},zt=a(1321),It=a(1328),Lt=a(1244),Rt=a(699),Pt=a(447),qt=a(250),Vt=a.n(qt),Ft=a(274),Mt=a.n(Ft),Ht=a(434),Wt=a.n(Ht),Ut=a(661),Qt=a.n(Ut),Gt=a(662),Xt=a.n(Gt),Kt=a(660),Yt=a.n(Kt),Jt=a(663),_t=a.n(Jt),Zt=Object(ne.a)((function(e){return{root:{display:"flex"},margin:{margin:e.spacing(1)},container:{padding:"10px"},typography:{padding:e.spacing(2)},locationChooser:{padding:"10px",background:"#2a3f73",border:"1px solid #4f619a",cursor:"pointer","&:hover":{background:"#0a045e",border:"1px solid #0a045e"}},verticalContainer:{height:"75px",position:"relative"},verticalDiv:{textAlign:"center",margin:0,position:"absolute",top:"50%",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},option:{padding:"10px",paddingTop:"15px",background:"#2a3f73",color:"#ffffff",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer","&:hover":{background:"#30a3f2",border:"1px solid #30a3f2"}},optionTitle:{paddingTop:"10px",fontSize:"15px",fontWeight:400,pointerEvents:"none"},locationDetails:{padding:"10px",background:e.palette.primary.dark,border:"1px solid #4f619a"},locationAttributes:{textAlign:"left",marginTop:"15px",marginBottom:"15px"},locationParams:{fontSize:"15px",color:"#ffffff",fontWeight:500},multilineColor:{color:"#ffffff"},mapContainer:{boxShadow:"-3px 6px 34px 6px rgba(18,25,41,1)",border:"1px solid #4f619a",position:"relative",marginLeft:"10px"}}})),$t=function(e){var t=Zt();return l.a.createElement(Oe.a,{onClick:function(){e.changeCameraHandler(e.oid)},className:t.locationChooser,item:!0,lg:2,md:2,sm:4,xs:6},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement("div",{className:t.verticalContainer},l.a.createElement("div",{className:t.verticalDiv},l.a.createElement(Vt.a,{fontSize:"large"})))),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement("div",{style:{fontSize:"12px"}},"Latitude"),l.a.createElement("div",{style:{color:"#fff"}},parseFloat(e.latitude).toFixed(3)),l.a.createElement("div",{style:{fontSize:"12px"}},"Longitude"),l.a.createElement("div",{style:{color:"#fff"}},parseFloat(e.longitude).toFixed(3)))))},ea=function(e){var t=Object(r.useContext)(m),a=Zt(),n=Object(r.useState)(""),o=Object(u.a)(n,2),c=o[0],i=o[1],s=Object(r.useState)(),d=Object(u.a)(s,2),p=d[0],f=d[1],g=ve().sendRequest;Object(r.useEffect)((function(){e.open&&e.locationData&&f(e.locationData)}),[e.open,e.locationData]);var E=l.a.useState(null),b=Object(u.a)(E,2),h=b[0],v=b[1],x=function(){v(null)},y=Object(r.useState)(!1),O=Object(u.a)(y,2),C=O[0],k=O[1],j=function(){k(!1)},w=function(){var a=Object(he.a)(be.a.mark((function a(){var n;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g("http://localhost:5000/cctv/deleteallcctv","DELETE",null,{Authorization:"Bearer "+t.token});case 3:n=a.sent,console.log(n),e.setLocationData([]),e.setCamera(null),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message);case 12:j(),x();case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}();return l.a.createElement(zt.a,{id:e.id,open:e.open,anchorEl:e.anchorEl,onClose:e.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Je,{open:C,title:"Delete Camera?",operationHandler:w,handleClose:j},"This will delete all camera and their details from the database. Please confirm if you want to delete all the CCTV cameras."),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,md:10,sm:8},l.a.createElement(At.a,{fullWidth:!0,className:a.margin,style:{width:"90%"},id:"input-with-icon-textfield",label:"Search",value:c,onChange:function(t){i(t.target.value);var a=t.target.value,n=e.locationData;if(a){for(var r=[],l=0;l<n.length;l++)(n[l].formatted_address.toLowerCase().includes(a.toLowerCase())||n[l].latitude.toString().includes(a)||n[l].longitude.toString().includes(a))&&r.push(n[l]);f(r)}else f(n)},InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(ft.a,null))}})),l.a.createElement(Oe.a,{style:{textAlign:"right"},item:!0,md:1,sm:2},l.a.createElement(ie.a,{"aria-label":"options","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){v(e.currentTarget)}},l.a.createElement(ot.a,{style:{color:"#fff"}})),l.a.createElement(et.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:x},l.a.createElement(tt.a,{onClick:function(){k(!0)}},"Delete All"),l.a.createElement(tt.a,{onClick:x},"Close"))),l.a.createElement(Oe.a,{style:{textAlign:"right"},item:!0,md:1,sm:2},l.a.createElement(ie.a,{"aria-label":"close",onClick:e.handleClose},l.a.createElement(Mt.a,{style:{color:"#fff"}})))),l.a.createElement(Oe.a,{style:{overflowY:"auto",height:"80vh",minWidth:"60vw"},container:!0},p&&p.map((function(t,a){return l.a.createElement($t,{key:a,oid:t._id.$oid,latitude:t.latitude,longitude:t.longitude,name:t.formatted_address,changeCameraHandler:e.changeCameraHandler})}))))},ta=function(e){var t=Zt(),a=Object(r.useContext)(m),n=Object(r.useState)(!1),o=Object(u.a)(n,2),c=o[0],i=o[1],s=Object(r.useState)({oid:"",latitude:"",longitude:""}),d=Object(u.a)(s,2),p=d[0],f=d[1];Object(r.useEffect)((function(){e.open&&e.camera?f({oid:e.camera._id.$oid,latitude:e.camera.latitude.toString(),longitude:e.camera.longitude.toString()}):f({oid:"",latitude:"",longitude:""})}),[e.open,e.camera]),Object(r.useEffect)((function(){e.open&&i(!1)}),[e.open]);var E=ve(),b=E.error,h=E.sendRequest,v=E.clearError,x=function(){var t=Object(he.a)(be.a.mark((function t(){var n;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(p.oid&&p.latitude&&p.longitude)){t.next=14;break}return t.prev=1,t.next=4,h("http://localhost:5000/cctv/updatecctv","PATCH",JSON.stringify({oid:p.oid,lat:parseFloat(p.latitude),lon:parseFloat(p.longitude)}),{"Content-Type":"application/json",Authorization:"Bearer "+a.token});case 4:n=t.sent,console.log(n),e.setLocationData((function(t){for(var a=t,r=0;r<a.length;r++)if(e.camera&&a[r]._id.$oid===e.camera._id.$oid){a[r]=Object(ye.a)(Object(ye.a)({},a[r]),n);break}return a})),e.setCamera(Object(ye.a)(Object(ye.a)({},e.camera),n)),i(!0),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),y=function(){e.setEditOpen((function(e){return!e}))};return l.a.createElement(Lt.a,{open:e.open,anchorEl:e.anchorEl,placement:"bottom",transition:!0},(function(a){var n=a.TransitionProps;return l.a.createElement(Rt.a,Object.assign({},n,{timeout:350}),l.a.createElement(Pt.a,null,c?l.a.createElement(De.a,{severity:"success",onClose:y},l.a.createElement(Nt.a,null,"Success"),l.a.createElement("span",null,l.a.createElement("strong",null,"Camera"))," ","location has been succesfully updated."):l.a.createElement("div",null,b&&l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:v},b),l.a.createElement("div",{style:{padding:"10px"}},l.a.createElement(At.a,{InputProps:{className:t.multilineColor},value:p.latitude,type:"number",onChange:function(e){return f(Object(ye.a)(Object(ye.a)({},p),{},{latitude:e.target.value}))},label:"Latitude"})),l.a.createElement("div",{style:{padding:"10px"}},l.a.createElement(At.a,{InputProps:{className:t.multilineColor},value:p.longitude,type:"number",onChange:function(e){return f(Object(ye.a)(Object(ye.a)({},p),{},{longitude:e.target.value}))},label:"Longitude"})),l.a.createElement(Oe.a,{style:{textAlign:"center"},container:!0},l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement(g.a,{disabled:!p.latitude||!p.longitude,onClick:x},"Update")),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement(g.a,{onClick:function(){e.setEditOpen((function(e){return!e}))}},"Cancel"))))))}))},aa=function(){var e=Object(r.useContext)(m),t=Object(r.useState)([]),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(null),s=Object(u.a)(c,2),d=s[0],p=s[1],f=Object(i.g)(),g=ve(),E=g.isLoading,b=g.error,h=g.sendRequest,v=g.clearError,x=g.setErrorText,y=Object(r.useState)({latitude:19.076,longitude:72.8777,zoom:11,pitch:40.5,bearing:.7}),O=Object(u.a)(y,2),C=O[0],k=O[1],j=Object(r.useState)(!1),w=Object(u.a)(j,2),A=w[0],N=w[1],S=function(){N(!1)},T=Zt();Object(r.useEffect)((function(){(function(){var t=Object(he.a)(be.a.mark((function t(){var a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h("http://localhost:5000/cctv/getcctv","GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,o(a),a.length>0&&p(a[0]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[h,e.token]);var B=Object(r.useState)(null),D=Object(u.a)(B,2),z=D[0],I=D[1],L=Object(r.useState)(!1),R=Object(u.a)(L,2),P=R[0],q=R[1],V=Object(r.useCallback)((function(e){k((function(t){return Object(ye.a)(Object(ye.a)(Object(ye.a)({},t),e),{},{zoom:11,transitionDuration:2e3,transitionInterpolator:new Ct.a})}))}),[]),M=Object(r.useState)(null),H=Object(u.a)(M,2),W=H[0],U=H[1],Q=function(){U(null)},G=Boolean(W),X=G?"simple-popover":void 0,K=function(e){if(0!==n.length||d){if(d){switch(e.target.id){case"locate":V({latitude:d.latitude,longitude:d.longitude});break;case"edit":!function(e){I(e.currentTarget),q((function(e){return!e}))}(e);break;case"change":!function(e){U(e.currentTarget)}(e);break;case"delete":N(!0);break;case"live":case"video":f.push("/");break;default:x("Some random error occurred. Please have a bit of patience.")}}}else x("No camera found in the database. Start with inserting one.")},Y=function(){var e=Object(he.a)(be.a.mark((function e(){var t,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=17;break}return console.log(d._id.$oid),e.prev=2,e.next=5,h("http://localhost:5000/cctv/deletecctv/"+d._id.$oid,"DELETE");case 5:t=e.sent,a=(a=n).filter((function(e){return e._id.$oid!==d._id.$oid})),o(a),a.length>0?p(a[0]):p(null),console.log(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),x(e.t0.message);case 16:S();case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d&&V({latitude:d.latitude,longitude:d.longitude})}),[d,V]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Je,{open:A,title:"Delete Camera?",operationHandler:Y,handleClose:S},"This will delete selected camera and its details from the database. Please confirm if you want to delete the selected CCTV camera."),l.a.createElement(Oe.a,{className:T.container,container:!0},l.a.createElement(Oe.a,{item:!0,md:6,xs:12},l.a.createElement(Dt,{setLocationData:o,camera:d,setCamera:p}),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{id:"locate",className:T.option,item:!0,xs:3,onClick:K},l.a.createElement(Yt.a,null),l.a.createElement(le.a,{className:T.optionTitle},"Locate Camera")),l.a.createElement(Oe.a,{id:"edit",className:T.option,item:!0,xs:3,onClick:K},l.a.createElement(Wt.a,null),l.a.createElement(le.a,{className:T.optionTitle},"Edit Details")),l.a.createElement(ta,{open:P,anchorEl:z,camera:d,setEditOpen:q,setLocationData:o,setCamera:p}),l.a.createElement(Oe.a,{"aria-describedby":X,id:"change",className:T.option,item:!0,xs:3,onClick:K},l.a.createElement(Qt.a,null),l.a.createElement(le.a,{className:T.optionTitle},"Change Camera")),l.a.createElement(ea,{id:X,open:G,anchorEl:W,handleClose:Q,locationData:n,setLocationData:o,setCamera:p,changeCameraHandler:function(e){for(var t=n,a=0;a<t.length;a++)if(t[a]._id.$oid===e){p(t[a]);break}Q()}}),l.a.createElement(Oe.a,{id:"delete",className:T.option,item:!0,xs:3,onClick:K},l.a.createElement(Xt.a,null),l.a.createElement(le.a,{className:T.optionTitle},"Delete"))),l.a.createElement(Oe.a,{className:T.locationDetails,container:!0},b&&l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:v},b),E?l.a.createElement(Oe.a,{item:!0,xs:12,style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("div",{style:{padding:"30px"}},l.a.createElement(xe,null))):l.a.createElement("div",{style:{width:"100%"}},n.length>0?l.a.createElement("div",{style:{padding:"10px",textAlign:"center"}},d&&l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{style:{padding:"10px"},item:!0,xs:10},l.a.createElement(le.a,{variant:"h6",gutterBottom:!0},"Camera Id #",d._id.$oid)),l.a.createElement(Oe.a,{style:{padding:"10px"},item:!0,xs:2},l.a.createElement($e.a,{title:d.formatted_address},l.a.createElement(it.a,{fontSize:"large"}))),l.a.createElement(Oe.a,{className:T.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Latitude"),l.a.createElement("div",{className:T.locationParams},d.latitude)),l.a.createElement(Oe.a,{className:T.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Longitude"),l.a.createElement("div",{className:T.locationParams},d.longitude)),l.a.createElement(Oe.a,{className:T.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Country"),l.a.createElement("div",{className:T.locationParams},d.country)),l.a.createElement(Oe.a,{className:T.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"State"),l.a.createElement("div",{className:T.locationParams},d.state)),l.a.createElement(Oe.a,{className:T.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"City"),l.a.createElement("div",{className:T.locationParams},d.city)),l.a.createElement(Oe.a,{className:T.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Sublocality"),l.a.createElement("div",{className:T.locationParams},d.sublocality)))):l.a.createElement("div",{style:{padding:"30px",textAlign:"center"}},"No Camera in the database. Please add a camera to load details."))),l.a.createElement(Oe.a,{style:{paddingBottom:"20px"},container:!0},l.a.createElement(Oe.a,{id:"live",className:T.option,item:!0,xs:6},l.a.createElement(_t.a,null),l.a.createElement(le.a,{className:T.optionTitle},"Live Feed")),l.a.createElement(Oe.a,{id:"video",className:T.option,item:!0,xs:6},l.a.createElement(F.a,null),l.a.createElement(le.a,{className:T.optionTitle},"View All Videos")))),l.a.createElement(Oe.a,{item:!0,md:6,xs:12},l.a.createElement("div",{className:T.mapContainer},l.a.createElement(wt,{width:"100%",height:"80vh",viewState:C,onViewStateChange:function(e){var t=e.viewState;return k(t)},libraries:n})))))},na=a(664),ra=a.n(na),la=a(440),oa=a(665),ca=a.n(oa),ia=a(113),sa=a(1340),ma=a(1243),ua=a(1330),da=a(667),pa=a.n(da),fa=a(666),ga=a.n(fa),Ea=a(435),ba=a.n(Ea),ha=a(668),va=a.n(ha),xa=(a(1051),Object(ne.a)((function(e){return{root:{display:"flex"},margin:{margin:e.spacing(1)},container:{padding:"30px"},dropzone:{margin:"20px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"2px dashed #1c233e",height:"100%",padding:"16px 11px",borderRadius:"5px"},dropzoneContainer:{textAlign:"center"},browseButton:{textTransform:"none",backgroundColor:"#1273eb",color:"#fff",padding:"10px",paddingLeft:"15px",paddingRight:"15px","&:hover":{backgroundColor:"#0a045e"}},drag:{color:"#000",fontSize:"20px",fontWeight:500},or:{color:"#0a045e",fontSize:"15px",fontWeight:400},filePaper:{background:"#2a3f73",border:"1px solid #4f619a"},verticalText:{minHeight:"60px",lineHeight:"60px",textAlign:"center"},verticalSpan:{display:"inline-block",verticalAlign:"middle",lineHeight:"normal"},chooseLocation:{padding:"20px"},locationPaper:{height:"100%",background:"#2a3f73",border:"1px solid #4f619a"},locationButton:{paddingBottom:"10px",background:"#2a3f73",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer","&:hover":{background:"#0a045e",border:"1px solid #0a045e"}},uploadButton:{width:"100%",background:"#30a3f2","&:hover":{background:"#0a045e",color:"#fff"}},locationChooser:{padding:"10px",background:"#2a3f73",border:"1px solid #4f619a",cursor:"pointer","&:hover":{background:"#0a045e",border:"1px solid #0a045e"}},verticalContainer:{height:"75px",position:"relative"},verticalDiv:{textAlign:"center",margin:0,position:"absolute",top:"50%",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},loader:{paddingTop:"50px",paddingBottom:"50px"},progressContainer:{height:"50px",position:"relative"},progressDiv:{margin:0,position:"absolute",top:"50%",msTransform:"translateY(-50%)",transform:"translateY(-50%)"}}}))),ya=function(e){var t=xa();return l.a.createElement(Oe.a,{className:t.locationChooser,onClick:function(){e.setLocation({oid:e.oid,latitude:e.latitude,longitude:e.longitude,name:e.name}),e.setTitle(e.name)},item:!0,lg:2,md:2,sm:4,xs:6},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement("div",{className:t.verticalContainer},l.a.createElement("div",{className:t.verticalDiv},l.a.createElement(Vt.a,{fontSize:"large"})))),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement("div",{style:{fontSize:"12px"}},"Latitude"),l.a.createElement("div",{style:{color:"#fff"}},parseFloat(e.latitude).toFixed(3)),l.a.createElement("div",{style:{fontSize:"12px"}},"Longitude"),l.a.createElement("div",{style:{color:"#fff"}},parseFloat(e.longitude).toFixed(3)))))},Oa=function(e){var t=xa(),a=Object(r.useState)([]),n=Object(u.a)(a,2),o=n[0],c=n[1],i=Object(r.useContext)(m),s=Object(r.useState)([]),d=Object(u.a)(s,2),p=d[0],f=d[1],v=Object(r.useState)("Choose a Location"),y=Object(u.a)(v,2),O=y[0],C=y[1],k=Object(r.useState)(""),j=Object(u.a)(k,2),w=j[0],A=j[1],N=ve(),S=N.isLoading,T=(N.error,N.sendRequest);N.clearError;Object(r.useEffect)((function(){var t=function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("http://localhost:5000/cctv/getcctv","GET",null,{Authorization:"Bearer "+i.token});case 3:t=e.sent,c(t),f(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e.open&&t()}),[e.open,T,i.token]);return l.a.createElement(E.a,{fullWidth:!0,maxWidth:"lg",open:e.open,onClose:e.handleClose,"aria-labelledby":"max-width-dialog-title"},l.a.createElement(b.a,null,l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,md:8,xs:12},O),l.a.createElement(Oe.a,{item:!0,md:4,xs:12},l.a.createElement(At.a,{fullWidth:!0,className:t.margin,id:"input-with-icon-textfield",label:"Search",value:w,onChange:function(e){A(e.target.value);var t=e.target.value,a=o;if(t){for(var n=[],r=0;r<a.length;r++)(a[r].formatted_address.toLowerCase().includes(t.toLowerCase())||a[r].latitude.toString().includes(t)||a[r].longitude.toString().includes(t))&&n.push(a[r]);f(n)}else f(a)},InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(ft.a,null))}})))),l.a.createElement(h.a,null,S&&l.a.createElement("div",{className:t.loader},l.a.createElement(xe,null)),l.a.createElement(Oe.a,{container:!0},p&&p.map((function(t,a){return l.a.createElement(ya,{key:a,oid:t._id.$oid,latitude:t.latitude,longitude:t.longitude,name:t.formatted_address,setLocation:e.setLocation,setTitle:C})})))),l.a.createElement(x.a,null,l.a.createElement(g.a,{autoFocus:!0,onClick:function(){e.setLocation({}),C("Choose a Location")},color:"primary"},"Clear"),l.a.createElement(g.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Ok")))},Ca=function(){var e=xa(),t=Object(r.useContext)(m),a=Object(r.useState)(null),n=Object(u.a)(a,2),o=n[0],c=n[1],i=Object(r.useState)(0),s=Object(u.a)(i,2),d=s[0],p=s[1],f=Object(r.useState)(!1),E=Object(u.a)(f,2),b=E[0],h=E[1],v=Object(r.useState)(!1),x=Object(u.a)(v,2),y=x[0],O=x[1],C=Object(r.useState)(!1),k=Object(u.a)(C,2),j=k[0],w=k[1],A=Object(r.useState)(new Date),N=Object(u.a)(A,2),S=N[0],T=N[1],B=Object(r.useState)(),D=Object(u.a)(B,2),z=D[0],I=D[1],L=Object(r.useState)(!1),R=Object(u.a)(L,2),P=R[0],q=R[1],V=ve(),F=V.error,M=V.clearError,H=V.setErrorText;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa,{open:P,handleClose:function(){q(!1)},setLocation:I}),l.a.createElement("div",{className:e.container},l.a.createElement(Pt.a,{square:!0},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{style:{backgroundColor:"#d6dffe"},item:!0,md:7,sm:12,xs:12},l.a.createElement("div",null,l.a.createElement(ca.a,{className:e.dropzone,accept:"video/mp4, video/x-m4v, video/*",multiple:!1,onDrop:function(e,t,a){e&&e.length>0&&(c(null),console.log(e[0]),c(e[0]))}},l.a.createElement("div",{className:e.dropzoneContainer},l.a.createElement("div",{style:{marginTop:"30px",marginBottom:"30px"}},l.a.createElement("img",{width:"100",src:ga.a,alt:"upload"}),l.a.createElement("p",{className:e.drag},"Drag and drop videos here"),l.a.createElement("p",{className:e.or},"or"),l.a.createElement(g.a,{className:e.browseButton},"Browse Videos")))))),l.a.createElement(Oe.a,{item:!0,md:5,sm:12,xs:12},l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(Pt.a,{className:e.filePaper,variant:"outlined",square:!0},o?l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{className:e.verticalText,item:!0,xs:10},l.a.createElement("span",{className:e.verticalSpan},o.name)),l.a.createElement(Oe.a,{className:e.verticalText,item:!0,xs:2},l.a.createElement(ie.a,{"aria-label":"clear",onClick:function(){c(null)}},l.a.createElement(pa.a,null)))):l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{className:e.verticalText,item:!0,xs:12},"No video uploaded")))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("div",null,l.a.createElement(ia.a,{utils:la.a},l.a.createElement(le.a,{variant:"h5",style:{color:"#758cd1"}},"Date"),l.a.createElement(sa.a,{variant:"inline",ampm:!1,label:"Select Date and Timestamp",value:S,onChange:function(e){T(e)},onError:console.log,format:"yyyy/MM/dd HH:mm"})))),l.a.createElement("div",null,l.a.createElement(Oe.a,{container:!0,className:e.chooseLocation},l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement(Pt.a,{square:!0,className:e.locationPaper},z?l.a.createElement("div",{style:{padding:"5px"}},l.a.createElement("div",{style:{fontSize:"12px"}},"Latitude"),l.a.createElement("div",{style:{color:"#fff"}},z.latitude),l.a.createElement("div",{style:{fontSize:"12px"}},"Longitude"),l.a.createElement("div",{style:{color:"#fff"}},z.longitude)):l.a.createElement(le.a,{style:{marginTop:"14%",fontSize:"18px",textAlign:"center"}},"No Location selected"))),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement(Pt.a,{square:!0,className:e.locationButton,onClick:function(){q(!0)}},l.a.createElement("div",{style:{margin:"10px"}},l.a.createElement(ba.a,{fontSize:"large"})),"Choose Location"))),l.a.createElement(ma.a,{style:{padding:"20px",paddingTop:"0px"},row:!0},l.a.createElement(Ne.a,{control:l.a.createElement(ua.a,{checked:b,onChange:function(){h((function(e){return!e}))},name:"process",color:"primary"}),label:"Process video after uploading"}))),l.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},F&&l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:M},F),j&&l.a.createElement(De.a,{severity:"success",onClose:function(){O(!1),w(!1),p(0)}},l.a.createElement(Nt.a,null,"Success"),l.a.createElement("span",null,l.a.createElement("strong",null,"Camera"))," ","location has been succesfully updated.")),y&&l.a.createElement(Oe.a,{style:{padding:"20px"},container:!0},l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(le.a,{variant:"subtitle1",gutterBottom:!0},"Uploading Video ",d," %")),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement("div",{className:"cssProgress"},l.a.createElement("div",{className:"progress4"},l.a.createElement("div",{className:"cssProgress-bar cssProgress-glow-active cssProgress-lg",style:{width:"".concat(d,"%")}}))))),l.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px",marginBottom:"10px",textAlign:"center"}},l.a.createElement(g.a,{variant:"contained",color:"default",className:e.uploadButton,startIcon:l.a.createElement(va.a,null),onClick:function(){if(o&&S&&z&&"boolean"===typeof b){O(!0),p(0);var e={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);p(t)},headers:{Authorization:"Bearer "+t.token}},a=new FormData;a.append("video",o),a.append("time",String(S)),a.append("location",z.oid),a.append("process",String(b)),ra.a.post("http://localhost:5000/video/addvideo",a,e).then((function(e){console.log(e),M(),I(void 0),c(null),w(!0),h(!1)})).catch((function(e){H(e.message),O(!1)}))}else H("Fields are empty! Please recheck provided params.")},disabled:y},"Upload")))))))},ka=Object(ne.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"100%"}}})),ja=function(){var e=ka();return l.a.createElement("div",{className:e.root},l.a.createElement(Oe.a,{container:!0,spacing:4},l.a.createElement(Oe.a,{item:!0,xl:4,lg:4,md:4,xs:12,sm:12},l.a.createElement(Pt.a,{className:e.paper,square:!0})),l.a.createElement(Oe.a,{item:!0,xl:4,lg:4,md:4,xs:12,sm:12},l.a.createElement(Pt.a,{style:{margin:"auto"},className:e.paper,square:!0},l.a.createElement("div",{style:{marginTop:"50px"}},l.a.createElement("h1",null,"BLANK")))),l.a.createElement(Oe.a,{item:!0,xl:4,lg:4,md:4,xs:12,sm:12},l.a.createElement(Pt.a,{className:e.paper,square:!0},l.a.createElement("div",{style:{marginTop:"50px"}},l.a.createElement("h1",null,"BLANK"))))))},wa=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,null),l.a.createElement(ut.a,{maxWidth:"xl"},l.a.createElement(ja,null)))},Aa=a(306),Na=a.n(Aa),Sa=Object(r.createContext)([null,null]),Ta=function(e){var t=e.reducer,a=e.initialAttribute,n=e.children;return l.a.createElement(Sa.Provider,{value:Object(r.useReducer)(t,a)},n)},Ba=function(){return Object(r.useContext)(Sa)},Da=a(1354),za=a(670),Ia=a.n(za),La=a(17),Ra=a(669),Pa=Object(ne.a)((function(e){return{root:{boxShadow:"none !important"},shape:{width:25,height:25},shapeCircle:{borderRadius:"50%"},typography:{padding:e.spacing(2)}}})),qa=function(e){var t=Pa(),a=Ba(),n=Object(u.a)(a,2),o=(n[0].attributes,n[1]),c=Object(r.useState)(null),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Boolean(s),p=d?"simple-popover":void 0;return l.a.createElement("div",null,l.a.createElement("div",{className:Object(La.a)(t.shape,t.shapeCircle),style:{backgroundColor:"".concat(e.color.hex)},onClick:function(e){m(e.currentTarget)}}),l.a.createElement(zt.a,{id:p,open:d,anchorEl:s,onClose:function(){m(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement(Ra.SketchPicker,{color:e.color.hex,onChangeComplete:function(t){o({type:"updateColor",value:t,pid:e.id,idx:e.index})}})))},Va=["Blazer","Burkha","Chudidar","Long-pants","Saree","Bags","Kurta","Skirt","Strip-dress","Sunglasses","Trousers","shirt"];function Fa(e,t,a){if("string"===typeof e&&(e=document.getElementById(e)),t=t||"jpeg",a=a||.92,!e||"png"!==t&&"jpeg"!==t)return!1;var n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight,n.getContext("2d").drawImage(e,0,0);for(var r=n.toDataURL("image/"+t,a),l=r.split(",")[1],o=r.split(";")[0].slice(5),c=window.atob(l),i=new ArrayBuffer(c.length),s=new Uint8Array(i),m=0;m<c.length;m++)s[m]=c.charCodeAt(m);return{blob:new Blob([s],{type:o}),dataUri:r,format:t}}var Ma=[{frame_sec:0,persons:[{box:[0,0,.3,.3],labels:["shirt"],colors:["#fff222","#fff222"]},{box:[0,0,.3,.3],labels:["shirt"],colors:["#fff222","#fff222"]}]},{frame_sec:.5,persons:[{box:[0,0,.3,.3],labels:["shirt"],colors:["#fff222","#fff222"]},{box:[0,0,.3,.3],labels:["shirt"],colors:["#fff222","#fff222"]}]},{frame_sec:1,persons:[{box:[0,0,.3,.3],labels:["shirt"],colors:["#fff222","#fff222"]},{box:[0,0,.3,.3],labels:["shirt"],colors:["#fff222","#fff222"]}]}],Ha=function(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),n=a[0],o=a[1],c=function(){o(null)},i=Boolean(n),s=i?"simple-popover":void 0,m=Ba(),d=Object(u.a)(m,2),p=(d[0].attributes,d[1]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(zt.a,{id:s,open:i,anchorEl:n,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement("div",{style:{width:"300px"}},Va.map((function(t,a){return l.a.createElement(l.a.Fragment,{key:a},!e.labels.includes(t)&&l.a.createElement(Da.a,{style:{margin:"5px 10px",cursor:"pointer"},color:"secondary",label:t,avatar:l.a.createElement(A.a,null,t.charAt(0)),onClick:function(){p({type:"addLabel",pid:e.id,value:t}),c()}}))})))),l.a.createElement(Oe.a,{container:!0,spacing:2},l.a.createElement(Oe.a,{item:!0,xl:4,lg:4,md:4,xs:4,sm:4},l.a.createElement(le.a,{color:"primary",variant:"h6"},"Person ",e.index+1))),l.a.createElement(Oe.a,{container:!0,spacing:2},l.a.createElement(Oe.a,{item:!0,xs:10},e.labels.map((function(t,a){return l.a.createElement(Da.a,{key:a,style:{margin:"5px 3px",color:"#1C233E",fontWeight:600},color:"primary",label:t,onDelete:function(){return p({type:"removeLabel",pid:e.id,value:t})},avatar:l.a.createElement(A.a,null,t.charAt(0))})})),l.a.createElement(ie.a,{"aria-describedby":s,style:{padding:"1px",color:"#fff"},onClick:function(e){o(e.currentTarget)}},l.a.createElement(Tt.a,null))),l.a.createElement(Oe.a,{item:!0,xs:2},l.a.createElement(Oe.a,{container:!0,spacing:1},e.colors.map((function(t,a){return l.a.createElement(Oe.a,{key:a,item:!0,xs:6},l.a.createElement(qa,{id:e.id,index:a,color:t}))}))),l.a.createElement(Oe.a,{container:!0,style:{marginTop:"10px"},spacing:1},l.a.createElement(Oe.a,{item:!0,xs:6}," ",l.a.createElement(ie.a,{"aria-describedby":s,style:{padding:"1px"},color:"primary",onClick:function(){return p({type:"removeColor",pid:e.id})},disabled:0===e.colors.length},l.a.createElement(Ia.a,null))),l.a.createElement(Oe.a,{item:!0,xs:6}," ",l.a.createElement(ie.a,{"aria-describedby":s,style:{padding:"1px"},color:"primary",onClick:function(){return p({type:"addColor",pid:e.id,value:{hex:"#000"}})},disabled:e.colors.length>3},l.a.createElement(Tt.a,null)))))),l.a.createElement(k.a,{style:{margin:"20px",backgroundColor:"#2db1e1"}}))},Wa=function(e){return l.a.createElement("div",null,e.items.map((function(e,t){return l.a.createElement(Ha,{key:t,id:e.id,index:t,labels:e.labels,colors:e.colors})})))},Ua=a(697),Qa=a(671),Ga=a.n(Qa),Xa=(a(1216),function(e){var t=Object(r.useState)(null),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)({aspect:9/16,unit:"%",x:25,y:25,width:50,height:50}),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Object(r.useCallback)((function(e){o(e)}),[]),p=function(t){if(n&&t.width&&t.height){var a=f(n,t);e.setCroppedSrc(a)}},f=function(e,t){var a=document.createElement("canvas"),n=e.naturalWidth/e.width,r=e.naturalHeight/e.height;a.width=t.width,a.height=t.height;var l=a.getContext("2d");return l&&l.drawImage(e,t.x*n,t.y*r,t.width*n,t.height*r,0,0,t.width,t.height),a.toDataURL("image/jpeg")};return p(s),l.a.createElement(Ga.a,{src:e.src,onImageLoaded:d,crop:s,onChange:function(e){return m(e)},onComplete:p})}),Ka=a(673),Ya=a.n(Ka),Ja=a(672),_a=a.n(Ja),Za=a(674),$a=a.n(Za),en=a(169),tn=a.n(en),an=Object(ne.a)((function(e){return{margin:{margin:e.spacing(1)},locationChooser:{padding:"10px",background:"#2a3f73",border:"1px solid #4f619a",cursor:"pointer","&:hover":{background:"#0a045e",border:"1px solid #0a045e"}},verticalContainer:{height:"75px",position:"relative"},verticalDiv:{textAlign:"center",margin:0,position:"absolute",top:"50%",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},loader:{paddingTop:"50px",paddingBottom:"50px"},selector:{background:"#2db1e1",color:"#0a045e",fontWeight:600}}})),nn=function(e){var t=an();return l.a.createElement(Oe.a,{item:!0,xl:4,lg:4,md:4,xs:12,sm:12,onClick:function(){return e.setVideo(e.oid)},style:{cursor:"pointer"},className:e.video===e.oid?t.selector:""},l.a.createElement("img",{style:{width:"100%"},src:"".concat("http://localhost:5000","/helpers/file/").concat(e.thumbnail_id),alt:"thumbnail"}),e.name)},rn=function(e){var t=e.open,a=e.setVideoTag,n=e.handleClose,o=e.processed,c=ve(),i=c.isLoading,s=c.error,d=c.sendRequest,p=c.clearError,f=an(),v=Object(r.useState)([]),y=Object(u.a)(v,2),O=y[0],C=y[1],j=Object(r.useContext)(m),w=Object(r.useState)([]),A=Object(u.a)(w,2),N=A[0],S=A[1],T=Object(r.useState)(""),B=Object(u.a)(T,2),D=B[0],z=B[1],I=Object(r.useState)(""),L=Object(u.a)(I,2),R=L[0],P=L[1];Object(r.useEffect)((function(){t&&function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("http://localhost:5000/video/getvideo","GET",null,{Authorization:"Bearer "+j.token});case 3:t=e.sent,o&&(t=t.filter((function(e){return!0===e.processed}))),C(t),S(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[t,d,o,j.token]);return l.a.createElement(E.a,{fullWidth:!0,maxWidth:"lg",open:t,onClose:n,"aria-labelledby":"max-width-dialog-title"},l.a.createElement(b.a,null,s&&l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:p},s),l.a.createElement(Oe.a,{container:!0},l.a.createElement(k.a,{style:{color:"#ffffff"}}),l.a.createElement(Oe.a,{item:!0,md:6,xs:12},l.a.createElement("div",null,l.a.createElement(le.a,{style:{fontSize:"20px",color:"#ffffff"},variant:"subtitle2",gutterBottom:!0},"Choose a Video"))),l.a.createElement(Oe.a,{item:!0,md:6,xs:12},l.a.createElement(At.a,{fullWidth:!0,className:f.margin,id:"input-with-icon-textfield",label:"Search",value:D,onChange:function(e){z(e.target.value);var t=e.target.value,a=O;if(t){for(var n=[],r=0;r<a.length;r++)a[r].name.toLowerCase().includes(t.toLowerCase())&&n.push(a[r]);S(n)}else S(a)},InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(ft.a,null))}})))),l.a.createElement(h.a,null,i&&l.a.createElement("div",{className:f.loader},l.a.createElement(xe,null)),l.a.createElement(Oe.a,{container:!0},N&&l.a.createElement(Oe.a,{container:!0,spacing:4},N.map((function(e,t){return l.a.createElement(nn,{key:t,index:t,oid:e._id.$oid,name:e.name,date:e.date,time:e.date,location_id:e.location_id,file_id:e.file_id,thumbnail_id:e.thumbnail_id,duration:e.duration,processed:e.processed,video:R,setVideo:P})}))))),l.a.createElement(x.a,null,l.a.createElement(g.a,{onClick:function(){R&&a(R)},autoFocus:!0,color:"primary",disabled:!R},"Ok"),l.a.createElement(g.a,{autoFocus:!0,color:"primary",onClick:function(){P(null)}},"Clear"),l.a.createElement(g.a,{onClick:n,color:"primary",autoFocus:!0},"Cancel")))},ln=a(208),on=a.n(ln),cn=Object(ne.a)((function(e){return{button:{width:"100%",margin:e.spacing(1),textTransform:"none",fontFamily:"Trebuchet MS, Helvetica, sans-serif",borderRadius:7,fontWeight:600,color:"#1E1E30",fontSize:"15px",background:"#5ce1e6","&:hover":{background:"#ffffff"}},playIcon:{fontSize:"100px"}}})),sn=function(e){var t=e.open,a=e.handleClose,n=e.imagePushHandler,o=cn(),c=Object(r.useState)({}),i=Object(u.a)(c,2),s=i[0],d=i[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),v=f[0],y=f[1],O=Object(r.useState)(""),C=Object(u.a)(O,2),k=C[0],j=C[1],w=function(){return y(!1)},A=Object(r.useRef)(null),N=Object(r.useContext)(m),S=ve().sendRequest;Object(r.useEffect)((function(){k&&(function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S("http://localhost:5000/video/getvideobyid/"+k,"GET",null,{Authorization:"Bearer "+N.token});case 3:t=e.sent,d(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()(),w())}),[k,N.token,S]);return l.a.createElement(E.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(rn,{open:v,setVideoTag:j,handleClose:w,processed:!1}),l.a.createElement(b.a,{id:"alert-dialog-title"},"Capture Frame"),l.a.createElement(h.a,null,l.a.createElement(Oe.a,{container:!0,spacing:2},l.a.createElement(Oe.a,{item:!0,xs:12},Object.keys(s).length>0&&l.a.createElement(on.a,{ref:function(e){A.current=e},controls:!0,url:"".concat("http://localhost:5000","/helpers/video/").concat(s.file_id),light:"".concat("http://localhost:5000","/helpers/file/").concat(s.thumbnail_id),playing:!0,pip:!0,width:"100%",playIcon:l.a.createElement(tn.a,{className:o.playIcon}),config:{file:{attributes:{crossOrigin:"anonymous"}}}})),l.a.createElement(Oe.a,{item:!0,sm:6,xs:12},l.a.createElement(g.a,{className:o.button,onClick:function(){return y(!0)}},"Choose Video")),l.a.createElement(Oe.a,{item:!0,sm:6,xs:12},l.a.createElement(g.a,{className:o.button,onClick:function(){var e=Fa(A.current.getInternalPlayer(),"jpeg",.92);e&&n(e.dataUri),a()},disabled:0===Object.keys(s).length},"Capture Frame")))),l.a.createElement(x.a,null,l.a.createElement(g.a,{onClick:a,color:"primary",autoFocus:!0},"Cancel")))},mn=Object(ne.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},margin:{margin:e.spacing(1)},input:{},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},tryButton:{margin:e.spacing(1),textTransform:"none",fontFamily:"Trebuchet MS, Helvetica, sans-serif",borderRadius:7,fontWeight:600,color:"#1E1E30",fontSize:"15px",background:"#5ce1e6","&:hover":{background:"#ffffff"}},videoCapture:{width:"100%",textTransform:"none",cursor:"pointer",fontSize:"15px",fontWeight:600,padding:"10px 10px",border:"1px solid #2bd1e1"}}})),un=function(e){var t=mn(),a=Object(r.useState)(!0),n=Object(u.a)(a,2),o=n[0],c=(n[1],Object(r.useState)("md")),i=Object(u.a)(c,2),s=i[0],m=(i[1],Object(r.useState)(!1)),d=Object(u.a)(m,2),p=d[0],f=d[1],b=function(){f(!1)},h=Object(r.useState)(e.src),v=Object(u.a)(h,2),x=v[0],y=v[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{fullWidth:o,maxWidth:s,open:p,onClose:b},l.a.createElement(O.a,{className:t.appBar},l.a.createElement(ue.a,null,l.a.createElement(ie.a,{edge:"start",color:"inherit",onClick:b,"aria-label":"close"},l.a.createElement(Mt.a,null)),l.a.createElement(le.a,{variant:"h6",className:t.title},"Crop"),l.a.createElement(g.a,{autoFocus:!0,color:"inherit",onClick:function(){e.imageCropHandler(e.id,x),b()}},"save"))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement(Xa,{src:e.src,croppedSrc:x,setCroppedSrc:y}))),l.a.createElement(Oe.a,{container:!0,spacing:0},l.a.createElement(Oe.a,{item:!0,xs:6,style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("img",{height:"80",width:"80",src:String(e.src),alt:"ImageSrc"})),l.a.createElement(Oe.a,{item:!0,xs:3},l.a.createElement(ie.a,{"aria-label":"crop",className:t.margin,onClick:function(){f(!0)}},l.a.createElement(_a.a,{style:{color:"black"},fontSize:"large"}))),l.a.createElement(Oe.a,{item:!0,xs:3},l.a.createElement(ie.a,{"aria-label":"delete",className:t.margin,onClick:function(){e.imageDeleteHandler(e.id)}},l.a.createElement(Mt.a,{style:{color:"black"},fontSize:"large"})))),l.a.createElement("hr",null))},dn=function(e){return l.a.createElement("div",{style:{marginTop:"20px"}},e.items.map((function(t,a){return l.a.createElement(un,{imageDeleteHandler:e.imageDeleteHandler,imageCropHandler:e.imageCropHandler,key:t.id,id:t.id,index:a,src:t.src})})))},pn=function(){var e=mn(),t=Object(r.useState)([]),a=Object(u.a)(t,2),n=a[0],o=a[1],c=l.a.useState(!1),i=Object(u.a)(c,2),s=i[0],m=i[1],d=function(e){o([].concat(Object(Me.a)(n),[{id:Na()(),src:e}])),console.log(n)};return l.a.createElement("div",null,l.a.createElement(sn,{open:s,handleClose:function(){m(!1)},imagePushHandler:d}),l.a.createElement(g.a,{className:e.videoCapture,component:"span",onClick:function(){m(!0)}},l.a.createElement(tn.a,null)," \xa0 CAPTURE FRAME FROM VIDEO"),l.a.createElement(dn,{items:n,imageDeleteHandler:function(e){o(n.filter((function(t){return t.id!==e})))},imageCropHandler:function(e,t){for(var a=n,r=0;r<a.length;r++)a[r].id===e&&(a[r].id=Na()(),a[r].src=t);o(Object(Me.a)(a))}}),l.a.createElement(Oe.a,{container:!0,spacing:0,style:{marginTop:"30px",marginBottom:"30px"}},l.a.createElement(Oe.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},item:!0,xs:6},l.a.createElement("input",{accept:"image/*",className:e.input,style:{display:"none"},id:"raised-button-file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){d(t.result)})),t.readAsDataURL(e.target.files[0])}},type:"file"}),l.a.createElement("label",{htmlFor:"raised-button-file"},l.a.createElement(g.a,{className:e.tryButton,component:"span"},l.a.createElement(Ya.a,null)," \xa0 ADD IMAGE"))),l.a.createElement(Oe.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},item:!0,xs:6},n.length>0&&l.a.createElement(g.a,{className:e.tryButton,component:"span"},l.a.createElement($a.a,null)," \xa0 GENERATE"))))},fn=a(675),gn=a.n(fn),En=a(1331),bn=Object(ne.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},button:{marginTop:"5px",marginLeft:"5px",width:"100%",textTransform:"none",cursor:"pointer",fontSize:"16px",fontWeight:500,padding:"4px 10px",border:"1px solid #2bd1e1"}}})),hn=function(){var e=bn(),t=Object(r.useState)(""),a=Object(u.a)(t,2),n=a[0],o=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off"},l.a.createElement("div",null,l.a.createElement(At.a,{id:"outlined-multiline-static",label:"Type your query",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",value:n,onChange:function(e){o(e.target.value)}}))),l.a.createElement(Oe.a,{container:!0,spacing:1},l.a.createElement(Oe.a,{item:!0,sm:11,xs:10},l.a.createElement(g.a,{className:e.button,endIcon:l.a.createElement(En.a,null,"send")},"SEND")),l.a.createElement(Oe.a,{item:!0,sm:1,xs:2},l.a.createElement(ie.a,{"aria-label":"voice"},l.a.createElement(gn.a,{color:"primary"})))))},vn=a(1343),xn=a(1329),yn=a(1341),On=function(e){var t=e.children,a=e.value,n=e.index,r=Object(Ua.a)(e,["children","value","index"]);return l.a.createElement(le.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},r),a===n&&l.a.createElement(yn.a,{p:3},t))};function Cn(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var kn=Object(ne.a)((function(e){var t;return{root:(t={},Object(f.a)(t,e.breakpoints.down("md"),{width:"100%"}),Object(f.a)(t,"backgroundColor",e.palette.background.paper),t),tabAppBar:{backgroundColor:e.palette.background.paper}}})),jn=function(){var e=kn(),t=Object(r.useState)(0),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Ba(),i=Object(u.a)(c,2);i[0].attributes,i[1];return l.a.createElement("div",{className:e.root},l.a.createElement(O.a,{className:e.tabAppBar,position:"static",color:"default"},l.a.createElement(vn.a,{value:n,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},l.a.createElement(xn.a,Object.assign({label:"Photo"},Cn(0))),l.a.createElement(xn.a,Object.assign({label:"Type"},Cn(1))))),l.a.createElement(On,{value:n,index:0},l.a.createElement(pn,null)),l.a.createElement(On,{value:n,index:1},l.a.createElement(hn,null)))},wn=a(676),An=a.n(wn),Nn=a(436),Sn=a.n(Nn),Tn=Object(ne.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"100%"},option:{width:"50%",display:"inline-block",padding:"10px",marginTop:"20px",paddingTop:"15px",background:"#2a3f73",color:"#ffffff",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer",fontSize:"15px","&:hover":{background:"#30a3f2",border:"1px solid #30a3f2"}},playIcon:{fontSize:"100px"},tryButton:{margin:e.spacing(1),textTransform:"none",fontFamily:"Trebuchet MS, Helvetica, sans-serif",borderRadius:7,fontWeight:600,color:"#1E1E30",fontSize:"17px",background:"#5ce1e6","&:hover":{background:"#ffffff"}}}})),Bn=function(e){var t=e.video,a=e.setVideo,n=Object(i.h)(),o=Ba(),c=Object(u.a)(o,2),s=c[0].attributes,d=c[1],p=Tn(),f=Object(r.useState)(!1),E=Object(u.a)(f,2),b=E[0],h=E[1],v=Object(r.useState)(""),x=Object(u.a)(v,2),y=x[0],O=x[1],C=function(){return h(!1)},k=Object(r.useContext)(m),j=ve().sendRequest;return Object(r.useEffect)((function(){n.state&&O(String(n.state[0]))}),[n]),Object(r.useEffect)((function(){y&&(function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("http://localhost:5000/video/getvideobyid/"+y,"GET",null,{Authorization:"Bearer "+k.token});case 3:t=e.sent,console.log(t),a(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),C())}),[y,a,k.token,j]),l.a.createElement("div",{className:p.root},l.a.createElement(rn,{open:b,setVideoTag:O,handleClose:C,processed:!1}),l.a.createElement(Oe.a,{container:!0,spacing:4},l.a.createElement(Oe.a,{item:!0,xl:9,lg:9,md:9,xs:12,sm:12},l.a.createElement(Pt.a,{className:p.paper,square:!0},t?l.a.createElement(on.a,{controls:!0,url:"".concat("http://localhost:5000","/helpers/video/").concat(t.file_id),light:"".concat("http://localhost:5000","/helpers/file/").concat(t.thumbnail_id),playing:!0,pip:!0,width:"100%",playIcon:l.a.createElement(tn.a,{className:p.playIcon}),config:{file:{attributes:{crossOrigin:"anonymous"}}}}):l.a.createElement("div",{style:{height:"100%",border:"2px solid #2db1e1",paddingTop:"10vh"}},l.a.createElement("h2",null,"No Video Selected")))),l.a.createElement(Oe.a,{item:!0,xl:3,lg:3,md:3,xs:12,sm:12},l.a.createElement(Pt.a,{className:p.paper,square:!0},l.a.createElement(Oe.a,{container:!0,style:{textAlign:"center"}},l.a.createElement(Oe.a,{style:{marginTop:"10px"},item:!0,xs:12},l.a.createElement("img",{style:{width:"40%",height:"20vh"},src:Sn.a,alt:"qualityIcon"})),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement("div",{className:p.option,onClick:function(){return h(!0)}},"CHOOSE VIDEO"))))),l.a.createElement(Oe.a,{item:!0,xl:6,lg:6,md:6,xs:12,sm:12},l.a.createElement(Pt.a,{className:p.paper,square:!0},l.a.createElement(Wa,{items:s}),l.a.createElement(g.a,{className:p.tryButton,startIcon:l.a.createElement(An.a,null),onClick:function(){return d({type:"addPerson"})}},"Add Person"))),l.a.createElement(Oe.a,{item:!0,xl:6,lg:6,md:6,xs:12,sm:12},l.a.createElement(jn,null))))},Dn=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],o={attributes:[{id:Na()(),labels:["shirt"],colors:[{hex:"#000"}]}]};return l.a.createElement(Ta,{initialAttribute:o,reducer:function(e,t){var a=e.attributes;switch(t.type){case"changeAttribute":return Object(ye.a)(Object(ye.a)({},e),{},{attributes:[t.newAttribute]});case"addPerson":return{attributes:[].concat(Object(Me.a)(e.attributes),[{id:Na()(),labels:["shirt"],colors:[{hex:"#000"}]}])};case"deletePerson":return{attributes:a.filter((function(e){return e.id!==t.pid}))};case"addLabel":return a.forEach((function(e,a){e.id===t.pid&&(e.labels.includes(t.value)||e.labels.push(t.value))})),{attributes:a};case"removeLabel":return a.forEach((function(e,a){if(e.id===t.pid){var n=e.labels.filter((function(e){return e!==t.value}));e.labels=n}})),{attributes:a};case"addColor":return a.forEach((function(e,a){e.id===t.pid&&(e.colors.includes(t.value)||e.colors.push(t.value))})),{attributes:a};case"updateColor":return a.forEach((function(e,a){e.id===t.pid&&(e.colors[t.idx]=t.value)})),{attributes:a};case"removeColor":return a.forEach((function(e,a){e.id===t.pid&&e.colors.pop()})),{attributes:a};default:return e}}},l.a.createElement(C.a,null),l.a.createElement(ut.a,{maxWidth:"xl"},l.a.createElement(Bn,{video:a,setVideo:n})))},zn=Object(ne.a)((function(e){return{option:{width:"50%",display:"inline-block",padding:"10px",marginTop:"100px",paddingTop:"15px",background:"#2a3f73",color:"#ffffff",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer",fontSize:"18px","&:hover":{background:"#30a3f2",border:"1px solid #30a3f2"}}}})),In=function(){var e=Object(i.g)(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],p=zn();return Object(r.useEffect)((function(){m&&e.push("enhance/".concat(m))}),[e,m]),Object(r.useEffect)((function(){return function(){o(!1)}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(rn,{open:n,setVideoTag:d,handleClose:function(){return o(!1)},processed:!1}),l.a.createElement(Oe.a,{container:!0,style:{textAlign:"center"}},l.a.createElement(Oe.a,{style:{marginTop:"100px"},item:!0,xs:12},l.a.createElement("img",{style:{width:"40%",height:"30vh"},src:Sn.a,alt:"qualityIcon"})),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement("div",{className:p.option,onClick:function(){return o(!0)}},"CHOOSE VIDEO"))))},Ln=Object(ne.a)((function(e){return{margin:{margin:e.spacing(1)},locationChooser:{padding:"10px",background:"#2a3f73",border:"1px solid #4f619a",cursor:"pointer","&:hover":{background:"#0a045e",border:"1px solid #0a045e"}},verticalContainer:{height:"75px",position:"relative"},verticalDiv:{textAlign:"center",margin:0,position:"absolute",top:"50%",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},loader:{paddingTop:"50px",paddingBottom:"50px"}}})),Rn=function(e){var t=Ln();return l.a.createElement(Oe.a,{className:t.locationChooser,onClick:function(){e.setLocation({oid:e.oid,latitude:e.latitude,longitude:e.longitude,name:e.name})},item:!0,lg:2,md:2,sm:4,xs:6},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement("div",{className:t.verticalContainer},l.a.createElement("div",{className:t.verticalDiv},l.a.createElement(Vt.a,{fontSize:"large"})))),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement("div",{style:{fontSize:"12px"}},"Latitude"),l.a.createElement("div",{style:{color:"#fff"}},parseFloat(e.latitude).toFixed(3)),l.a.createElement("div",{style:{fontSize:"12px"}},"Longitude"),l.a.createElement("div",{style:{color:"#fff"}},parseFloat(e.longitude).toFixed(3)))))},Pn=function(e){var t=Ln(),a=Object(r.useState)([]),n=Object(u.a)(a,2),o=n[0],c=n[1],i=Object(r.useContext)(m),s=Object(r.useState)([]),d=Object(u.a)(s,2),p=d[0],f=d[1],v=Object(r.useState)(""),y=Object(u.a)(v,2),O=y[0],C=y[1],j=Object(r.useState)(),w=Object(u.a)(j,2),A=w[0],N=w[1],S=ve(),T=S.isLoading,B=S.error,D=S.sendRequest,z=S.clearError;Object(r.useEffect)((function(){var t=function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("http://localhost:5000/cctv/getcctv");case 3:t=e.sent,c(t),f(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e.open&&t()}),[e.open,D]);var I=function(){var t=Object(he.a)(be.a.mark((function t(){var a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!A||!e.video_id){t.next=14;break}return console.log(e.video_id),t.prev=2,t.next=5,D("http://localhost:5000/video/updatevideolocation","PATCH",JSON.stringify({video_id:e.video_id,location_id:A.oid}),{"Content-Type":"application/json",Authorization:"Bearer "+i.token});case 5:a=t.sent,console.log(a),e.setVideo(a),e.handleClose(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(E.a,{fullWidth:!0,maxWidth:"lg",open:e.open,onClose:e.handleClose,"aria-labelledby":"max-width-dialog-title"},l.a.createElement(b.a,null,B&&l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:z},B),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,md:4,xs:12},l.a.createElement("div",null,l.a.createElement(le.a,{style:{color:"#ffffff"},variant:"subtitle2",gutterBottom:!0},"Current Location"),l.a.createElement(le.a,{variant:"subtitle2",gutterBottom:!0},e.camera?"".concat(e.camera.formatted_address):"This video has no Location"))),l.a.createElement(k.a,{style:{color:"#ffffff"}}),l.a.createElement(Oe.a,{item:!0,md:4,xs:12},l.a.createElement("div",null,l.a.createElement(le.a,{style:{color:"#ffffff"},variant:"subtitle2",gutterBottom:!0},"Choose a new Location"),l.a.createElement(le.a,{variant:"subtitle2",gutterBottom:!0},A&&"".concat(A.name)))),l.a.createElement(Oe.a,{item:!0,md:4,xs:12},l.a.createElement(At.a,{fullWidth:!0,className:t.margin,id:"input-with-icon-textfield",label:"Search",value:O,onChange:function(e){C(e.target.value);var t=e.target.value,a=o;if(t){for(var n=[],r=0;r<a.length;r++)(a[r].formatted_address.toLowerCase().includes(t.toLowerCase())||a[r].latitude.toString().includes(t)||a[r].longitude.toString().includes(t))&&n.push(a[r]);f(n)}else f(a)},InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(ft.a,null))}})))),l.a.createElement(h.a,null,T&&l.a.createElement("div",{className:t.loader},l.a.createElement(xe,null)),l.a.createElement(Oe.a,{container:!0},p&&p.map((function(e,t){return l.a.createElement(Rn,{key:t,oid:e._id.$oid,latitude:e.latitude,longitude:e.longitude,name:e.formatted_address,setLocation:N})})))),l.a.createElement(x.a,null,l.a.createElement(g.a,{autoFocus:!0,onClick:I,color:"primary",disabled:!A||!e.video_id||T},"Update"),l.a.createElement(g.a,{autoFocus:!0,onClick:function(){N(null)},color:"primary"},"Clear"),l.a.createElement(g.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Cancel")))},qn=function(e){var t=e.open,a=e.video,n=e.setVideo,o=e.handleClose,c=Object(r.useState)(new Date),i=Object(u.a)(c,2),s=i[0],d=i[1],p=Object(r.useContext)(m),f=ve(),b=f.isLoading,v=f.error,y=f.sendRequest,O=f.clearError;Object(r.useEffect)((function(){t&&a&&d(new Date(a.date+"T"+a.time+"+05:30"))}),[t,a]);var C=function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||!a){e.next=13;break}return console.log(s.toString()),e.prev=2,e.next=5,y("http://localhost:5000/video/updatevideotimestamp","PATCH",JSON.stringify({video_id:a._id.$oid,time:s.toString()}),{"Content-Type":"application/json",Authorization:"Bearer "+p.token});case 5:t=e.sent,n(t),o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(E.a,{open:t,onClose:o},l.a.createElement(h.a,null,l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("div",null,v&&l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:O},v),b?l.a.createElement(xe,null):l.a.createElement(ia.a,{utils:la.a},l.a.createElement(le.a,{variant:"h5",style:{color:"#758cd1"}},"Date"),l.a.createElement(sa.a,{variant:"inline",ampm:!1,label:"Select Date and Timestamp",value:s,onChange:function(e){d(e)},onError:console.log,format:"yyyy/MM/dd HH:mm"}))))),l.a.createElement(x.a,null,l.a.createElement(g.a,{onClick:C,disabled:b,color:"primary"},"Update"),l.a.createElement(g.a,{onClick:o,color:"primary",autoFocus:!0},"Cancel")))},Vn=a(684),Fn=a.n(Vn),Mn=a(683),Hn=a.n(Mn),Wn=a(677),Un=a.n(Wn),Qn=a(678),Gn=a.n(Qn),Xn=a(681),Kn=a.n(Xn),Yn=a(679),Jn=a.n(Yn),_n=a(680),Zn=a.n(_n),$n=a(682),er=a.n($n),tr=Object(ne.a)((function(e){return{root:{flexGrow:1,marginBottom:"20px"},paper:{height:140,width:100},control:{padding:e.spacing(2)},playIcon:{fontSize:"100px"},option:{padding:"10px",paddingTop:"15px",background:"#2a3f73",color:"#ffffff",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer","&:hover":{background:"#30a3f2",border:"1px solid #30a3f2"}},optionTitle:{paddingTop:"10px",fontSize:"15px",fontWeight:400,pointerEvents:"none"},details:{padding:"10px",background:"#2a3f73",color:"#ffffff",border:"1px solid #4f619a"},locationAttributes:{textAlign:"left",marginTop:"8px",marginBottom:"8px"},iconMargin:{"& > *":{marginLeft:e.spacing(2)}},locationParams:{fontSize:"13px",color:"#ffffff",fontWeight:500},camDetails:{padding:"10px 20px",textAlign:"center"},divider:{background:"#323e63"},camHeading:{padding:"15px 15px 5px"},mapContainer:{boxShadow:"-3px 6px 34px 6px rgba(18,25,41,1)",border:"1px solid #4f619a",position:"relative"},noLocation:{textAlign:"center",padding:"50px 10px",fontWeight:500,fontSize:"18px"},content:{padding:"5%"},videoHeader:{background:"#435080"},infoButton:{padding:5,color:"#758cd1"},videocamButton:{padding:5,color:"#ffffff"},filename:{padding:"5px 10px",color:"#ffffff",fontWeight:400},timestamp:{margin:"20px 0px",padding:"10px 10px 5px",border:"2px solid #4f5c88"},mainContent:{margin:"20px 0px"},mainOption:{padding:"10px",paddingTop:"15px",background:"#0a045e",color:"#ffffff",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer","&:hover":{background:"#ffffff",border:"1px solid #30a3f2",color:"#0a045e"}}}})),ar=function(e){var t=e.location,a=e.camera,n=e.setCamera,o=Object(r.useContext)(m),c=tr(),i=ve(),s=i.isLoading,u=i.error,d=i.sendRequest,p=i.clearError;return Object(r.useEffect)((function(){null!==t&&function(){var e=Object(he.a)(be.a.mark((function e(){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("http://localhost:5000/cctv/getcctvbyid/"+t,"GET",null,{Authorization:"Bearer "+o.token});case 3:a=e.sent,console.log(a),n(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n,d,o.token]),l.a.createElement("div",null,s&&l.a.createElement("div",{style:{padding:"40px 0px"}},l.a.createElement(xe,null)),u&&l.a.createElement("div",{style:{marginTop:"20p",marginBottom:"20px"}},l.a.createElement(De.a,{variant:"outlined",style:{color:"#f44336",marginBottom:"10px"},severity:"error",onClose:p},u)),!s&&l.a.createElement("div",null,Object.keys(a).length>0?l.a.createElement("div",null,l.a.createElement("div",{className:c.camHeading},l.a.createElement(le.a,{variant:"subtitle1",gutterBottom:!0},"Camera Id"," ",l.a.createElement("span",{style:{color:"#ffffff"}},"#",a._id.$oid))),l.a.createElement(k.a,{className:c.divider}),l.a.createElement(Oe.a,{className:c.camDetails,container:!0},l.a.createElement(Oe.a,{className:c.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Latitude"),l.a.createElement("div",{className:c.locationParams},a.latitude)),l.a.createElement(Oe.a,{className:c.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Longitude"),l.a.createElement("div",{className:c.locationParams},a.longitude)),l.a.createElement(Oe.a,{className:c.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Country"),l.a.createElement("div",{className:c.locationParams},a.country)),l.a.createElement(Oe.a,{className:c.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"State"),l.a.createElement("div",{className:c.locationParams},a.state)),l.a.createElement(Oe.a,{className:c.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"City"),l.a.createElement("div",{className:c.locationParams},a.city)),l.a.createElement(Oe.a,{className:c.locationAttributes,item:!0,xs:6},l.a.createElement("div",null,"Sublocality"),l.a.createElement("div",{className:c.locationParams},a.sublocality))),l.a.createElement(k.a,{className:c.divider}),l.a.createElement("div",{className:c.details},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{style:{paddingTop:"10px"},item:!0,xs:1},l.a.createElement(Vt.a,null)),l.a.createElement(Oe.a,{item:!0,xs:11},l.a.createElement("div",{style:{color:"#758cd1",padding:"5px 0px",fontSize:"18px",fontWeight:500}},"Address"),a.formatted_address)))):l.a.createElement("div",{className:c.noLocation},"No Location data found. Add a Location to this video.")))},nr=function(){var e=tr(),t=Object(i.g)(),a=Object(i.i)().oid,n=Object(r.useContext)(m),o=ve(),c=o.isLoading,s=o.error,d=o.sendRequest,p=o.clearError,f=o.setErrorText,g=Object(r.useState)({}),E=Object(u.a)(g,2),b=E[0],h=E[1],v=Object(r.useState)({}),x=Object(u.a)(v,2),y=x[0],O=x[1],C=function(e){if(b)switch(e.target.id){case"back":t.push("/library");break;case"track":t.push("/track/".concat(b._id.$oid));break;case"analytics":t.push("/analytics/".concat(b._id.$oid));break;case"process":case"search":t.push("/search",[b._id.$oid]);break;case"enhance":t.push("/enhance/".concat(b._id.$oid));break;case"bookmark":break;case"time":q();break;case"locate":y&&N({latitude:y.latitude,longitude:y.longitude});break;case"edit":z();break;case"delete":U()}else f("No camera found in the database. Start with inserting one.")};Object(r.useEffect)((function(){var e=function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("http://localhost:5000/video/getvideobyid/"+a,"GET",null,{Authorization:"Bearer "+n.token});case 3:t=e.sent,console.log(t),h(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();console.log(a),e()}),[a,d,n.token]);var k=Object(r.useState)({latitude:19.076,longitude:72.8777,zoom:11,pitch:40.5,bearing:.7}),j=Object(u.a)(k,2),w=j[0],A=j[1],N=Object(r.useCallback)((function(e){A((function(t){return Object(ye.a)(Object(ye.a)(Object(ye.a)({},t),e),{},{zoom:11,transitionDuration:2e3,transitionInterpolator:new Ct.a})}))}),[]);Object(r.useEffect)((function(){Object.keys(y).length>0&&N({latitude:y.latitude,longitude:y.longitude})}),[y,N]);var S=Object(r.useState)(!1),T=Object(u.a)(S,2),B=T[0],D=T[1],z=function(){D(!0)},I=Object(r.useState)(!1),L=Object(u.a)(I,2),R=L[0],P=L[1],q=function(){P(!0)},V=Object(r.useState)(!1),F=Object(u.a)(V,2),M=F[0],W=F[1],U=function(){W(!0)},Q=function(){W(!1)},G=function(){var e=Object(he.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("http://localhost:5000/video/deletevideo/"+b._id.$oid,"DELETE");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:Q(),t.push("/library");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pn,{open:B,camera:y,video_id:a,setVideo:h,handleClose:function(){D(!1)}}),l.a.createElement(qn,{open:R,video:b,setVideo:h,handleClose:function(){P(!1)}}),l.a.createElement(Je,{open:M,title:"Delete Camera?",operationHandler:G,handleClose:Q},"This will delete this video from the database. Please confirm if you want to delete the video."),l.a.createElement(Oe.a,{container:!0,className:e.root},l.a.createElement(Oe.a,{item:!0,md:8,xs:12},l.a.createElement("div",{className:e.content},s&&l.a.createElement("div",{style:{marginTop:"20p",marginBottom:"20px"}},l.a.createElement(De.a,{onClose:p,severity:"error"},s)),c&&l.a.createElement("div",{style:{marginTop:"25vh"}},l.a.createElement(xe,null)),Object.keys(b).length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Oe.a,{style:{marginBottom:"10px"},container:!0},l.a.createElement(Oe.a,{className:e.videoHeader,item:!0,md:10,sm:12},l.a.createElement(le.a,{className:e.filename,variant:"subtitle2",gutterBottom:!0},b.name)),l.a.createElement(Oe.a,{style:{textAlign:"center"},item:!0,md:2,xs:12},l.a.createElement("div",{className:e.iconMargin},l.a.createElement($e.a,{title:"Id #".concat(b._id.$oid)},l.a.createElement(ie.a,{color:"primary",className:e.infoButton,"aria-label":"Info"},l.a.createElement(it.a,{fontSize:"small"}))),l.a.createElement($e.a,{title:"Upload Video"},l.a.createElement(ie.a,{color:"primary",className:e.videocamButton,"aria-label":"Upload Video",onClick:function(){t.push("/upload")}},l.a.createElement(ae.a,{fontSize:"small"})))))),l.a.createElement(on.a,{controls:!0,style:{boxShadow:"-3px 6px 34px 6px rgba(18,25,41,1)"},url:"".concat("http://localhost:5000","/helpers/video/").concat(b.file_id),light:"".concat("http://localhost:5000","/helpers/file/").concat(b.thumbnail_id),playing:!0,pip:!0,width:"100%",playIcon:l.a.createElement(tn.a,{className:e.playIcon})}),l.a.createElement(Oe.a,{className:e.timestamp,container:!0},l.a.createElement(Oe.a,{item:!0,xs:11,style:{fontSize:"15px",color:"#ffffff"}},new Date(b.date+"T"+b.time+"+05:30").toString()),l.a.createElement(Oe.a,{item:!0,xs:1},l.a.createElement($e.a,{title:"".concat(b.date," ").concat(b.time)},l.a.createElement(Un.a,{style:{color:"#ffffff"}})))),l.a.createElement(Oe.a,{className:e.mainContent,container:!0},l.a.createElement(Oe.a,{id:"back",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(Gn.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Back to Library")),l.a.createElement(Oe.a,{id:"track",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(Jn.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Realtime Tracking")),l.a.createElement(Oe.a,{id:"analytics",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(Zn.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Video Analytics")),b.processed?l.a.createElement(Oe.a,{id:"search",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(ee.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Search")):l.a.createElement(Oe.a,{id:"process",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(Kn.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Process Video")),l.a.createElement(Oe.a,{id:"enhance",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(H.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Enhance Video")),l.a.createElement(Oe.a,{id:"bookmark",className:e.mainOption,item:!0,md:2,sm:2,xs:6,onClick:C},l.a.createElement(er.a,{fontSize:"large"}),l.a.createElement(le.a,{className:e.optionTitle},"Bookmark Video")))))),l.a.createElement(Oe.a,{item:!0,md:4,xs:12},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(Pt.a,{square:!0},Object.keys(b).length>0&&l.a.createElement(ar,{location:b.location_id,camera:y,setCamera:O}))),l.a.createElement(Oe.a,{id:"time",className:e.option,item:!0,xs:3,onClick:C},l.a.createElement(Wt.a,null),l.a.createElement(le.a,{className:e.optionTitle},"Edit Timestamp")),l.a.createElement(Oe.a,{id:"locate",className:e.option,item:!0,xs:3,onClick:C},l.a.createElement(ba.a,null),l.a.createElement(le.a,{className:e.optionTitle},"Locate Camera")),l.a.createElement(Oe.a,{id:"edit",className:e.option,item:!0,xs:3,onClick:C},l.a.createElement(Hn.a,null),l.a.createElement(le.a,{className:e.optionTitle},"Edit Location")),l.a.createElement(Oe.a,{id:"delete",className:e.option,item:!0,xs:3,onClick:C},l.a.createElement(Fn.a,null),l.a.createElement(le.a,{className:e.optionTitle},"Delete Video")),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement("div",{className:e.mapContainer},l.a.createElement(wt,{width:"100%",height:"30vh",viewState:w,onViewStateChange:function(e){var t=e.viewState;return A(t)},libraries:Object.keys(y).length>0?[y]:[]})))))))},rr=a(701),lr=function(e){var t=e.children,a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],c=n[1],i=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){c((function(t){return t||e.isIntersecting}))}))})),t=i.current;return t&&e.observe(t),function(){t&&e.unobserve(t)}}),[]),l.a.createElement(rr.a,{in:o,timeout:2e3},l.a.createElement("div",{ref:i},t))},or=a(189),cr=a(685),ir=a(1332),sr=a(1333),mr=a(1334),ur=a(686),dr=a.n(ur),pr=Object(ne.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},appBar:{background:"linear-gradient(90deg, rgba(36,44,78,1) 0%, rgba(49,61,100,1) 29%, rgba(63,78,128,1) 51%, rgba(47,58,98,1) 75%, rgba(36,44,78,1) 100%)",zIndex:e.zIndex.drawer+1},toolBar:{width:"100vw",overflowY:"auto"},sectionDesktop:Object(f.a)({display:"none"},e.breakpoints.up("md"),{width:"100%",display:"flex",justifyContent:"flex-end"}),nav:{margin:"0px 5px",textTransform:"none",color:"#ffffff",fontSize:"17px",fontFamily:"Verdana, Geneva, sans-serif","&:hover":{color:"#5ce1e6"}},hamburger:Object(f.a)({display:"flex",width:"100%",justifyContent:"flex-end"},e.breakpoints.up("md"),{display:"none"}),tryButton:{marginLeft:"5px",textTransform:"none",fontFamily:"Trebuchet MS, Helvetica, sans-serif",borderRadius:7,fontWeight:600,color:"#1E1E30",fontSize:"17px",background:"#5ce1e6","&:hover":{background:"#ffffff"}},logoTypo:{marginLeft:"10px",fontFamily:"Verdana, Geneva, sans-serif"},menu:{backgroundColor:"#1E1E30"},menuDivider:{backgroundColor:"#464670"},menuItem:{padding:"24px",color:"#6C757D",fontSize:"16px",fontWeight:600},iconContainer:{textAlign:"right",padding:"10px 20px"}}})),fr=[{text:"Home",section:"section1"},{text:"Features",section:"section2"},{text:"Model",section:"section3"},{text:"Database",section:"section4"},{text:"Techstack",section:"section5"}],gr=function(e){var t=e.children,a=e.window,n=pr(),r=Object(ir.a)({target:a||void 0,disableHysteresis:!0,threshold:100});return l.a.createElement(sr.a,{in:r},l.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t))},Er=function(e){var t=e.to,a=e.children;return l.a.createElement(cr.Link,{activeClass:"active",to:t,spy:!0,smooth:!0,offset:-70,duration:500},a)},br=function(e){var t=e.onClose,a=pr(),n=Object(i.g)();return l.a.createElement("div",{className:a.menu,role:"presentation"},l.a.createElement("div",{className:a.iconContainer},l.a.createElement(ie.a,{edge:"end",color:"inherit","aria-label":"close",onClick:t},l.a.createElement(Mt.a,null))),l.a.createElement(N.a,null,fr.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(k.a,{className:a.menuDivider}),l.a.createElement(Er,{to:e.section},l.a.createElement(T.a,{className:a.menuItem,button:!0},e.text)))}))),l.a.createElement("div",{style:{padding:"24px"}},l.a.createElement(g.a,{className:a.tryButton,onClick:function(){return n.push("/console")}},"Go to Console")))},hr=function(e){var t=pr(),a=Object(i.g)(),n=Object(r.useState)(!1),o=Object(u.a)(n,2),c=o[0],s=o[1],m=function(){return s((function(e){return!e}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,null),l.a.createElement(j.a,{anchor:"top",open:c,onClose:m},l.a.createElement(br,{onClose:m})),l.a.createElement(O.a,{className:t.appBar,style:{alignItems:"center",justifyContent:"center"}},l.a.createElement(ue.a,{className:t.toolBar},l.a.createElement("img",{src:"/logo192.png",className:"nav-logo",alt:"Logo",width:"40",height:"30"}),l.a.createElement(le.a,{className:t.logoTypo,variant:"h6"},"GearStalk"),l.a.createElement("div",{className:t.sectionDesktop},fr.map((function(e,a){return l.a.createElement(g.a,{key:a,className:t.nav},l.a.createElement(Er,{to:e.section},e.text))})),e.isLoggedIn?l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{className:t.tryButton,onClick:function(){return a.push("/console")}},"Go to Console"),l.a.createElement(y,{className:t.nav})):l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{className:t.tryButton,onClick:function(){return a.push("/signup")}},"SignUp"),l.a.createElement(g.a,{className:t.tryButton,onClick:function(){return a.push("/signin")}},"SignIn"))),l.a.createElement("div",{className:t.hamburger},l.a.createElement(ie.a,{edge:"end",color:"inherit","aria-label":"menu",onClick:m},l.a.createElement(me.a,null))))),l.a.createElement(ue.a,{id:"back-to-top-anchor"}),l.a.createElement(gr,e,l.a.createElement(mr.a,{color:"primary",size:"small","aria-label":"scroll back to top"},l.a.createElement(dr.a,null))))},vr=a(190),xr=a(445),yr=a(347),Or=a(688),Cr=a(513),kr=a(514),jr=function(){return Object(r.useEffect)((function(){vr.e(Cr.a),vr.e(kr.a);var e=vr.b("cctvChart",yr.a);e.geodata=Or.a,e.projection=new yr.d.Miller;var t=e.series.push(new yr.c);t.exclude=["AQ"],t.useGeodata=!0;var a=t.mapPolygons.template;a.tooltipText="{name}",a.polygon.fillOpacity=.6,a.states.create("hover").properties.fill=e.colors.getIndex(0);var n=e.series.push(new yr.b);n.mapImages.template.propertyFields.longitude="longitude",n.mapImages.template.propertyFields.latitude="latitude",n.mapImages.template.tooltipText="{title}";var r=n.mapImages.template.createChild(vr.a);r.radius=3,r.propertyFields.fill="color";var l=n.mapImages.template.createChild(vr.a);l.radius=3,l.propertyFields.fill="color",l.events.on("inited",(function(e){!function e(t){t.animate([{property:"scale",from:1,to:5},{property:"opacity",from:1,to:0}],3e3,vr.c.circleOut).events.on("animationended",(function(t){e(t.target.object)}))}(e.target)}));var o="#2563ff";return n.data=[{title:"Brussels",latitude:50.8371,longitude:4.3676,color:o},{title:"Copenhagen",latitude:55.6763,longitude:12.5681,color:o},{title:"Paris",latitude:48.8567,longitude:2.351,color:o},{title:"Reykjavik",latitude:64.1353,longitude:-21.8952,color:o},{title:"Moscow",latitude:55.7558,longitude:37.6176,color:o},{title:"Madrid",latitude:40.4167,longitude:-3.7033,color:o},{title:"London",latitude:51.5002,longitude:-.1262,color:o},{title:"Peking",latitude:39.9056,longitude:116.3958,color:o},{title:"New Delhi",latitude:28.6353,longitude:77.225,color:o},{title:"Mumbai",latitude:19.076,longitude:72.8777,color:o},{title:"Kerala",latitude:10.8505,longitude:76.2711,color:o},{title:"Banglore",latitude:12.9716,longitude:77.5946,color:o},{title:"Tokyo",latitude:35.6785,longitude:139.6823,color:o},{title:"Ankara",latitude:39.9439,longitude:32.856,color:o},{title:"Buenos Aires",latitude:-34.6118,longitude:-58.4173,color:o},{title:"Brasilia",latitude:-15.7801,longitude:-47.9292,color:o},{title:"Ottawa",latitude:45.4235,longitude:-75.6979,color:o},{title:"Washington",latitude:38.8921,longitude:-77.0241,color:o},{title:"Kinshasa",latitude:-4.3369,longitude:15.3271,color:o},{title:"Cairo",latitude:30.0571,longitude:31.2272,color:o},{title:"Pretoria",latitude:-25.7463,longitude:28.1876,color:o}],function(){e.dispose()}}),[]),l.a.createElement("div",{style:{width:"100%",height:"400px"},id:"cctvChart"})},wr=function(){return Object(r.useEffect)((function(){vr.e(Cr.a),vr.e(kr.a);var e=vr.b("pieChart",xr.b);e.hiddenState.properties.opacity=0,e.data=[{feature:"Blazer",detected:201},{feature:"Burkha",detected:161},{feature:"Chudidar",detected:121},{feature:"Long-pants",detected:98},{feature:"Saree",detected:62},{feature:"Kurta",detected:42},{feature:"Skirt",detected:29},{feature:"Strip-dress",detected:18},{feature:"shirt",detected:12},{feature:"Trousers",detected:5}],e.innerRadius=vr.d(40),e.depth=120,e.legend=new xr.a;var t=e.series.push(new xr.c);return t.dataFields.value="detected",t.dataFields.depthValue="detected",t.dataFields.category="feature",t.slices.template.cornerRadius=5,t.colors.step=3,function(){e.dispose()}}),[]),l.a.createElement("div",{style:{maxWidth:"90vw",overflowX:"auto"}},l.a.createElement("div",{style:{width:"600px",height:"400px"},id:"pieChart"}))},Ar=a(1335),Nr=a(1336),Sr=a(1337),Tr=Object(ne.a)({grid:{padding:"15px"},media:{height:180},cardHeight:{maxWidth:250,height:380,backgroundColor:"#333333",color:"white",opacity:.8},Link:{color:"Lightgreen"}}),Br=function(){var e=Tr();return l.a.createElement("div",null,l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1230),title:"Tensorflow JS"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"TensorFlow.JS"),l.a.createElement(le.a,{variant:"body2",component:"p"},"TensorFlow.js is an hardware-accelerated JavaScript library for training and deploying ML models."))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",color:"default"},l.a.createElement(Sr.a,{className:e.Link,href:"https://www.tensorflow.org/js"},"See More"))))),l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1231),title:"React JS"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"ReactJS"),l.a.createElement(le.a,{variant:"body2",component:"p"},"React is a JavaScript library for building user interfaces. It is maintained by Facebook and a large Community."))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",color:"default"},l.a.createElement(Sr.a,{className:e.Link,href:"https://reactjs.org/"},"See More"))))),l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1232),title:"Flask"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Flask"),l.a.createElement(le.a,{variant:"body2",component:"p"},"D3.js is a JavaScript library for producing dynamic, interactive data visualizations in web browsers."))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",color:"default"},l.a.createElement(Sr.a,{className:e.Link,href:"https://d3js.org/"},"See More"))))),l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1233),title:"Material UI"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Material UI"),l.a.createElement(le.a,{variant:"body2",component:"p"},"Material UI provides React components implementing ",l.a.createElement(Sr.a,{className:e.Link,href:"https://material.io/"},"Google's Material Design"),"specification"))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",color:"default"},l.a.createElement(Sr.a,{className:e.Link,href:"https://material-ui.com/"},"See More"))))),l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1234),title:"MongoDB Atlas"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"MongoDB Atlas"),l.a.createElement(le.a,{variant:"body2",component:"p"},"Material UI provides React components implementing ",l.a.createElement(Sr.a,{className:e.Link,href:"https://material.io/"},"Google's Material Design"),"specification"))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",color:"default"},l.a.createElement(Sr.a,{className:e.Link,href:"https://material-ui.com/"},"See More"))))),l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1235),title:"Grid FS"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Grid FS"),l.a.createElement(le.a,{variant:"body2",component:"p"},"Material UI provides React components implementing ",l.a.createElement(Sr.a,{className:e.Link,href:"https://material.io/"},"Google's Material Design"),"specification"))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",color:"default"},l.a.createElement(Sr.a,{className:e.Link,href:"https://material-ui.com/"},"See More"))))),l.a.createElement(Oe.a,{className:e.grid,item:!0,xs:12,sm:6,md:3,lg:3},l.a.createElement(_e.a,{className:e.cardHeight},l.a.createElement(Ar.a,null,l.a.createElement(at.a,{className:e.media,image:a(1236),title:"AMcharts"}),l.a.createElement(Ze.a,null,l.a.createElement(le.a,{gutterBottom:!0,variant:"h5",component:"h2"},"AMcharts"),l.a.createElement(le.a,{variant:"body2",component:"p"},"Material UI provides React components implementing ",l.a.createElement(Sr.a,{className:e.Link,href:"https://material.io/"},"Google's Material Design"),"specification"))),l.a.createElement(Nr.a,null,l.a.createElement(g.a,{size:"small",style:{color:"#ffffff"}},l.a.createElement(Sr.a,{className:e.Link,href:"https://material-ui.com/"},"See More")))))))},Dr=a(512),zr=function(){return l.a.createElement("div",{style:{background:"#1f1f1f",height:"210px"}},l.a.createElement("div",{style:{color:"white",padding:"30px",textAlign:"center"}},l.a.createElement(Dr.b,{size:"40px",href:"#"}),l.a.createElement("br",null),l.a.createElement("br",null),"View the code Here.",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Dr.a,null),"\xa0\xa0 2020 DATA PIRATES.  ALL RIGHTS RESERVED. PRIVACY POLICY"))},Ir=(a(1237),function(e){var t=e.children;return l.a.createElement(Oe.a,{className:"box",item:!0,lg:3,md:4,sm:6,xs:12},l.a.createElement(lr,null,t))}),Lr=function(){var e=Object(i.g)(),t=Object(r.useContext)(m);return l.a.createElement("div",{className:"landing"},l.a.createElement(hr,{isLoggedIn:t.isLoggedIn}),l.a.createElement("div",{className:"section-content rowC section1"},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{style:{paddingLeft:"0px",textAlign:"left",color:"white"},item:!0,md:6,xs:12},l.a.createElement("br",null),l.a.createElement(lr,null,l.a.createElement("button",{style:{background:"linear-gradient(90deg, rgba(29, 36, 63, 1) 5%, rgba(35, 46, 79, 1) 96%)",borderRadius:"50px",padding:"15px",color:"white",fontSize:"15px"}},"Smart India Hackathon Project"),l.a.createElement("br",null),l.a.createElement("h1",{style:{padding:"10px",fontSize:"50px"}},"Textile Detection"),l.a.createElement("h3",{style:{padding:"10px"}},"To configure this component to work with your existing app, you\u2019ll need to import and call initImages, passing an object for configuration. imageResolver is where you will take the processed image object with calculated dimensions and generate a URL that conforms to how your CMS resizes images."),l.a.createElement("br",null),t.isLoggedIn?l.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return e.push("/console")}},"Go to Console"):l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return e.push("/signup")}},"Sign Up"),"\xa0",l.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return e.push("/signin")}},"Log In")),"\xa0\xa0\xa0",l.a.createElement(g.a,{variant:"outlined",color:"primary"},"Github"))),l.a.createElement(Oe.a,{className:"inner-content",style:{paddingLeft:"0px"},item:!0,md:6,xs:12},l.a.createElement(lr,null,l.a.createElement("img",{src:a(1238),className:"start-img",alt:"Start_image"}))))),l.a.createElement("div",{className:"section-content section2",style:{background:"#111"}},l.a.createElement("div",{className:"inner-content"},l.a.createElement("h1",{className:"Headers"},"Features Implemented"),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Ir,null,l.a.createElement(or.a,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature1"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.b,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature2"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.a,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature3"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.b,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature4"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.a,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature5"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.a,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature1"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.b,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature2"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.a,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature3"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.b,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature4"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times.")),l.a.createElement(Ir,null,l.a.createElement(or.a,{size:"90px",color:"blue"}),l.a.createElement("h2",null,"feature5"),l.a.createElement("h5",null,"The leading digital currency by market capitalization, has grown in value by more than 10 times."))))),l.a.createElement("div",{className:"section-content section3"},l.a.createElement("h1",{className:"Headers"},"About the Model"),l.a.createElement("br",null),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,md:6,sm:12,xs:12,style:{paddingLeft:"20px",textAlign:"left"}},l.a.createElement(lr,null,l.a.createElement("h1",{style:{color:"lightgreen"}},"MultiLabel Image classifier"),l.a.createElement("h4",null,"(Resnet Architechture)"),l.a.createElement("h3",null,"To configure this component to work with your existing app, you\u2019ll need to import and call initImages, passing an object for configuration. imageResolver is where you will take the processed image object with calculated dimensions and generate a URL that conforms to how your CMS resizes images.",l.a.createElement("br",null),"The example below connects to a local instance of image-steam and will resize image based on the users viewport and pixel density."))),l.a.createElement(Oe.a,{item:!0,md:6,sm:12,style:{paddingLeft:"10px"}},l.a.createElement(lr,null,l.a.createElement(wr,null))))),l.a.createElement("div",{className:"section-content section4",style:{background:"#111"}},l.a.createElement("h1",{className:"Headers"},"Preparation of the Database"),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,md:6,sm:12},l.a.createElement(lr,null,l.a.createElement(jr,null))),l.a.createElement(Oe.a,{style:{textAlign:"left",color:"#2563ff"},item:!0,md:6,sm:12},l.a.createElement(lr,null,l.a.createElement("h1",{style:{padding:"0px 15px"}},"CCTV Cameras at",l.a.createElement("br",null),"various Locations."),l.a.createElement("h3",{style:{padding:"0px 15px",color:"white"}},"To configure this component to work with your existing app, you\u2019ll need to import and call initImages, passing an object for configuration. imageResolver is where you will take the processed image object with calculated dimensions and generate a URL that conforms to how your CMS resizes images.",l.a.createElement("br",null),"The example below connects to a local instance of image-steam and will resize image based on the users viewport and pixel density."))))),l.a.createElement("div",{className:"section-content section5",style:{padding:"0px",background:"#111"}},l.a.createElement("div",{className:"inner-content"},l.a.createElement("h1",{className:"Headers"},"Technologies Used"),l.a.createElement(Br,null))),l.a.createElement(zr,null))},Rr=a(689),Pr=a.n(Rr),qr=Object(ne.a)((function(e){return{option:{width:"50%",display:"inline-block",padding:"10px",marginTop:"100px",paddingTop:"15px",background:"#2a3f73",color:"#ffffff",border:"1px solid #4f619a",textAlign:"center",cursor:"pointer",fontSize:"18px","&:hover":{background:"#30a3f2",border:"1px solid #30a3f2"}}}})),Vr=function(){var e=Object(i.g)(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],p=qr();return Object(r.useEffect)((function(){m&&e.push("analytics/".concat(m))}),[e,m]),l.a.createElement(l.a.Fragment,null,l.a.createElement(rn,{open:n,setVideoTag:d,handleClose:function(){return o(!1)},processed:!1}),l.a.createElement(Oe.a,{container:!0,style:{textAlign:"center"}},l.a.createElement(Oe.a,{style:{marginTop:"100px"},item:!0,xs:12},l.a.createElement("img",{style:{width:"40%",height:"30vh"},src:Pr.a,alt:"analysisIcon"})),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement("div",{className:p.option,onClick:function(){return o(!0)}},"CHOOSE VIDEO"))))},Fr=a(1355),Mr=a(690),Hr=a.n(Mr),Wr=Object(ne.a)((function(e){return{playIcon:{fontSize:"100px"},infoContainer:{padding:"10px"},info:{paddingTop:"40px",color:"#111",textAlign:"center",height:"100%",backgroundColor:"#0a045e",border:"1px solid #2db1e1"},filterPaper:{height:"100%",padding:"20px 20px",backgroundColor:"#0a045e",border:"1px solid #2db1e1"}}})),Ur=[{key:"contrast",min:0,max:200},{key:"opacity",min:0,max:100},{key:"saturate",min:0,max:100},{key:"brightness",min:0,max:200},{key:"hueRotate",min:0,max:360},{key:"sepia",min:0,max:100},{key:"blur",min:0,max:100},{key:"grayscale",min:0,max:100}],Qr=function(){var e=Wr(),t=Object(i.i)().oid,a=Object(r.useContext)(m),n=Object(r.useState)({}),o=Object(u.a)(n,2),c=o[0],s=o[1],d=Object(r.useState)(null),p=Object(u.a)(d,2),E=p[0],b=p[1],h=ve().sendRequest,v=Object(r.useRef)(null),x=Object(r.useRef)(null),y=Object(r.useState)({contrast:100,opacity:100,saturate:100,brightness:100,hueRotate:0,sepia:0,blur:0,grayscale:0}),O=Object(u.a)(y,2),C=O[0],k=O[1];Object(r.useEffect)((function(){(function(){var e=Object(he.a)(be.a.mark((function e(){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h("http://localhost:5000/video/getvideobyid/"+t,"GET",null,{Authorization:"Bearer "+a.token});case 3:n=e.sent,console.log(n),s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t,h,a.token]);Object(r.useEffect)((function(){E&&x.current&&(console.log(x.current.style.filter),x.current.style.filter="\n      blur(".concat(C.blur,"px)\n      brightness(").concat(C.brightness,"%)\n      contrast(").concat(C.contrast,"%)\n      grayscale(").concat(C.grayscale,"%)\n      hue-rotate(").concat(C.hueRotate,"deg) \n      opacity(").concat(C.opacity,"%)\n      saturate(").concat(C.saturate,"%)\n      sepia(").concat(C.sepia,"%)\n    "))}),[E,C]);var j=function(e,t){console.log(e.target.value),k(Object(ye.a)(Object(ye.a)({},C),{},Object(f.a)({},e.target.id,t)))};return l.a.createElement(Oe.a,{style:{padding:"20px"},container:!0},l.a.createElement(le.a,{variant:"h5",gutterBottom:!0},"Image Quality"),l.a.createElement(Oe.a,{style:{backgroundColor:"#2db1e1",height:"1px",marginBottom:"20px"},item:!0,xs:12}),l.a.createElement(Oe.a,{item:!0,md:6,sm:12,xs:12},l.a.createElement(on.a,{ref:function(e){v.current=e},controls:!0,url:"".concat("http://localhost:5000","/helpers/video/").concat(c.file_id),light:"".concat("http://localhost:5000","/helpers/file/").concat(c.thumbnail_id),playing:!0,pip:!0,width:"100%",playIcon:l.a.createElement(tn.a,{className:e.playIcon}),config:{file:{attributes:{crossOrigin:"anonymous"}}}})),l.a.createElement(Oe.a,{className:e.infoContainer,item:!0,md:6,sm:12,xs:12},l.a.createElement(Oe.a,{container:!0,className:e.info},l.a.createElement(Oe.a,{item:!0,xs:12,style:{padding:"20px"}},l.a.createElement(Hr.a,{style:{color:"2db1e1",fontSize:"100px"}})),l.a.createElement(Oe.a,{item:!0,xs:12,style:{padding:"20px"}},l.a.createElement(g.a,{variant:"contained",style:{backgroundColor:"#2db1e1",fontWeight:500},onClick:function(){var e=Fa(v.current.getInternalPlayer(),"jpeg",.92);e&&b(e.dataUri)}},"CAPTURE FRAME")))),l.a.createElement(Oe.a,{style:{height:"50px"},item:!0,xs:12}),l.a.createElement(Oe.a,{item:!0,md:6,sm:12,xs:12},E&&l.a.createElement("img",{style:{width:"100%"},src:E,alt:"frame",ref:x})),l.a.createElement(Oe.a,{style:{padding:"10px",paddingTop:"0px"},item:!0,md:6,sm:12,xs:12},E&&l.a.createElement(Pt.a,{className:e.filterPaper,square:!0},l.a.createElement(Oe.a,{container:!0,spacing:2},Ur.map((function(e,t){return l.a.createElement(Oe.a,{key:t,item:!0,md:6,xs:12,style:{margin:"10px 0px"}},l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement("div",{style:{fontSize:"17px",fontWeight:600}},e.key.toUpperCase())),l.a.createElement(Oe.a,{item:!0,xs:1},e.min),l.a.createElement(Oe.a,{item:!0,xs:10},l.a.createElement(Fr.a,{id:e.key,value:C[e.key],min:e.min,max:e.max,"aria-labelledby":"continuous-slider",onChange:j})),l.a.createElement(Oe.a,{item:!0,xs:1},e.max)))}))))))},Gr=function(e){var t=e.color;return l.a.createElement("span",{style:{margin:"5px",height:"20px",width:"20px",backgroundColor:"".concat(t),borderRadius:"50%",display:"inline-block"}})},Xr=Object(ne.a)((function(e){return{root:{flexGrow:1,marginBottom:"20px"},playIcon:{margin:"200px 0px",fontSize:"100px",zIndex:10},container:{position:"relative",width:"100%",height:"auto",overflow:"hidden"},canvas:{position:"absolute",width:"100%",height:"500px",top:"0px",left:"0px"},personContainer:{height:"100%",padding:"10px"},person:{border:"1px solid #2db1e1",padding:"10px"},personInfo:{padding:"0px 8px",fontWeight:500,fontSize:"17px"}}})),Kr=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Xr(),c=Object(i.i)().oid,s=Object(r.useContext)(m),d=Object(r.useState)({}),p=Object(u.a)(d,2),f=p[0],g=p[1],E=ve().sendRequest,b=Object(r.useRef)(null),h=Object(r.useRef)(null),v=function(){return n(!0)},x=function(){return n(!1)},y=Object(r.useState)(null),O=Object(u.a)(y,2),C=O[0],k=O[1],j=Object(r.useState)(null),w=Object(u.a)(j,2),N=w[0],S=w[1];return Object(r.useEffect)((function(){f&&k(Ma),b.current&&console.log(b.current)}),[f]),Object(r.useEffect)((function(){var e=function(){var e=Object(he.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("http://localhost:5000/video/getvideobyid/"+c,"GET",null,{Authorization:"Bearer "+s.token});case 3:t=e.sent,console.log(t),g(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();console.log(c),e()}),[c,E,s.token]),function(e,t){var a=Object(r.useRef)(null);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){if(C&&a&&b.current){var e=b.current.getCurrentTime();e%Math.floor(e)>=.5&&(e+=.5),e=Math.floor(2*e);try{console.log(C[e]),S(C[e].persons),function(e,t){var a=t.current.getContext("2d");a.clearRect(0,0,a.canvas.width,a.canvas.height);a.font="10px sans-serif",a.textBaseline="top",e.forEach((function(e){var t=Math.floor(a.canvas.width*e.box[0]+.5),n=Math.floor(a.canvas.height*e.box[1]+.5),r=a.canvas.width*e.box[2],l=a.canvas.height*e.box[3];console.log(t,n,r,l),a.strokeStyle="#2db1e1",a.lineWidth=1,a.strokeRect(t,n,r,l),a.fillStyle="#00FFFF";var o="";e.labels.forEach((function(e){return o=o+", "+e}))}))}(C[e].persons,h)}catch(t){}}}),500),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{style:{padding:"10px"},item:!0,md:8,sm:12,xs:12},l.a.createElement("div",{className:o.container},l.a.createElement("canvas",{width:"100%",height:"auto",className:o.canvas,ref:h}),l.a.createElement(on.a,{ref:function(e){b.current=e},onStart:v,onPlay:v,onPause:x,onEnded:x,controls:!0,style:{boxShadow:"-3px 6px 34px 6px rgba(18,25,41,1)"},width:"100%",height:"auto",url:"".concat("http://localhost:5000","/helpers/video/").concat(f.file_id),light:"".concat("http://localhost:5000","/helpers/file/").concat(f.thumbnail_id),playing:!0,pip:!0,playIcon:l.a.createElement(tn.a,{className:o.playIcon})}))),l.a.createElement(Oe.a,{style:{padding:"10px"},item:!0,md:4,sm:12,xs:12},l.a.createElement(Pt.a,{className:o.personContainer,square:!0},l.a.createElement(le.a,{style:{marginBottom:"10px",fontSize:"15px",fontWeight:500}},"Metadata will appear over here"),N&&N.map((function(e,t){return l.a.createElement("div",{key:t,className:o.person},l.a.createElement("div",{className:o.personInfo},"Person ",t+1),l.a.createElement("div",null,e.colors.map((function(e,t){return l.a.createElement(Gr,{key:t,color:e})}))),l.a.createElement("div",null,e.labels.map((function(e,t){return l.a.createElement(Da.a,{key:t,color:"primary",style:{margin:"5px 3px",color:"#1C233E",fontWeight:600},label:e,avatar:l.a.createElement(A.a,null,e.charAt(0))})}))))})))))},Yr=Object(p.a)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#1c233e",default:"#001f42"},primary:{light:"rgba(133, 59, 188, 1)",main:"#2db1e1",dark:"rgba(21, 0, 93, 1)",contrastText:"#fff"},secondary:{light:"#fff",main:"#4c02ad",dark:"rgba(166, 0, 173, 1)",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"#2db1e1",secondary:"#2db1e1",disabled:"#000",hint:"#000"}}}),Jr=function(){var e,t=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(r.useState)(),c=Object(u.a)(o,2),i=c[0],s=c[1],m=Object(r.useState)(!1),d=Object(u.a)(m,2),p=d[0],f=d[1],g=Object(r.useCallback)((function(e,t,a){l(t),f(e);var n=a||new Date((new Date).getTime()+36e5);s(n),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:n.toISOString()}))}),[]),E=Object(r.useCallback)((function(){l(null),s(null),f(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(a&&i){var e=i.getTime()-(new Date).getTime();n=setTimeout(E,e)}else clearTimeout(n)}),[a,E,i]),Object(r.useEffect)((function(){var e=localStorage.getItem("userData"),t=null;null!==e&&(t=JSON.parse(e)),t&&t.token&&new Date(t.expiration)>new Date&&g(t.userId,t.token,new Date(t.expiration))}),[g]),{token:a,login:g,logout:E,userId:p}}(),a=t.token,o=t.login,c=t.logout,p=t.userId;return e=l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/",exact:!0},l.a.createElement(Lr,null)),l.a.createElement(i.b,{path:"/console",exact:!0},l.a.createElement(ge,null,l.a.createElement(wa,null))),l.a.createElement(i.b,{path:"/library",exact:!0},l.a.createElement(ge,null,l.a.createElement(Ot,null))),l.a.createElement(i.b,{path:"/play/:oid",exact:!0},l.a.createElement(ge,null,l.a.createElement(nr,null))),l.a.createElement(i.b,{path:"/enhance/:oid",exact:!0},l.a.createElement(ge,null,l.a.createElement(Qr,null))),l.a.createElement(i.b,{path:"/analytics/:oid",exact:!0},l.a.createElement(ge,null,l.a.createElement(Kr,null))),l.a.createElement(i.b,{path:"/search",exact:!0},l.a.createElement(ge,null,l.a.createElement(Dn,null))),l.a.createElement(i.b,{path:"/videoquality",exact:!0},l.a.createElement(ge,null,l.a.createElement(In,null))),l.a.createElement(i.b,{path:"/visualization",exact:!0},l.a.createElement(ge,null,l.a.createElement(Vr,null))),l.a.createElement(i.b,{path:"/upload",exact:!0},l.a.createElement(ge,null,l.a.createElement(Ca,null))),l.a.createElement(i.b,{path:"/cctv",exact:!0},l.a.createElement(ge,null,l.a.createElement(aa,null))),l.a.createElement(i.a,{to:"/search"})),l.a.createElement(d.a,{theme:Yr},l.a.createElement(m.Provider,{value:{isLoggedIn:!!a,token:a,userId:p,login:o,logout:c}},l.a.createElement(s.a,null,e)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Jr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},436:function(e,t,a){e.exports=a.p+"static/media/quality.153c006f.svg"},511:function(e,t){},650:function(e,t,a){e.exports=a.p+"static/media/cctv.51e90fbf.svg"},666:function(e,t,a){e.exports=a.p+"static/media/upload.cfae1e12.svg"},689:function(e,t,a){e.exports=a.p+"static/media/analysis.81a55fb7.svg"},773:function(e,t,a){e.exports=a(1239)}},[[773,1,3]]]);
//# sourceMappingURL=main.5410f168.chunk.js.map