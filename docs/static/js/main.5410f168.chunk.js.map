{"version":3,"sources":["components/landing/images/tensorflow.png","components/landing/images/reactjs.png","components/landing/images/flask.png","components/landing/images/materialui.png","components/landing/images/mongodb.png","components/landing/images/gridfs.png","components/landing/images/amcharts.png","components/landing/images/start.png","components/hooks/auth-hook.tsx","components/context/auth-context.tsx","components/auth/Logout.tsx","components/utils/SideDrawer.tsx","components/utils/ResponsiveDrawer.tsx","components/hooks/http-hook.tsx","components/utils/LoadingSpinner.tsx","components/database/FilterDialog.tsx","components/hooks/audio-hook.tsx","components/utils/MicIcon.tsx","components/utils/MicDialog.tsx","components/utils/UtilDialog.tsx","components/database/VideoCard.tsx","components/database/Library.tsx","components/database/CamMap.tsx","components/database/AddCamera.tsx","components/database/Camera.tsx","components/database/Upload.tsx","components/utils/AutoGrid.tsx","components/utils/Console.tsx","components/context/attribute-context.tsx","components/tools/ColorCircle.tsx","components/utils/utils.ts","components/tools/AttributeList.tsx","components/tools/Cropper.tsx","components/tools/ChooseDialog.tsx","components/tools/CaptureDialog.tsx","components/tools/ImageCrop.tsx","components/tools/QueryField.tsx","components/tools/SearchTabs.tsx","components/tools/SearchGrid.tsx","components/tools/Search.tsx","components/tools/VideoQuality.tsx","components/database/LocDialog.tsx","components/database/TimeDialog.tsx","components/database/Play.tsx","components/utils/FadeIn.tsx","components/landing/Header.tsx","components/landing/Charts.tsx","components/landing/Techstack.tsx","components/landing/Footer.tsx","components/landing/Landing.tsx","components/tools/Visualization.tsx","components/tools/Enhance.tsx","components/utils/Dot.tsx","components/tools/Analytics.tsx","components/hooks/time-hook.tsx","App.tsx","components/theme/theme.ts","serviceWorker.ts","index.tsx","components/tools/quality.svg","components/utils/cctv.svg","components/database/upload.svg","components/tools/analysis.svg"],"names":["module","exports","logoutTimer","AuthContext","createContext","isLoggedIn","userId","token","login","logout","Logout","className","auth","useContext","useState","open","setOpen","handleClose","Button","color","onClick","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","autoFocus","useStyles","makeStyles","theme","root","display","button","margin","spacing","drawer","breakpoints","up","width","flexShrink","toolbar","mixins","drawerPaper","paddingTop","divider","backgroundColor","red","SideDrawer","props","history","useHistory","classes","useTheme","pushLink","link","push","handleDrawerToggle","style","background","ListItem","ListItemIcon","fontSize","Typography","fontWeight","Divider","List","Avatar","ListItemText","primary","ListSubheader","component","aria-label","Hidden","lgUp","Drawer","container","variant","anchor","direction","mobileOpen","paper","ModalProps","keepMounted","mdDown","appBar","zIndex","menuButton","marginRight","content","flexGrow","title","ResponsiveDrawer","React","setMobileOpen","CssBaseline","AppBar","position","Toolbar","IconButton","edge","src","cctv","alt","textDecoration","to","marginTop","children","useHttpClient","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","fetch","mode","signal","redirect","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","setErrorText","LoadingSpinner","textAlign","asOverlay","record","duration","sort","type","expand","padding","heading","typography","pxToRem","fontWeightRegular","expandIcon","FilterDialog","useReducer","state","action","value","dispatch","handleChange","event","target","name","filterHandler","process","JSON","stringify","Authorization","setVideos","console","log","alignItems","paddingLeft","marginBottom","Alert","severity","Grid","item","sm","xs","ExpansionPanel","ExpansionPanelSummary","aria-controls","ExpansionPanelDetails","FormControl","RadioGroup","onChange","map","r","index","FormControlLabel","key","control","Radio","label","d","t","s","disabled","mediaOptions","useRecorder","audioURL","setAudioURL","initialValue","isRecording","setIsRecording","toggleIsRecording","useToggle","recorder","stream","navigator","mediaDevices","getUserMedia","audio","video","then","str","MediaStreamRecorder","mimeType","bufferSize","sampleRate","ondataavailable","blob","catch","err","startRecording","start","stopRecording","stop","clearRecording","getAudioTracks","track","MicIcon","MicDialog","onText","text","setText","toggleVoice","data","FormData","Blob","append","UtilDialog","operationHandler","border","cursor","details","flexDirection","maxWidth","flex","cover","controls","paddingBottom","playIcon","palette","height","optionIcon","VideoCard","anchorEl","setAnchorEl","deleteOpen","setDeleteOpen","handleDeleteClose","deleteVideoHandler","oid","videoDeletor","xl","lg","md","Card","square","CardContent","processed","Tooltip","currentTarget","Boolean","MenuItem","CardMedia","image","thumbnail_id","overflow","overflowX","topContainer","search","input","marginLeft","iconButton","iconMargin","Library","setSearch","setFilter","videos","homeVideos","setHomeVideos","fetchVideos","searchHandler","micOpen","setMicOpen","operation","_id","$oid","Fragment","Container","InputBase","placeholder","inputProps","onKeyPress","e","preventDefault","orientation","length","gutterBottom","date","time","location_id","file_id","CamMap","viewState","onViewStateChange","libraries","useMemo","items","i","longitude","latitude","formatted_address","address","location","setLocation","layers","ScatterplotLayer","getRadius","radiusMaxPixels","radiusMinPixels","getFillColor","stroked","getLineWidth","lineWidthMaxPixels","getLineColor","getPosition","pickable","object","mapStyle","textPicker","paddingRight","loader","justifyContent","multilineColor","AddCamera","success","setSuccess","insertHandler","lat","parseFloat","lon","setLocationData","camera","setCamera","AlertTitle","TextField","InputProps","locationChooser","verticalContainer","verticalDiv","top","msTransform","transform","option","optionTitle","pointerEvents","locationDetails","dark","locationAttributes","locationParams","mapContainer","boxShadow","LocationItem","changeCameraHandler","toFixed","LocationPopover","searchText","setSearchText","searchData","setSearchData","locationData","anchorMenu","setAnchorMenu","handleCloseMenu","deleteAllCameraHandler","Popover","anchorOrigin","vertical","horizontal","transformOrigin","fullWidth","filterItems","toLowerCase","includes","toString","startAdornment","InputAdornment","aria-haspopup","overflowY","minWidth","EditPopper","newCamera","setNewCamera","updateHandler","clearSuccess","setEditOpen","prev","Popper","placement","transition","TransitionProps","Fade","timeout","Paper","Camera","zoom","pitch","bearing","setViewState","fetchLocations","editEl","setEditEl","editOpen","handleFlyTo","destination","v","transitionDuration","transitionInterpolator","FlyToInterpolator","undefined","optionHandler","handleEdit","handleClick","deleteCameraHandler","country","city","sublocality","dropzone","borderRadius","dropzoneContainer","browseButton","textTransform","drag","or","filePaper","verticalText","minHeight","lineHeight","verticalSpan","verticalAlign","chooseLocation","locationPaper","locationButton","uploadButton","progressContainer","progressDiv","setTitle","LocationDialog","Upload","videoFile","setVideoFile","progress","setProgress","processVideo","setProcessVideo","uploading","setUploading","Date","selectedDate","setSelectedDate","accept","multiple","onDrop","accepted","rejected","links","upload","utils","DateFnsUtils","ampm","onError","format","FormGroup","row","Switch","checked","p","startIcon","config","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","String","axios","post","res","secondary","AutoGrid","Console","AttributeContext","AttributeProvider","reducer","initialAttribute","Provider","useAttribute","shape","shapeCircle","ColorCircle","attributes","clsx","hex","onChangeComplete","pid","idx","stopwords","captureVideoFrame","vid","quality","document","getElementById","canvas","createElement","videoWidth","videoHeight","getContext","drawImage","dataUri","toDataURL","split","slice","bytes","window","atob","buf","ArrayBuffer","arr","Uint8Array","charCodeAt","frame_sec","persons","box","labels","colors","AttributeItem","sw","Chip","avatar","charAt","onDelete","AttributeList","attribute","Cropper","imgRef","setImgRef","aspect","unit","x","y","crop","setCrop","onLoad","img","makeClientCrop","croppedImageUrl","getCroppedImg","setCroppedSrc","scaleX","naturalWidth","scaleY","naturalHeight","ctx","onImageLoaded","c","onComplete","selector","ChooseItem","setVideo","ChooseDialog","setVideoTag","videoData","setVideoData","fontFamily","CaptureDialog","imagePushHandler","choose","setChoose","videoTag","handleCloseChoose","playerRef","fetchVideo","Object","keys","ref","player","light","playing","pip","file","crossOrigin","frame","getInternalPlayer","tryButton","videoCapture","ImageItem","show","setShow","closeModal","croppedSrc","imageCropHandler","imageDeleteHandler","ImageList","ImageCrop","imgSrc","setImgSrc","result","uuid","newImg","files","reader","FileReader","addEventListener","readAsDataURL","htmlFor","QueryField","setValue","noValidate","autoComplete","multiline","rows","endIcon","Icon","TabPanel","other","role","hidden","Box","a11yProps","down","tabAppBar","SearchTabs","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","SearchGrid","useLocation","qualityIcon","Search","newAttribute","newLabels","pop","VideoQuality","LocDialog","UpdateLocationHandler","video_id","TimeDialog","updateTimeHandler","camDetails","camHeading","noLocation","videoHeader","infoButton","videocamButton","filename","timestamp","mainContent","mainOption","CamDisplay","fetchCamera","Play","useParams","handleTimeOpen","handleLocationOpen","handleDeleteOpen","locationOpen","setLocationOpen","timeOpen","setTimeOpen","FadeIn","isVisible","setVisible","domRef","observer","IntersectionObserver","entries","entry","isIntersecting","observe","unobserve","Grow","in","bottom","right","toolBar","sectionDesktop","nav","hamburger","logoTypo","menu","menuDivider","menuItem","iconContainer","section","ScrollTop","trigger","useScrollTrigger","disableHysteresis","threshold","Zoom","ownerDocument","querySelector","scrollIntoView","behavior","block","ScrollLink","activeClass","spy","smooth","offset","TopMenu","m","Header","toggleDrawer","Fab","size","WorldMap","am4core","am4themes_dark","am4themes_animated","chart","am4maps","geodata","am4geodata_worldLow","projection","Miller","polygonSeries","series","exclude","useGeodata","polygonTemplate","mapPolygons","template","tooltipText","polygon","fillOpacity","states","create","properties","fill","getIndex","imageSeries","mapImages","propertyFields","circle","createChild","radius","circle2","events","on","animateBullet","animate","property","from","circleOut","colorSet","dispose","PieChart","am4charts","hiddenState","opacity","feature","detected","innerRadius","depth","legend","dataFields","depthValue","category","slices","cornerRadius","step","grid","media","cardHeight","Link","Techstack","CardActionArea","require","CardActions","href","Footer","Feature","Landing","Visualization","analysisIcon","infoContainer","info","filterPaper","filterMap","min","max","Enhance","setImage","imageRef","contrast","saturate","brightness","hueRotate","sepia","blur","grayscale","handleFilter","f","toUpperCase","Slider","Dot","left","personContainer","person","personInfo","Analytics","isPlaying","setIsPlaying","canvasRef","handleIsPlaying","handleIsNotPlaying","metadata","setMetadata","currentData","setCurrentData","callback","delay","savedCallback","setInterval","clearInterval","useInterval","ct","getCurrentTime","floor","clearRect","font","textBaseline","strokeStyle","lineWidth","strokeRect","fillStyle","renderPredictions","onStart","onPlay","onPause","onEnded","cd","createMuiTheme","common","black","white","default","main","contrastText","hint","App","routes","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","uid","expirationDate","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","getItem","storedData","parse","useAuth","path","exact","ThemeProvider","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5410f168.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tensorflow.ccd3039c.png\";","module.exports = __webpack_public_path__ + \"static/media/reactjs.549a2528.png\";","module.exports = __webpack_public_path__ + \"static/media/flask.af103f13.png\";","module.exports = __webpack_public_path__ + \"static/media/materialui.a019edaf.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/gridfs.6847457e.png\";","module.exports = __webpack_public_path__ + \"static/media/amcharts.a19da3c3.png\";","module.exports = __webpack_public_path__ + \"static/media/start.3df4d356.png\";","import { useState, useCallback, useEffect } from 'react';\r\n\r\nlet logoutTimer: NodeJS.Timeout;\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState<boolean | string | null>(false);\r\n  const [tokenExpirationDate, setTokenExpirationDate] = useState<any>();\r\n  const [userId, setUserId] = useState<boolean | string | null>(false);\r\n\r\n  const login: (uid: any, token: any, expirationDate: any) => void = useCallback((uid, token, expirationDate) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    const tokenExpirationDate =\r\n      expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n    setTokenExpirationDate(tokenExpirationDate);\r\n    localStorage.setItem(\r\n      'userData',\r\n      JSON.stringify({\r\n        userId: uid,\r\n        token: token,\r\n        expiration: tokenExpirationDate.toISOString()\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setTokenExpirationDate(null);\r\n    setUserId(null);\r\n    localStorage.removeItem('userData');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token && tokenExpirationDate) {\r\n      const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\r\n      logoutTimer = setTimeout(logout, remainingTime);\r\n    } else {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, [token, logout, tokenExpirationDate]);\r\n\r\n  useEffect(() => {\r\n    let item: string | null = localStorage.getItem('userData')\r\n    let storedData: { [key: string] : any } | null = null\r\n    if (item !== null) {\r\n      storedData = JSON.parse(item)\r\n    }\r\n    if (\r\n      storedData &&\r\n      storedData.token &&\r\n      new Date(storedData.expiration) > new Date()\r\n    ) {\r\n      login(storedData.userId, storedData.token, new Date(storedData.expiration));\r\n    }\r\n  }, [login]);\r\n\r\n  return { token, login, logout, userId };\r\n};","import { createContext } from \"react\";\r\n\r\ninterface Auth {\r\n  isLoggedIn: boolean;\r\n  userId: string | boolean | null;\r\n  token: string | boolean | null;\r\n  login: (uid: any, token: any, expirationDate: any) => void;\r\n  logout: () => void;\r\n}\r\n\r\nexport const AuthContext = createContext<Auth>({\r\n  isLoggedIn: false,\r\n  userId: null,\r\n  token: null,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport { AuthContext } from \"../context/auth-context\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\n\r\nconst Logout: React.FC<Props> = ({ className }) => {\r\n  const auth = useContext(AuthContext);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button className={className} color=\"inherit\" onClick={handleClickOpen}>\r\n        Logout\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{\"Logout?\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Are you sure you want to logout?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            No\r\n          </Button>\r\n          <Button onClick={auth.logout} color=\"primary\" autoFocus>\r\n            Yes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport List from '@material-ui/core/List';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport AccessibilityIcon from '@material-ui/icons/Accessibility';\r\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\r\nimport CameraEnhanceIcon from '@material-ui/icons/CameraEnhance';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\nimport MapIcon from '@material-ui/icons/Map';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport StreetviewIcon from '@material-ui/icons/Streetview';\r\nimport ImageSearchIcon from '@material-ui/icons/ImageSearch';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\n\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    [theme.breakpoints.up('lg')]: {\r\n      paddingTop: \"64px\",\r\n    },\r\n  },  \r\n  divider: {\r\n    backgroundColor: '#505c94',\r\n  },\r\n  red: {\r\n    color: 'red'\r\n  }\r\n}));\r\n\r\nconst SideDrawer = props => {\r\n    let history = useHistory();\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    const pushLink = link => {\r\n      history.push(link);\r\n      props.handleDrawerToggle();\r\n    }\r\n\r\n    const drawer = (\r\n        <div style={{ background: 'linear-gradient(90deg, rgba(45,55,90,1) 4%, rgba(37,47,80,1) 18%, rgba(33,40,66,1) 38%, rgba(28,35,62,1) 82%)'}}>\r\n            <ListItem classes={{root: classes.root}} button>\r\n                <ListItemIcon><AppsIcon color=\"primary\" fontSize=\"large\" /></ListItemIcon>\r\n                <Typography color=\"primary\" style={{ fontSize: '25px', fontWeight: 500 }}>\r\n                    Console\r\n                </Typography>\r\n              </ListItem>\r\n          <Divider className={classes.divider} />\r\n          <List>\r\n            <ListItem button onClick={() => {pushLink('/')}}>\r\n                <ListItemIcon><Avatar><DashboardIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Dashboard\" />\r\n              </ListItem>\r\n              <ListItem button>\r\n                <ListItemIcon><Avatar><AccessibilityIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Activity\" />\r\n              </ListItem>\r\n          </List>\r\n          <Divider className={classes.divider} />\r\n          <List>\r\n          <ListSubheader component=\"div\">\r\n            DATABASE\r\n          </ListSubheader>  \r\n          <ListItem button onClick={() => {pushLink('/library')}}>\r\n                <ListItemIcon><Avatar><VideoLibraryIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Library\" />\r\n              </ListItem>\r\n              <ListItem button onClick={() => {pushLink('/upload')}}>\r\n                <ListItemIcon><Avatar><AddPhotoAlternateIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Add Video\" />\r\n              </ListItem>\r\n              <ListItem button onClick={() => {pushLink('/cctv')}}>\r\n                <ListItemIcon><Avatar><VideocamIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Camera\" />\r\n              </ListItem>\r\n          </List>\r\n          <Divider className={classes.divider} />\r\n          <List>\r\n          <ListSubheader component=\"div\">\r\n            TOOLS\r\n          </ListSubheader>\r\n              <ListItem button onClick={() => {pushLink('/search')}}>\r\n                <ListItemIcon><Avatar><ImageSearchIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Search\" />\r\n              </ListItem>  \r\n              <ListItem button onClick={() => {pushLink('/videoquality')}}>\r\n                <ListItemIcon><Avatar><CameraEnhanceIcon fontSize=\"small\" /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Video Quality\" />\r\n              </ListItem>\r\n              <ListItem button onClick={() => {pushLink('/visualization')}}>\r\n                <ListItemIcon><Avatar><InsertChartIcon  fontSize=\"small\" /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Visualization\" />\r\n              </ListItem>\r\n          </List>\r\n          <Divider className={classes.divider} />\r\n          <List>\r\n          <ListSubheader component=\"div\">\r\n            REALTIME MAPPING\r\n          </ListSubheader>  \r\n            <ListItem button onClick={() => {pushLink('/maps')}}>\r\n                <ListItemIcon><Avatar><MapIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Maps\" />\r\n              </ListItem>\r\n              <ListItem button>\r\n                <ListItemIcon><Avatar><StreetviewIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Streetview\" />\r\n              </ListItem>\r\n              <ListItem button>\r\n                <ListItemIcon><Avatar><PersonPinIcon fontSize='small' /></Avatar></ListItemIcon>\r\n                <ListItemText primary=\"Pinpoint\" />\r\n              </ListItem>\r\n          </List>\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        <Hidden lgUp>\r\n          <Drawer\r\n            container={props.container}\r\n            variant=\"temporary\"\r\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n            open={props.mobileOpen}\r\n            onClose={props.handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden mdDown>\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav> \r\n  );\r\n}\r\n\r\nexport default SideDrawer;","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport Logout from \"../auth/Logout\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport SideDrawer from \"./SideDrawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport cctv from \"./cctv.svg\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    background:\r\n      \"linear-gradient(90deg, rgba(36,44,78,1) 0%, rgba(49,61,100,1) 29%, rgba(63,78,128,1) 51%, rgba(47,58,98,1) 75%, rgba(36,44,78,1) 100%)\",\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  container?: any;\r\n}\r\n\r\nconst ResponsiveDrawer: React.FC<Props> = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  const { container } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            <span style={{ marginRight: \"20px\" }}>\r\n              <img width=\"30\" src={cctv} alt=\"cctv\" />\r\n            </span>\r\n            gearStalk\r\n          </Typography>\r\n          {!auth.isLoggedIn && (\r\n            <Button color=\"inherit\">\r\n              <Link\r\n                style={{\r\n                  color: \"white\",\r\n                  textDecoration: \"none\",\r\n                  fontSize: \"16px\",\r\n                }}\r\n                to=\"/signin\"\r\n              >\r\n                Login\r\n              </Link>\r\n            </Button>\r\n          )}\r\n          {auth.isLoggedIn && <Logout />}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideDrawer\r\n        theme={theme}\r\n        container={container}\r\n        handleDrawerToggle={handleDrawerToggle}\r\n        mobileOpen={mobileOpen}\r\n        setMobileOpen={setMobileOpen}\r\n      />\r\n      <main className={classes.content}>\r\n        <div style={{ marginTop: \"70px\" }}>{props.children}</div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nResponsiveDrawer.propTypes = {\r\n  container: PropTypes.any,\r\n};\r\n\r\nexport default ResponsiveDrawer;\r\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<Error | string | null>();\r\n\r\n  const activeHttpRequests = useRef<AbortController[]>([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = 'GET', body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          mode: 'cors',\r\n          signal: httpAbortCtrl.signal,\r\n          redirect: 'follow'\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          reqCtrl => reqCtrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  const setErrorText = (message: string) => {\r\n    setError(message)\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, clearError, setErrorText };\r\n};\r\n","import React from \"react\";\r\nimport \"./LoadingSpinner.css\";\r\n\r\ninterface Props {\r\n  asOverlay?: boolean;\r\n}\r\n\r\nconst LoadingSpinner: React.FC<Props> = (props) => {\r\n  return (\r\n    <div\r\n      style={{ textAlign: \"center\" }}\r\n      className={`${props.asOverlay && \"loading-spinner__overlay\"}`}\r\n    >\r\n      <div className=\"lds-grid\">\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import React, { useReducer, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  Grid,\r\n  DialogTitle,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  Typography,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  FormControl,\r\n} from \"@material-ui/core\";\r\n\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport TuneIcon from \"@material-ui/icons/Tune\";\r\n\r\nconst record: string[] = [\r\n  \"None\",\r\n  \"Today\",\r\n  \"This Week\",\r\n  \"This Month\",\r\n  \"This Year\",\r\n];\r\nconst duration: string[] = [\r\n  \"None\",\r\n  \"Short (<4 minutes)\",\r\n  \"Medium (>4 minutes and <20 minutes)\",\r\n  \"Long (>20 minutes)\",\r\n];\r\nconst sort: string[] = [\"Relevance\", \"Upload Date\", \"Duration\"];\r\nconst type: string[] = [\"None\", \"Processed\", \"Unprocessed\"];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  expand: {\r\n    padding: \"5px\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  expandIcon: {\r\n    color: \"#ffffff\",\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  setVideos: (responseData: { [key: string]: any }[]) => void;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst FilterDialog: React.FC<Props> = (props) => {\r\n  const classes = useStyles();\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const initialFilter = {\r\n    record: \"None\",\r\n    duration: \"None\",\r\n    sort: \"Relevance\",\r\n    type: \"None\",\r\n  };\r\n\r\n  const reducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"record\":\r\n        return {\r\n          ...state,\r\n          record: action.value,\r\n        };\r\n      case \"duration\":\r\n        return {\r\n          ...state,\r\n          duration: action.value,\r\n        };\r\n      case \"sort\":\r\n        return {\r\n          ...state,\r\n          sort: action.value,\r\n        };\r\n      case \"type\":\r\n        return {\r\n          ...state,\r\n          type: action.value,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialFilter);\r\n\r\n  const handleChange:\r\n    | ((event: React.ChangeEvent<HTMLInputElement>, value: string) => void)\r\n    | undefined = (event) =>\r\n    dispatch({\r\n      type: event.target.name,\r\n      value: event.target.value,\r\n    });\r\n\r\n  const filterHandler = async () => {\r\n    clearError();\r\n    try {\r\n      const responseData = await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + \"/video/filter\",\r\n        \"POST\",\r\n        JSON.stringify({\r\n          filter: state,\r\n        }),\r\n        {\r\n          Authorization: 'Bearer ' + auth.token\r\n        }\r\n      );\r\n      props.setVideos(responseData);\r\n      props.handleClose();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      aria-labelledby=\"filter-dialog-title\"\r\n      aria-describedby=\"filter-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"filter-dialog-title\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <TuneIcon />\r\n          <p style={{ paddingLeft: \"10px\" }}>Filter</p>\r\n        </div>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {isLoading && <LoadingSpinner />}\r\n        {error && (\r\n          <div style={{ marginTop: \"20p\", marginBottom: \"20px\" }}>\r\n            <Alert onClose={clearError} severity=\"error\">\r\n              {error}\r\n            </Alert>\r\n          </div>\r\n        )}\r\n        <Grid container>\r\n          <Grid item sm={6} xs={12}>\r\n            <div className={classes.expand}>\r\n              <ExpansionPanel>\r\n                <ExpansionPanelSummary\r\n                  expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\r\n                  aria-controls=\"panel1a-content\"\r\n                >\r\n                  <Typography className={classes.heading}>\r\n                    RECORD DATE\r\n                  </Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                  <FormControl component=\"fieldset\">\r\n                    <RadioGroup\r\n                      name=\"record\"\r\n                      value={state.record}\r\n                      onChange={handleChange}\r\n                    >\r\n                      {record.map((r, index) => (\r\n                        <FormControlLabel\r\n                          key={index}\r\n                          value={r}\r\n                          control={<Radio />}\r\n                          label={r}\r\n                        />\r\n                      ))}\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            </div>\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <div className={classes.expand}>\r\n              <ExpansionPanel>\r\n                <ExpansionPanelSummary\r\n                  expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\r\n                  aria-controls=\"panel1a-content\"\r\n                >\r\n                  <Typography className={classes.heading}>DURATION</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                  <FormControl component=\"fieldset\">\r\n                    <RadioGroup\r\n                      name=\"duration\"\r\n                      value={state.duration}\r\n                      onChange={handleChange}\r\n                    >\r\n                      {duration.map((d, index) => (\r\n                        <FormControlLabel\r\n                          key={index}\r\n                          value={d}\r\n                          control={<Radio />}\r\n                          label={d}\r\n                        />\r\n                      ))}\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            </div>\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <div className={classes.expand}>\r\n              <ExpansionPanel>\r\n                <ExpansionPanelSummary\r\n                  expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\r\n                  aria-controls=\"panel1a-content\"\r\n                >\r\n                  <Typography className={classes.heading}>TYPE</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                  <FormControl component=\"fieldset\">\r\n                    <RadioGroup\r\n                      name=\"type\"\r\n                      value={state.type}\r\n                      onChange={handleChange}\r\n                    >\r\n                      {type.map((t, index) => (\r\n                        <FormControlLabel\r\n                          key={index}\r\n                          value={t}\r\n                          control={<Radio />}\r\n                          label={t}\r\n                        />\r\n                      ))}\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            </div>\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <div className={classes.expand}>\r\n              <ExpansionPanel>\r\n                <ExpansionPanelSummary\r\n                  expandIcon={<ExpandMoreIcon className={classes.expandIcon} />}\r\n                  aria-controls=\"panel1a-content\"\r\n                >\r\n                  <Typography className={classes.heading}>SORT BY</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                  <FormControl component=\"fieldset\">\r\n                    <RadioGroup\r\n                      name=\"sort\"\r\n                      value={state.sort}\r\n                      onChange={handleChange}\r\n                    >\r\n                      {sort.map((s, index) => (\r\n                        <FormControlLabel\r\n                          key={index}\r\n                          value={s}\r\n                          control={<Radio />}\r\n                          label={s}\r\n                        />\r\n                      ))}\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={props.handleClose}\r\n          disabled={isLoading}\r\n          color=\"primary\"\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          onClick={filterHandler}\r\n          disabled={isLoading}\r\n          color=\"primary\"\r\n          autoFocus\r\n        >\r\n          Apply\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default FilterDialog;\r\n","import { useEffect, useState, useRef, useCallback } from \"react\";\r\nimport MediaStreamRecorder from \"msr\";\r\n\r\nconst useToggle = (initialValue: boolean) => {\r\n  const [isRecording, setIsRecording] = useState<boolean>(initialValue);\r\n  const toggleIsRecording = useCallback(\r\n    () => setIsRecording((isRecording) => !isRecording),\r\n    []\r\n  );\r\n\r\n  return { isRecording, toggleIsRecording };\r\n};\r\n\r\nconst mediaOptions = {\r\n  mimeType: \"audio/wav\",\r\n  bufferSize: 2048,\r\n  sampleRate: 44100,\r\n};\r\n\r\nconst useRecorder = (open: boolean) => {\r\n  const [audioURL, setAudioURL] = useState<Blob[]>([]);\r\n  const { isRecording, toggleIsRecording } = useToggle(false);\r\n\r\n  const recorder = useRef<{ [key: string]: any }>({});\r\n  const stream = useRef<MediaStream | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({\r\n          audio: true,\r\n          video: false,\r\n        })\r\n        .then(function (str) {\r\n          console.log(\"ready to record!\");\r\n          stream.current = str;\r\n          recorder.current = new MediaStreamRecorder(str);\r\n          recorder.current.mimeType = mediaOptions.mimeType;\r\n          recorder.current.bufferSize = mediaOptions.bufferSize;\r\n          recorder.current.sampleRate = mediaOptions.sampleRate;\r\n\r\n          // listen to dataavailable, which gets triggered whenever we have\r\n          // an audio blob available\r\n          recorder.current.ondataavailable = (blob) => {\r\n            if (blob) {\r\n                console.log(blob)\r\n              setAudioURL((audioURL) => [...audioURL, blob]);\r\n            }\r\n          };\r\n          //  recorder.current.addEventListener(\"dataavailable\", onRecordingReady);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [open]);\r\n\r\n  const startRecording = useCallback(() => {\r\n    recorder.current.start();\r\n    toggleIsRecording();\r\n  }, [recorder, toggleIsRecording]);\r\n\r\n  const stopRecording = useCallback(() => {\r\n    recorder.current.stop();\r\n    setAudioURL([]);\r\n    toggleIsRecording();\r\n  }, [recorder, toggleIsRecording]);\r\n\r\n  const clearRecording = useCallback(() => {\r\n    if (recorder.current && recorder.current.state !== \"inactive\") {\r\n      recorder.current.stop();\r\n      setAudioURL([]);\r\n      toggleIsRecording();\r\n      if (stream.current !== null) {\r\n        stream.current.getAudioTracks().forEach((track) => {\r\n          track.stop();\r\n        });\r\n      }\r\n    }\r\n  }, [recorder, stream, toggleIsRecording]);\r\n\r\n  return {\r\n    audioURL,\r\n    isRecording,\r\n    startRecording,\r\n    stopRecording,\r\n    clearRecording,\r\n  };\r\n};\r\n\r\nexport default useRecorder;\r\n","import React from \"react\";\r\nimport \"./MicIcon.scss\";\r\n\r\nconst MicIcon: React.FC<{ isRecording: boolean }> = ({ isRecording }) => {\r\n  return (\r\n    <div className=\"frame\">\r\n      <div className=\"center\">\r\n        <div className=\"mic_container\">\r\n          <div className={`mic_body ${isRecording && \"mic_animate\"}`}>\r\n            <div className=\"mic_pill\"></div>\r\n            <div className=\"mic_hole\"></div>\r\n            <div className=\"mic_stand\"></div>\r\n            <div className=\"mic_bottom\"></div>\r\n          </div>\r\n          <div className={`dots ${isRecording && \"animate\"}`}>\r\n            <div className={`dots_left ${isRecording && \"animate\"}`} />\r\n            <div className={`dots_middle ${isRecording && \"animate\"}`} />\r\n            <div className={`dots_right ${isRecording && \"animate\"}`} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MicIcon;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport useRecorder from \"../hooks/audio-hook\";\r\nimport MicIcon from \"./MicIcon\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  onText: (text: string) => void;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst MicDialog: React.FC<Props> = ({ open, onText, handleClose }) => {\r\n  const auth = useContext(AuthContext);\r\n  const [text, setText] = useState(\"\");\r\n  let {\r\n    audioURL,\r\n    isRecording,\r\n    startRecording,\r\n    stopRecording,\r\n    clearRecording,\r\n  } = useRecorder(open);\r\n  const { error, sendRequest, clearError, setErrorText } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    setText(\"\");\r\n  }, [open]);\r\n\r\n  const toggleVoice = async () => {\r\n    if (isRecording) {\r\n      stopRecording();\r\n      try {\r\n        let data = new FormData();\r\n        let blob = new Blob(audioURL, { type: \"audio/wav\" });\r\n        data.append(\"speech\", blob);\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/helpers/speech\",\r\n          \"POST\",\r\n          data,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        setText((text) => text + responseData.message);\r\n        if (responseData.message === \"\") {\r\n          setErrorText(\"Can't hear. Try Again!\");\r\n        }\r\n      } catch (err) {\r\n        setErrorText(\"Network Error!\");\r\n      }\r\n    } else {\r\n      if (error) {\r\n        clearError();\r\n      }\r\n      startRecording();\r\n    }\r\n  };\r\n\r\n  const closeMic = () => {\r\n    if (text !== \"\") {\r\n      onText(text);\r\n    }\r\n    clearRecording();\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={closeMic}\r\n      aria-labelledby=\"mic-dialog-title\"\r\n      aria-describedby=\"mic-dialog-description\"\r\n    >\r\n      <DialogTitle style={{ textAlign: \"center\" }} id=\"mic-dialog-title\">\r\n        {error ? error : \"Tap and Talk\"}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <div className=\"mic-position\" onClick={toggleVoice}>\r\n          <MicIcon isRecording={isRecording} />\r\n        </div>\r\n      </DialogContent>\r\n      <div style={{ padding: \"5px 10px 15px\", textAlign: \"center\" }}>\r\n        {text}\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default MicDialog;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  handleClose: () => void;\r\n  title: string;\r\n  operationHandler: () => void;\r\n}\r\n\r\nconst UtilDialog: React.FC<Props> = props => {\r\n    return (\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {props.children}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.operationHandler} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.handleClose} color=\"primary\" autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n}\r\n\r\nexport default UtilDialog;","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport UtilDialog from \"../utils/UtilDialog\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Menu,\r\n  MenuItem,\r\n  Grid,\r\n  IconButton,\r\n  Typography,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      border: \"1px solid #0a045e\",\r\n    },\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    maxWidth: \"200px\",\r\n  },\r\n  content: {\r\n    flex: \"1 0 auto\",\r\n  },\r\n  cover: {\r\n    marginRight: \"auto\",\r\n    width: \"100%\",\r\n  },\r\n  controls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    paddingLeft: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n  },\r\n  playIcon: {\r\n    color: theme.palette.text.primary,\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n  optionIcon: {\r\n    color: theme.palette.text.primary,\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  key: string | number;\r\n  index?: string | number;\r\n  oid: string;\r\n  name: string;\r\n  date: string | number;\r\n  time: string | number;\r\n  location_id: string | number;\r\n  file_id: string | number;\r\n  thumbnail_id: string | number;\r\n  duration: string | number;\r\n  processed: string | boolean;\r\n  videoDeletor: (oid: string) => void;\r\n}\r\n\r\nconst VideoCard: React.FC<Props> = (props) => {\r\n  const classes = useStyles();\r\n  const auth = useContext(AuthContext);\r\n\r\n  // eslint-disable-next-line\r\n  const { sendRequest } = useHttpClient();\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [deleteOpen, setDeleteOpen] = useState(false);\r\n\r\n  const handleDeleteOpen = () => {\r\n    setDeleteOpen(true);\r\n  };\r\n\r\n  const handleDeleteClose = () => {\r\n    setDeleteOpen(false);\r\n  };\r\n\r\n  const deleteVideoHandler = async () => {\r\n    try {\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + \"/video/deletevideo/\" + props.oid,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token\r\n        }\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    handleDeleteClose();\r\n    handleClose();\r\n    props.videoDeletor(props.oid);\r\n  };\r\n\r\n  return (\r\n    <Grid item xl={4} lg={4} md={4} xs={12} sm={12}>\r\n      <UtilDialog\r\n        open={deleteOpen}\r\n        title=\"Delete Video?\"\r\n        operationHandler={deleteVideoHandler}\r\n        handleClose={handleDeleteClose}\r\n      >\r\n        This will delete this video and its details from the database. Please\r\n        confirm if you want to delete the video.\r\n      </UtilDialog>\r\n      <Card square className={classes.root}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <Typography component=\"h5\" variant=\"h5\">\r\n              Footage #{props.index}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n              {props.duration}\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n              {props.processed ? \"Processed\" : \"Unprocessed\"}\r\n            </Typography>\r\n          </CardContent>\r\n          <div className={classes.controls}>\r\n            <Tooltip title={props.name}>\r\n              <IconButton aria-label=\"info\">\r\n                <InfoOutlinedIcon className={classes.optionIcon} />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Link to={`/play/${props.oid}`}>\r\n              <IconButton aria-label=\"play\">\r\n                <PlayCircleOutlineIcon className={classes.playIcon} />\r\n              </IconButton>\r\n            </Link>\r\n            <IconButton onClick={handleClick} aria-label=\"options\">\r\n              <SettingsIcon className={classes.optionIcon} />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={handleDeleteOpen}>Delete</MenuItem>\r\n              <MenuItem onClick={handleClose}>Camera</MenuItem>\r\n              {!props.processed && (\r\n                <MenuItem onClick={handleClose}>Process</MenuItem>\r\n              )}\r\n              {props.processed && (\r\n                <MenuItem onClick={handleClose}>Search</MenuItem>\r\n              )}\r\n              <MenuItem onClick={handleClose}>Close</MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </div>\r\n        <CardMedia\r\n          className={classes.cover}\r\n          image={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${props.thumbnail_id}`}\r\n          title={props.name}\r\n        />\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default VideoCard;\r\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport FilterDialog from \"./FilterDialog\";\r\nimport MicDialog from \"../utils/MicDialog\";\r\nimport VideoCard from \"./VideoCard\";\r\n\r\nimport {\r\n  Container,\r\n  Grid,\r\n  InputBase,\r\n  Divider,\r\n  Typography,\r\n  IconButton,\r\n  CssBaseline,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport TuneIcon from \"@material-ui/icons/Tune\";\r\nimport VideoCallIcon from \"@material-ui/icons/VideoCall\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\n\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"80vh\",\r\n    overflow: \"auto\",\r\n    overflowX: \"hidden\",\r\n  },\r\n  topContainer: {\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"15px\",\r\n  },\r\n  search: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    border: `1px solid ${theme.palette.text.primary}`,\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    textDecoration: \"none\",\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  divider: {\r\n    height: 28,\r\n    margin: 4,\r\n  },\r\n  iconMargin: {\r\n    \"& > *\": {\r\n      marginLeft: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Library: React.FC = () => {\r\n  const classes = useStyles();\r\n  const [search, setSearch] = useState<string>(\"\");\r\n  const auth = useContext(AuthContext);\r\n  const [filter, setFilter] = useState<boolean>(false);\r\n\r\n  const handleClickFilter = () => {\r\n    if (homeVideos.length > 0) {\r\n      setFilter(true);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setFilter(false);\r\n  };\r\n\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [videos, setVideos] = useState<{ [key: string]: any }[]>([]);\r\n  const [homeVideos, setHomeVideos] = useState([]);\r\n\r\n  const toggleSearch = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  const homeHandler = () => {\r\n    setVideos(homeVideos);\r\n    setSearch(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchVideos = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/getvideo\",\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        setVideos(responseData);\r\n        setHomeVideos(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchVideos();\r\n  }, [sendRequest, auth.token]);\r\n\r\n  const searchHandler = async () => {\r\n    if (search !== \"\") {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/search\",\r\n          \"POST\",\r\n          JSON.stringify({\r\n            search: search,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        clearError();\r\n        setVideos(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const [micOpen, setMicOpen] = useState(false);\r\n\r\n  const handleMicOpen = () => {\r\n    setMicOpen(true);\r\n  };\r\n\r\n  const onText = useCallback(\r\n    (text) => {\r\n      const operation = async (text) => {\r\n        setSearch(text);\r\n        console.log(text);\r\n        try {\r\n          const responseData = await sendRequest(\r\n            process.env.REACT_APP_BACKEND_URL + \"/video/search\",\r\n            \"POST\",\r\n            JSON.stringify({\r\n              search: text,\r\n            }),\r\n            {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: 'Bearer ' + auth.token\r\n            }\r\n          );\r\n          clearError();\r\n          setVideos(responseData);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      operation(text);\r\n    },\r\n    [sendRequest, clearError, auth.token]\r\n  );\r\n\r\n  const handleMicClose = () => {\r\n    setMicOpen(false);\r\n  };\r\n\r\n  const videoDeletor = (oid: string) => {\r\n    setVideos((videos) => videos.filter((video) => video._id.$oid !== oid));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <MicDialog open={micOpen} onText={onText} handleClose={handleMicClose} />\r\n      <FilterDialog\r\n        open={filter}\r\n        handleClose={handleClose}\r\n        setVideos={setVideos}\r\n      />\r\n      <CssBaseline />\r\n      <Container maxWidth=\"xl\">\r\n        <Grid container className={classes.topContainer}>\r\n          <Grid item xs={12} md={10} className={classes.search}>\r\n            <InputBase\r\n              className={classes.input}\r\n              placeholder=\"Search\"\r\n              inputProps={{ \"aria-label\": \"type your query here\" }}\r\n              value={search}\r\n              onChange={toggleSearch}\r\n              onKeyPress={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  e.preventDefault();\r\n                  searchHandler();\r\n                }\r\n              }}\r\n            />\r\n            <IconButton\r\n              onClick={searchHandler}\r\n              color=\"primary\"\r\n              className={classes.iconButton}\r\n              aria-label=\"search\"\r\n            >\r\n              <SearchIcon fontSize=\"small\" />\r\n            </IconButton>\r\n            <Divider className={classes.divider} orientation=\"vertical\" />\r\n            <IconButton\r\n              onClick={handleMicOpen}\r\n              color=\"primary\"\r\n              className={classes.iconButton}\r\n              aria-label=\"mic\"\r\n            >\r\n              <MicIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </Grid>\r\n          <Grid style={{ textAlign: \"center\" }} item md={2} xs={12}>\r\n            <div className={classes.iconMargin}>\r\n              <Tooltip title=\"Filter\">\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  className={classes.iconButton}\r\n                  aria-label=\"Filter\"\r\n                  onClick={handleClickFilter}\r\n                >\r\n                  <TuneIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Upload Video\">\r\n                <Link to=\"/upload\">\r\n                  <IconButton\r\n                    color=\"primary\"\r\n                    className={classes.iconButton}\r\n                    aria-label=\"Upload Video\"\r\n                  >\r\n                    <VideoCallIcon />\r\n                  </IconButton>\r\n                </Link>\r\n              </Tooltip>\r\n              <Tooltip title=\"Back to Home\">\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  className={classes.iconButton}\r\n                  aria-label=\"Home\"\r\n                  onClick={homeHandler}\r\n                >\r\n                  <HomeIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n        <div className={classes.root}>\r\n          {error && (\r\n            <div style={{ marginTop: \"20p\", marginBottom: \"20px\" }}>\r\n              <Alert onClose={clearError} severity=\"error\">\r\n                {error}\r\n              </Alert>\r\n            </div>\r\n          )}\r\n          {isLoading && <LoadingSpinner />}\r\n          {!isLoading && videos.length === 0 && (\r\n            <div style={{ textAlign: \"center\" }}>\r\n              <Typography\r\n                style={{ marginTop: \"40px\" }}\r\n                variant=\"h6\"\r\n                gutterBottom\r\n              >\r\n                No Video found in the database. Start with uploading one.\r\n              </Typography>\r\n            </div>\r\n          )}\r\n          {!isLoading && (\r\n            <Grid container spacing={4}>\r\n              {videos.map((video, index) => (\r\n                <VideoCard\r\n                  key={index}\r\n                  index={index}\r\n                  oid={video._id.$oid}\r\n                  name={video.name}\r\n                  date={video.date}\r\n                  time={video.date}\r\n                  location_id={video.location_id}\r\n                  file_id={video.file_id}\r\n                  thumbnail_id={video.thumbnail_id}\r\n                  duration={video.duration}\r\n                  processed={video.processed}\r\n                  videoDeletor={videoDeletor}\r\n                />\r\n              ))}\r\n            </Grid>\r\n          )}\r\n        </div>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Library;\r\n","import React, { useState, useMemo } from \"react\";\r\nimport MapGL, { Popup } from \"react-map-gl\";\r\nimport DeckGL from \"@deck.gl/react\";\r\nimport { ScatterplotLayer } from \"@deck.gl/layers\";\r\n\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\ninterface Props {\r\n  width: string;\r\n  height: string;\r\n  viewState: {\r\n    latitude: number;\r\n    longitude: number;\r\n    zoom?: number;\r\n    pitch?: number;\r\n    bearing?: number;\r\n  };\r\n  onViewStateChange: ({ viewState }: { viewState: any }) => void;\r\n  libraries: {\r\n    [key: string]: any;\r\n  }[];\r\n}\r\n\r\nconst CamMap: React.FC<Props> = ({\r\n  width,\r\n  height,\r\n  viewState,\r\n  onViewStateChange,\r\n  libraries,\r\n}) => {\r\n  const data = useMemo(() => {\r\n    let items: any[] = [];\r\n    for (let i = 0; i < libraries.length; i++) {\r\n      items.push([\r\n        libraries[i].longitude,\r\n        libraries[i].latitude,\r\n        libraries[i]._id.$oid,\r\n        libraries[i].formatted_address,\r\n      ]);\r\n    }\r\n    return items;\r\n  }, [libraries]);\r\n\r\n  const [location, setLocation] = useState<{\r\n    oid: string;\r\n    latitude: string | null;\r\n    longitude: string | null;\r\n    address: string | null\r\n  }>({\r\n    oid: \"\",\r\n    latitude: null,\r\n    longitude: null,\r\n    address: \"\",\r\n  });\r\n\r\n  const radius = 5;\r\n  const lineWidth = 4;\r\n\r\n  const layers = [\r\n    new ScatterplotLayer({\r\n      id: \"scatter-plot\",\r\n      data: data,\r\n      getRadius: 500 * radius,\r\n      radiusMaxPixels: 15,\r\n      radiusMinPixels: 0.5,\r\n      getFillColor: [117, 193, 255],\r\n      stroked: true,\r\n      getLineWidth: 500 * lineWidth,\r\n      lineWidthMaxPixels: 10,\r\n      getLineColor: [117, 193, 255, 76],\r\n      getPosition: (d) => [d[0], d[1], 0],\r\n      pickable: true,\r\n      onClick: ({ object }) => {\r\n        console.log(object);\r\n        setLocation({\r\n          oid: object[2],\r\n          longitude: object[0],\r\n          latitude: object[1],\r\n          address: object[3],\r\n        });\r\n      },\r\n    }),\r\n  ];\r\n\r\n  const clearPopUp = () => {\r\n    setLocation({\r\n      oid: \"\",\r\n      latitude: null,\r\n      longitude: null,\r\n      address: null,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <MapGL\r\n      width={width}\r\n      height={height}\r\n      viewState={viewState}\r\n      onViewStateChange={onViewStateChange}\r\n      mapStyle=\"mapbox://styles/gisfeedback/cjvod9hc909kh1eo9nj23g33k\"\r\n    >\r\n      <DeckGL viewState={viewState} layers={layers} />\r\n      {location.oid && (\r\n        <Popup\r\n          style={{ background: \"#000000\" }}\r\n          longitude={location.longitude}\r\n          latitude={location.latitude}\r\n          onClose={clearPopUp}\r\n        >\r\n          <div>\r\n            <p>{location.address}</p>\r\n          </div>\r\n        </Popup>\r\n      )}\r\n    </MapGL>\r\n  );\r\n};\r\n\r\nexport default CamMap;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  TextField,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginBottom: \"15px\",\r\n    width: \"100%\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  textPicker: {\r\n    paddingLeft: \"10px\",\r\n    paddingRight: \"10px\",\r\n  },\r\n  loader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    margin: \"20px\",\r\n    marginTop: \"0px\",\r\n  },\r\n  multilineColor: {\r\n    color: \"#ffffff\",\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  camera: { [key: string]: any } | null;\r\n  setCamera: React.Dispatch<\r\n    React.SetStateAction<{ [key: string]: any } | null>\r\n  >;\r\n  setLocationData: React.Dispatch<\r\n    React.SetStateAction<\r\n      {\r\n        [key: string]: any;\r\n      }[]\r\n    >\r\n  >;\r\n}\r\n\r\nconst AddCamera: React.FC<Props> = (props) => {\r\n  const classes = useStyles();\r\n  const [success, setSuccess] = useState(false);\r\n  const auth = useContext(AuthContext);\r\n  const [location, setLocation] = useState<{\r\n    latitude: string;\r\n    longitude: string;\r\n  }>({\r\n    latitude: \"\",\r\n    longitude: \"\",\r\n  });\r\n\r\n  const {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n    clearError,\r\n    setErrorText,\r\n  } = useHttpClient();\r\n\r\n  const insertHandler = async () => {\r\n    if (location.latitude && location.longitude) {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/cctv/addcctv\",\r\n          \"POST\",\r\n          JSON.stringify({\r\n            lat: parseFloat(location.latitude),\r\n            lon: parseFloat(location.longitude),\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        props.setLocationData((location) => {\r\n          return [...location, responseData[0]];\r\n        });\r\n        if (!props.camera) {\r\n          props.setCamera(responseData[0]);\r\n        }\r\n        setLocation({\r\n          latitude: \"\",\r\n          longitude: \"\",\r\n        });\r\n        clearError();\r\n        setSuccess(true);\r\n      } catch (err) {\r\n        setSuccess(false);\r\n        console.log(err.message);\r\n      }\r\n    } else {\r\n      setSuccess(false);\r\n      setErrorText(\"Provided fields are empty.\");\r\n    }\r\n  };\r\n\r\n  const clearSuccess = () => {\r\n    setSuccess(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {success && (\r\n        <Alert severity=\"success\" onClose={clearSuccess}>\r\n          <AlertTitle>Success</AlertTitle>\r\n          <span>\r\n            <strong>Camera</strong>\r\n          </span>{\" \"}\r\n          location has been succesfully added.\r\n        </Alert>\r\n      )}\r\n      {error && (\r\n        <Alert\r\n          style={{ marginBottom: \"10px\" }}\r\n          severity=\"error\"\r\n          onClose={clearError}\r\n        >\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMoreIcon style={{ color: \"#ffffff\" }} />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography className={classes.heading}>Add Camera</Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          {isLoading ? (\r\n            <Grid container className={classes.loader}>\r\n              <LoadingSpinner />\r\n            </Grid>\r\n          ) : (\r\n            <Grid container>\r\n              <Grid className={classes.textPicker} item xs={5}>\r\n                <TextField\r\n                  InputProps={{ className: classes.multilineColor }}\r\n                  value={location.latitude}\r\n                  type=\"number\"\r\n                  onChange={(event) =>\r\n                    setLocation({\r\n                      ...location,\r\n                      latitude: event.target.value,\r\n                    })\r\n                  }\r\n                  label=\"Latitude\"\r\n                />\r\n              </Grid>\r\n              <Grid className={classes.textPicker} item xs={5}>\r\n                <TextField\r\n                  InputProps={{ className: classes.multilineColor }}\r\n                  value={location.longitude}\r\n                  type=\"number\"\r\n                  onChange={(event) =>\r\n                    setLocation({\r\n                      ...location,\r\n                      longitude: event.target.value,\r\n                    })\r\n                  }\r\n                  label=\"Longitude\"\r\n                />\r\n              </Grid>\r\n              <Grid style={{ textAlign: \"center\" }} item xs={1}>\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  disabled={!location.latitude || !location.longitude}\r\n                  onClick={insertHandler}\r\n                >\r\n                  <AddBoxIcon fontSize=\"large\" />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCamera;\r\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { FlyToInterpolator } from \"react-map-gl\";\r\nimport CamMap from \"./CamMap\";\r\nimport AddCamera from \"./AddCamera\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport UtilDialog from \"../utils/UtilDialog\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport AlertTitle from \"@material-ui/lab/AlertTitle\";\r\nimport {\r\n  Grid,\r\n  Popover,\r\n  Button,\r\n  Typography,\r\n  InputAdornment,\r\n  TextField,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Fade,\r\n  Paper,\r\n  Popper,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport RoomIcon from \"@material-ui/icons/Room\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport LiveTvIcon from \"@material-ui/icons/LiveTv\";\r\nimport VideoLibraryIcon from \"@material-ui/icons/VideoLibrary\";\r\n\r\ndeclare global {\r\n  interface EventTarget {\r\n    id: any;\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  container: {\r\n    padding: \"10px\",\r\n  },\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  locationChooser: {\r\n    padding: \"10px\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      border: \"1px solid #0a045e\",\r\n    },\r\n  },\r\n  verticalContainer: {\r\n    height: \"75px\",\r\n    position: \"relative\",\r\n  },\r\n  verticalDiv: {\r\n    textAlign: \"center\",\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    msTransform: \"translateY(-50%)\",\r\n    transform: \"translateY(-50%)\",\r\n  },\r\n  option: {\r\n    padding: \"10px\",\r\n    paddingTop: \"15px\",\r\n    background: \"#2a3f73\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#30a3f2\",\r\n      border: \"1px solid #30a3f2\",\r\n    },\r\n  },\r\n  optionTitle: {\r\n    paddingTop: \"10px\",\r\n    fontSize: \"15px\",\r\n    fontWeight: 400,\r\n    pointerEvents: \"none\",\r\n  },\r\n  locationDetails: {\r\n    padding: \"10px\",\r\n    background: theme.palette.primary.dark,\r\n    border: \"1px solid #4f619a\",\r\n  },\r\n  locationAttributes: {\r\n    textAlign: \"left\",\r\n    marginTop: \"15px\",\r\n    marginBottom: \"15px\",\r\n  },\r\n  locationParams: {\r\n    fontSize: \"15px\",\r\n    color: \"#ffffff\",\r\n    fontWeight: 500,\r\n  },\r\n  multilineColor: {\r\n    color: \"#ffffff\",\r\n  },\r\n  mapContainer: {\r\n    boxShadow: \"-3px 6px 34px 6px rgba(18,25,41,1)\",\r\n    border: \"1px solid #4f619a\",\r\n    position: \"relative\",\r\n    marginLeft: \"10px\",\r\n  },\r\n}));\r\n\r\ninterface LocationItemProps {\r\n  oid: string;\r\n  name: string;\r\n  latitude: string;\r\n  longitude: string;\r\n  changeCameraHandler: (camera: any) => void;\r\n}\r\n\r\nconst LocationItem: React.FC<LocationItemProps> = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid\r\n      onClick={() => {\r\n        props.changeCameraHandler(props.oid);\r\n      }}\r\n      className={classes.locationChooser}\r\n      item\r\n      lg={2}\r\n      md={2}\r\n      sm={4}\r\n      xs={6}\r\n    >\r\n      <Grid container>\r\n        <Grid item xs={6}>\r\n          <div className={classes.verticalContainer}>\r\n            <div className={classes.verticalDiv}>\r\n              <LocationOnIcon fontSize=\"large\" />\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <div style={{ fontSize: \"12px\" }}>Latitude</div>\r\n          <div style={{ color: \"#fff\" }}>\r\n            {parseFloat(props.latitude).toFixed(3)}\r\n          </div>\r\n          <div style={{ fontSize: \"12px\" }}>Longitude</div>\r\n          <div style={{ color: \"#fff\" }}>\r\n            {parseFloat(props.longitude).toFixed(3)}\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\ninterface LocationPopoverProps {\r\n  id: string | undefined;\r\n  open: boolean;\r\n  locationData: { [key: string]: any }[];\r\n  setLocationData: React.Dispatch<\r\n    React.SetStateAction<\r\n      {\r\n        [key: string]: any;\r\n      }[]\r\n    >\r\n  >;\r\n  anchorEl;\r\n  handleClose: () => void;\r\n  setCamera: React.Dispatch<\r\n    React.SetStateAction<{\r\n      [key: string]: any;\r\n    } | null>\r\n  >;\r\n  changeCameraHandler: (camera: any) => void;\r\n}\r\n\r\nconst LocationPopover: React.FC<LocationPopoverProps> = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  const classes = useStyles();\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [searchData, setSearchData] = useState<{ [key: string]: any }[]>();\r\n\r\n  const { sendRequest } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    if (props.open && props.locationData) {\r\n      setSearchData(props.locationData);\r\n    }\r\n  }, [props.open, props.locationData]);\r\n\r\n  const [anchorMenu, setAnchorMenu] = React.useState(null);\r\n\r\n  const handleClickMenu = (event) => {\r\n    setAnchorMenu(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorMenu(null);\r\n  };\r\n\r\n  const searchHandler = (event) => {\r\n    setSearchText(event.target.value);\r\n    let search = event.target.value;\r\n    let items = props.locationData;\r\n    if (search) {\r\n      let filterItems: { [key: string]: any }[] = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (\r\n          items[i].formatted_address\r\n            .toLowerCase()\r\n            .includes(search.toLowerCase()) ||\r\n          items[i].latitude.toString().includes(search) ||\r\n          items[i].longitude.toString().includes(search)\r\n        ) {\r\n          filterItems.push(items[i]);\r\n        }\r\n      }\r\n      setSearchData(filterItems);\r\n    } else {\r\n      setSearchData(items);\r\n    }\r\n  };\r\n\r\n  const [deleteOpen, setDeleteOpen] = useState(false);\r\n\r\n  const handleDeleteOpen = () => {\r\n    setDeleteOpen(true);\r\n  };\r\n\r\n  const handleDeleteClose = () => {\r\n    setDeleteOpen(false);\r\n  };\r\n\r\n  const deleteAllCameraHandler = async () => {\r\n    try {\r\n      const responseData = await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + \"/cctv/deleteallcctv\",\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: 'Bearer ' + auth.token\r\n        }\r\n      );\r\n      console.log(responseData);\r\n      props.setLocationData([]);\r\n      props.setCamera(null);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n    handleDeleteClose();\r\n    handleCloseMenu();\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      id={props.id}\r\n      open={props.open}\r\n      anchorEl={props.anchorEl}\r\n      onClose={props.handleClose}\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"center\",\r\n      }}\r\n      transformOrigin={{\r\n        vertical: \"top\",\r\n        horizontal: \"center\",\r\n      }}\r\n    >\r\n      <UtilDialog\r\n        open={deleteOpen}\r\n        title=\"Delete Camera?\"\r\n        operationHandler={deleteAllCameraHandler}\r\n        handleClose={handleDeleteClose}\r\n      >\r\n        This will delete all camera and their details from the database. Please\r\n        confirm if you want to delete all the CCTV cameras.\r\n      </UtilDialog>\r\n      <Grid container>\r\n        <Grid item md={10} sm={8}>\r\n          <TextField\r\n            fullWidth\r\n            className={classes.margin}\r\n            style={{ width: \"90%\" }}\r\n            id=\"input-with-icon-textfield\"\r\n            label=\"Search\"\r\n            value={searchText}\r\n            onChange={searchHandler}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid style={{ textAlign: \"right\" }} item md={1} sm={2}>\r\n          <IconButton\r\n            aria-label=\"options\"\r\n            aria-controls=\"simple-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClickMenu}\r\n          >\r\n            <SettingsIcon style={{ color: \"#fff\" }} />\r\n          </IconButton>\r\n          <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorMenu}\r\n            keepMounted\r\n            open={Boolean(anchorMenu)}\r\n            onClose={handleCloseMenu}\r\n          >\r\n            <MenuItem onClick={handleDeleteOpen}>Delete All</MenuItem>\r\n            <MenuItem onClick={handleCloseMenu}>Close</MenuItem>\r\n          </Menu>\r\n        </Grid>\r\n        <Grid style={{ textAlign: \"right\" }} item md={1} sm={2}>\r\n          <IconButton aria-label=\"close\" onClick={props.handleClose}>\r\n            <CloseIcon style={{ color: \"#fff\" }} />\r\n          </IconButton>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        style={{ overflowY: \"auto\", height: \"80vh\", minWidth: \"60vw\" }}\r\n        container\r\n      >\r\n        {searchData &&\r\n          searchData.map((location, index) => (\r\n            <LocationItem\r\n              key={index}\r\n              oid={location._id.$oid}\r\n              latitude={location.latitude}\r\n              longitude={location.longitude}\r\n              name={location.formatted_address}\r\n              changeCameraHandler={props.changeCameraHandler}\r\n            />\r\n          ))}\r\n      </Grid>\r\n    </Popover>\r\n  );\r\n};\r\n\r\ninterface EditPopperProps {\r\n  open: boolean;\r\n  camera: {\r\n    [key: string]: any;\r\n  } | null;\r\n  anchorEl: null;\r\n  setEditOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setLocationData: React.Dispatch<\r\n    React.SetStateAction<\r\n      {\r\n        [key: string]: any;\r\n      }[]\r\n    >\r\n  >;\r\n  setCamera: React.Dispatch<\r\n    React.SetStateAction<{\r\n      [key: string]: any;\r\n    } | null>\r\n  >;\r\n}\r\n\r\nconst EditPopper: React.FC<EditPopperProps> = (props) => {\r\n  const classes = useStyles();\r\n  const auth = useContext(AuthContext);\r\n  const [success, setSuccess] = useState(false);\r\n  const [newCamera, setNewCamera] = useState<{ [key: string]: string }>({\r\n    oid: \"\",\r\n    latitude: \"\",\r\n    longitude: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.open && props.camera) {\r\n      setNewCamera({\r\n        oid: props.camera._id.$oid,\r\n        latitude: props.camera.latitude.toString(),\r\n        longitude: props.camera.longitude.toString(),\r\n      });\r\n    } else {\r\n      setNewCamera({\r\n        oid: \"\",\r\n        latitude: \"\",\r\n        longitude: \"\",\r\n      });\r\n    }\r\n  }, [props.open, props.camera]);\r\n\r\n  useEffect(() => {\r\n    if (props.open) {\r\n      setSuccess(false);\r\n    }\r\n  }, [props.open]);\r\n\r\n  const { error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const updateHandler = async () => {\r\n    if (newCamera.oid && newCamera.latitude && newCamera.longitude) {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/cctv/updatecctv\",\r\n          \"PATCH\",\r\n          JSON.stringify({\r\n            oid: newCamera.oid,\r\n            lat: parseFloat(newCamera.latitude),\r\n            lon: parseFloat(newCamera.longitude),\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        props.setLocationData((location) => {\r\n          let items = location;\r\n          for (let i = 0; i < items.length; i++) {\r\n            if (props.camera && items[i]._id.$oid === props.camera._id.$oid) {\r\n              items[i] = {\r\n                ...items[i],\r\n                ...responseData,\r\n              };\r\n              break;\r\n            }\r\n          }\r\n          return items;\r\n        });\r\n        props.setCamera({\r\n          ...props.camera,\r\n          ...responseData,\r\n        });\r\n        setSuccess(true);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const clearSuccess = () => {\r\n    props.setEditOpen((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <Popper\r\n      open={props.open}\r\n      anchorEl={props.anchorEl}\r\n      placement=\"bottom\"\r\n      transition\r\n    >\r\n      {({ TransitionProps }) => (\r\n        <Fade {...TransitionProps} timeout={350}>\r\n          <Paper>\r\n            {success ? (\r\n              <Alert severity=\"success\" onClose={clearSuccess}>\r\n                <AlertTitle>Success</AlertTitle>\r\n                <span>\r\n                  <strong>Camera</strong>\r\n                </span>{\" \"}\r\n                location has been succesfully updated.\r\n              </Alert>\r\n            ) : (\r\n              <div>\r\n                {error && (\r\n                  <Alert\r\n                    variant=\"outlined\"\r\n                    style={{ color: \"#f44336\", marginBottom: \"10px\" }}\r\n                    severity=\"error\"\r\n                    onClose={clearError}\r\n                  >\r\n                    {error}\r\n                  </Alert>\r\n                )}\r\n                <div style={{ padding: \"10px\" }}>\r\n                  <TextField\r\n                    InputProps={{ className: classes.multilineColor }}\r\n                    value={newCamera.latitude}\r\n                    type=\"number\"\r\n                    onChange={(event) =>\r\n                      setNewCamera({\r\n                        ...newCamera,\r\n                        latitude: event.target.value,\r\n                      })\r\n                    }\r\n                    label=\"Latitude\"\r\n                  />\r\n                </div>\r\n                <div style={{ padding: \"10px\" }}>\r\n                  <TextField\r\n                    InputProps={{ className: classes.multilineColor }}\r\n                    value={newCamera.longitude}\r\n                    type=\"number\"\r\n                    onChange={(event) =>\r\n                      setNewCamera({\r\n                        ...newCamera,\r\n                        longitude: event.target.value,\r\n                      })\r\n                    }\r\n                    label=\"Longitude\"\r\n                  />\r\n                </div>\r\n                <Grid style={{ textAlign: \"center\" }} container>\r\n                  <Grid item xs={6}>\r\n                    <Button\r\n                      disabled={!newCamera.latitude || !newCamera.longitude}\r\n                      onClick={updateHandler}\r\n                    >\r\n                      Update\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Button\r\n                      onClick={() => {\r\n                        props.setEditOpen((prev) => !prev);\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            )}\r\n          </Paper>\r\n        </Fade>\r\n      )}\r\n    </Popper>\r\n  );\r\n};\r\n\r\nconst Camera: React.FC = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [locationData, setLocationData] = useState<{ [key: string]: any }[]>(\r\n    []\r\n  );\r\n  const [camera, setCamera] = useState<{ [key: string]: any } | null>(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n    clearError,\r\n    setErrorText,\r\n  } = useHttpClient();\r\n\r\n  const [viewState, setViewState] = useState({\r\n    latitude: 19.076,\r\n    longitude: 72.8777,\r\n    zoom: 11,\r\n    pitch: 40.5,\r\n    bearing: 0.7,\r\n  });\r\n\r\n  const [deleteOpen, setDeleteOpen] = useState(false);\r\n\r\n  const handleDeleteOpen = () => {\r\n    setDeleteOpen(true);\r\n  };\r\n\r\n  const handleDeleteClose = () => {\r\n    setDeleteOpen(false);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const fetchLocations = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/cctv/getcctv\",\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        setLocationData(responseData);\r\n        if (responseData.length > 0) {\r\n          setCamera(responseData[0]);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchLocations();\r\n  }, [sendRequest, auth.token]);\r\n\r\n  const [editEl, setEditEl] = useState(null);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n\r\n  const handleEdit = (event) => {\r\n    setEditEl(event.currentTarget);\r\n    setEditOpen((prev) => !prev);\r\n  };\r\n\r\n  const handleChangeViewState = ({ viewState }) => setViewState(viewState);\r\n\r\n  const handleFlyTo = useCallback((destination) => {\r\n    setViewState((v) => {\r\n      return {\r\n        ...v,\r\n        ...destination,\r\n        zoom: 11,\r\n        transitionDuration: 2000,\r\n        transitionInterpolator: new FlyToInterpolator(),\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  const optionHandler:\r\n    | ((event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void)\r\n    | undefined = (event) => {\r\n    if (locationData.length === 0 && !camera) {\r\n      setErrorText(\r\n        \"No camera found in the database. Start with inserting one.\"\r\n      );\r\n    } else if (camera) {\r\n      let option = event.target.id;\r\n      switch (option) {\r\n        case \"locate\":\r\n          handleFlyTo({\r\n            latitude: camera.latitude,\r\n            longitude: camera.longitude,\r\n          });\r\n          break;\r\n        case \"edit\":\r\n          handleEdit(event);\r\n          break;\r\n        case \"change\":\r\n          handleClick(event);\r\n          break;\r\n        case \"delete\":\r\n          handleDeleteOpen();\r\n          break;\r\n        case \"live\":\r\n          history.push(\"/\");\r\n          break;\r\n        case \"video\":\r\n          history.push(\"/\");\r\n          break;\r\n        default:\r\n          setErrorText(\r\n            \"Some random error occurred. Please have a bit of patience.\"\r\n          );\r\n      }\r\n    }\r\n  };\r\n\r\n  const changeCameraHandler = (camera) => {\r\n    let items = locationData;\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (items[i]._id.$oid === camera) {\r\n        setCamera(items[i]);\r\n        break;\r\n      }\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  const deleteCameraHandler = async () => {\r\n    if (camera) {\r\n      console.log(camera._id.$oid);\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL +\r\n            \"/cctv/deletecctv/\" +\r\n            camera._id.$oid,\r\n          \"DELETE\"\r\n        );\r\n        let items = locationData;\r\n        items = items.filter((item) => item._id.$oid !== camera._id.$oid);\r\n        setLocationData(items);\r\n        if (items.length > 0) {\r\n          setCamera(items[0]);\r\n        } else {\r\n          setCamera(null);\r\n        }\r\n        console.log(responseData);\r\n      } catch (err) {\r\n        setErrorText(err.message);\r\n      }\r\n      handleDeleteClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (camera) {\r\n      handleFlyTo({\r\n        latitude: camera.latitude,\r\n        longitude: camera.longitude,\r\n      });\r\n    }\r\n  }, [camera, handleFlyTo]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <UtilDialog\r\n        open={deleteOpen}\r\n        title=\"Delete Camera?\"\r\n        operationHandler={deleteCameraHandler}\r\n        handleClose={handleDeleteClose}\r\n      >\r\n        This will delete selected camera and its details from the database.\r\n        Please confirm if you want to delete the selected CCTV camera.\r\n      </UtilDialog>\r\n      <Grid className={classes.container} container>\r\n        <Grid item md={6} xs={12}>\r\n          <AddCamera\r\n            setLocationData={setLocationData}\r\n            camera={camera}\r\n            setCamera={setCamera}\r\n          />\r\n          <Grid container>\r\n            <Grid\r\n              id=\"locate\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <RoomIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Locate Camera\r\n              </Typography>\r\n            </Grid>\r\n            <Grid\r\n              id=\"edit\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <EditIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Edit Details\r\n              </Typography>\r\n            </Grid>\r\n            <EditPopper\r\n              open={editOpen}\r\n              anchorEl={editEl}\r\n              camera={camera}\r\n              setEditOpen={setEditOpen}\r\n              setLocationData={setLocationData}\r\n              setCamera={setCamera}\r\n            />\r\n            <Grid\r\n              aria-describedby={id}\r\n              id=\"change\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <CameraAltIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Change Camera\r\n              </Typography>\r\n            </Grid>\r\n            <LocationPopover\r\n              id={id}\r\n              open={open}\r\n              anchorEl={anchorEl}\r\n              handleClose={handleClose}\r\n              locationData={locationData}\r\n              setLocationData={setLocationData}\r\n              setCamera={setCamera}\r\n              changeCameraHandler={changeCameraHandler}\r\n            />\r\n            <Grid\r\n              id=\"delete\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <DeleteIcon />\r\n              <Typography className={classes.optionTitle}>Delete</Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid className={classes.locationDetails} container>\r\n            {error && (\r\n              <Alert\r\n                variant=\"outlined\"\r\n                style={{ color: \"#f44336\", marginBottom: \"10px\" }}\r\n                severity=\"error\"\r\n                onClose={clearError}\r\n              >\r\n                {error}\r\n              </Alert>\r\n            )}\r\n            {isLoading ? (\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <div style={{ padding: \"30px\" }}>\r\n                  <LoadingSpinner />\r\n                </div>\r\n              </Grid>\r\n            ) : (\r\n              <div style={{ width: \"100%\" }}>\r\n                {locationData.length > 0 ? (\r\n                  <div style={{ padding: \"10px\", textAlign: \"center\" }}>\r\n                    {camera && (\r\n                      <Grid container>\r\n                        <Grid style={{ padding: \"10px\" }} item xs={10}>\r\n                          <Typography variant=\"h6\" gutterBottom>\r\n                            Camera Id #{camera._id.$oid}\r\n                          </Typography>\r\n                        </Grid>\r\n                        <Grid style={{ padding: \"10px\" }} item xs={2}>\r\n                          <Tooltip title={camera.formatted_address}>\r\n                            <InfoOutlinedIcon fontSize=\"large\" />\r\n                          </Tooltip>\r\n                        </Grid>\r\n                        <Grid\r\n                          className={classes.locationAttributes}\r\n                          item\r\n                          xs={6}\r\n                        >\r\n                          <div>Latitude</div>\r\n                          <div className={classes.locationParams}>\r\n                            {camera.latitude}\r\n                          </div>\r\n                        </Grid>\r\n                        <Grid\r\n                          className={classes.locationAttributes}\r\n                          item\r\n                          xs={6}\r\n                        >\r\n                          <div>Longitude</div>\r\n                          <div className={classes.locationParams}>\r\n                            {camera.longitude}\r\n                          </div>\r\n                        </Grid>\r\n                        <Grid\r\n                          className={classes.locationAttributes}\r\n                          item\r\n                          xs={6}\r\n                        >\r\n                          <div>Country</div>\r\n                          <div className={classes.locationParams}>\r\n                            {camera.country}\r\n                          </div>\r\n                        </Grid>\r\n                        <Grid\r\n                          className={classes.locationAttributes}\r\n                          item\r\n                          xs={6}\r\n                        >\r\n                          <div>State</div>\r\n                          <div className={classes.locationParams}>\r\n                            {camera.state}\r\n                          </div>\r\n                        </Grid>\r\n                        <Grid\r\n                          className={classes.locationAttributes}\r\n                          item\r\n                          xs={6}\r\n                        >\r\n                          <div>City</div>\r\n                          <div className={classes.locationParams}>\r\n                            {camera.city}\r\n                          </div>\r\n                        </Grid>\r\n                        <Grid\r\n                          className={classes.locationAttributes}\r\n                          item\r\n                          xs={6}\r\n                        >\r\n                          <div>Sublocality</div>\r\n                          <div className={classes.locationParams}>\r\n                            {camera.sublocality}\r\n                          </div>\r\n                        </Grid>\r\n                      </Grid>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ padding: \"30px\", textAlign: \"center\" }}>\r\n                    No Camera in the database. Please add a camera to load\r\n                    details.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </Grid>\r\n          <Grid style={{ paddingBottom: \"20px\" }} container>\r\n            <Grid id=\"live\" className={classes.option} item xs={6}>\r\n              <LiveTvIcon />\r\n              <Typography className={classes.optionTitle}>Live Feed</Typography>\r\n            </Grid>\r\n            <Grid id=\"video\" className={classes.option} item xs={6}>\r\n              <VideoLibraryIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                View All Videos\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item md={6} xs={12}>\r\n          <div className={classes.mapContainer}>\r\n            <CamMap\r\n              width=\"100%\"\r\n              height=\"80vh\"\r\n              viewState={viewState}\r\n              onViewStateChange={handleChangeViewState}\r\n              libraries={locationData}\r\n            />\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Camera;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport axios from \"axios\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport MagicDropzone from \"react-magic-dropzone\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDateTimePicker,\r\n} from \"@material-ui/pickers\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  Paper,\r\n  IconButton,\r\n  Typography,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  InputAdornment,\r\n  TextField,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Switch,\r\n} from \"@material-ui/core\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport upload from \"./upload.svg\";\r\nimport MyLocationIcon from \"@material-ui/icons/MyLocation\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport \"./Upload.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  container: {\r\n    padding: \"30px\",\r\n  },\r\n  dropzone: {\r\n    margin: \"20px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    cursor: \"pointer\",\r\n    border: \"2px dashed #1c233e\",\r\n    height: \"100%\",\r\n    padding: \"16px 11px\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  dropzoneContainer: {\r\n    textAlign: \"center\",\r\n  },\r\n  browseButton: {\r\n    textTransform: \"none\",\r\n    backgroundColor: \"#1273eb\",\r\n    color: \"#fff\",\r\n    padding: \"10px\",\r\n    paddingLeft: \"15px\",\r\n    paddingRight: \"15px\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#0a045e\",\r\n    },\r\n  },\r\n  drag: {\r\n    color: \"#000\",\r\n    fontSize: \"20px\",\r\n    fontWeight: 500,\r\n  },\r\n  or: {\r\n    color: \"#0a045e\",\r\n    fontSize: \"15px\",\r\n    fontWeight: 400,\r\n  },\r\n  filePaper: {\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n  },\r\n  verticalText: {\r\n    minHeight: \"60px\",\r\n    lineHeight: \"60px\",\r\n    textAlign: \"center\",\r\n  },\r\n  verticalSpan: {\r\n    display: \"inline-block\",\r\n    verticalAlign: \"middle\",\r\n    lineHeight: \"normal\",\r\n  },\r\n  chooseLocation: {\r\n    padding: \"20px\",\r\n  },\r\n  locationPaper: {\r\n    height: \"100%\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n  },\r\n  locationButton: {\r\n    paddingBottom: \"10px\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      border: \"1px solid #0a045e\",\r\n    },\r\n  },\r\n  uploadButton: {\r\n    width: \"100%\",\r\n    background: \"#30a3f2\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n  locationChooser: {\r\n    padding: \"10px\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      border: \"1px solid #0a045e\",\r\n    },\r\n  },\r\n  verticalContainer: {\r\n    height: \"75px\",\r\n    position: \"relative\",\r\n  },\r\n  verticalDiv: {\r\n    textAlign: \"center\",\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    msTransform: \"translateY(-50%)\",\r\n    transform: \"translateY(-50%)\",\r\n  },\r\n  loader: {\r\n    paddingTop: \"50px\",\r\n    paddingBottom: \"50px\",\r\n  },\r\n  progressContainer: {\r\n    height: \"50px\",\r\n    position: \"relative\",\r\n  },\r\n  progressDiv: {\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    msTransform: \"translateY(-50%)\",\r\n    transform: \"translateY(-50%)\",\r\n  },\r\n}));\r\n\r\ninterface LocationItemProps {\r\n  key: number;\r\n  oid: string;\r\n  latitude: string;\r\n  longitude: string;\r\n  name: string;\r\n  setLocation: React.Dispatch<\r\n    React.SetStateAction<\r\n      | {\r\n          [key: string]: any;\r\n        }\r\n      | undefined\r\n    >\r\n  >;\r\n  setTitle: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nconst LocationItem: React.FC<LocationItemProps> = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const changeLocation = () => {\r\n    props.setLocation({\r\n      oid: props.oid,\r\n      latitude: props.latitude,\r\n      longitude: props.longitude,\r\n      name: props.name,\r\n    });\r\n    props.setTitle(props.name);\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      className={classes.locationChooser}\r\n      onClick={changeLocation}\r\n      item\r\n      lg={2}\r\n      md={2}\r\n      sm={4}\r\n      xs={6}\r\n    >\r\n      <Grid container>\r\n        <Grid item xs={6}>\r\n          <div className={classes.verticalContainer}>\r\n            <div className={classes.verticalDiv}>\r\n              <LocationOnIcon fontSize=\"large\" />\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <div style={{ fontSize: \"12px\" }}>Latitude</div>\r\n          <div style={{ color: \"#fff\" }}>\r\n            {parseFloat(props.latitude).toFixed(3)}\r\n          </div>\r\n          <div style={{ fontSize: \"12px\" }}>Longitude</div>\r\n          <div style={{ color: \"#fff\" }}>\r\n            {parseFloat(props.longitude).toFixed(3)}\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\ninterface LocationDialogProps {\r\n  open: boolean;\r\n  setLocation: React.Dispatch<\r\n    React.SetStateAction<\r\n      | {\r\n          [key: string]: any;\r\n        }\r\n      | undefined\r\n    >\r\n  >;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst LocationDialog: React.FC<LocationDialogProps> = (props) => {\r\n  const classes = useStyles();\r\n  const [locationData, setLocationData] = useState<{ [key: string]: any }[]>(\r\n    []\r\n  );\r\n  const auth = useContext(AuthContext);\r\n  const [searchData, setSearchData] = useState<{ [key: string]: any }[]>([]);\r\n  const [title, setTitle] = useState<string>(\"Choose a Location\");\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n\r\n  // eslint-disable-next-line\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchLocations = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/cctv/getcctv\",\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        setLocationData(responseData);\r\n        setSearchData(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (props.open) {\r\n      fetchLocations();\r\n    }\r\n  }, [props.open, sendRequest, auth.token]);\r\n\r\n  const clearLocation = () => {\r\n    props.setLocation({});\r\n    setTitle(\"Choose a Location\");\r\n  };\r\n\r\n  const searchHandler = (event) => {\r\n    setSearchText(event.target.value);\r\n    let search = event.target.value;\r\n    let items = locationData;\r\n    if (search) {\r\n      let filterItems: { [key: string]: any }[] = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (\r\n          items[i].formatted_address\r\n            .toLowerCase()\r\n            .includes(search.toLowerCase()) ||\r\n          items[i].latitude.toString().includes(search) ||\r\n          items[i].longitude.toString().includes(search)\r\n        ) {\r\n          filterItems.push(items[i]);\r\n        }\r\n      }\r\n      setSearchData(filterItems);\r\n    } else {\r\n      setSearchData(items);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      fullWidth={true}\r\n      maxWidth={\"lg\"}\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      aria-labelledby=\"max-width-dialog-title\"\r\n    >\r\n      <DialogTitle>\r\n        <Grid container>\r\n          <Grid item md={8} xs={12}>\r\n            {title}\r\n          </Grid>\r\n          <Grid item md={4} xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              className={classes.margin}\r\n              id=\"input-with-icon-textfield\"\r\n              label=\"Search\"\r\n              value={searchText}\r\n              onChange={searchHandler}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchIcon />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {isLoading && (\r\n          <div className={classes.loader}>\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        <Grid container>\r\n          {searchData &&\r\n            searchData.map((location, index) => (\r\n              <LocationItem\r\n                key={index}\r\n                oid={location._id.$oid}\r\n                latitude={location.latitude}\r\n                longitude={location.longitude}\r\n                name={location.formatted_address}\r\n                setLocation={props.setLocation}\r\n                setTitle={setTitle}\r\n              />\r\n            ))}\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button autoFocus onClick={clearLocation} color=\"primary\">\r\n          Clear\r\n        </Button>\r\n        <Button onClick={props.handleClose} color=\"primary\" autoFocus>\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst Upload: React.FC = () => {\r\n  const classes = useStyles();\r\n  const auth = useContext(AuthContext);\r\n  const [videoFile, setVideoFile] = useState<File | null>(null);\r\n  const [progress, setProgress] = useState<number>(0);\r\n  const [processVideo, setProcessVideo] = useState<boolean>(false);\r\n  const [uploading, setUploading] = useState<boolean>(false);\r\n  const [success, setSuccess] = useState<boolean>(false);\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\r\n  const [location, setLocation] = useState<{ [key: string]: any }>();\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const { error, clearError, setErrorText } = useHttpClient();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const toggleProcess = () => {\r\n    setProcessVideo((p) => !p);\r\n  };\r\n\r\n  const onDrop = (accepted, rejected, links) => {\r\n    if (accepted && accepted.length > 0) {\r\n      setVideoFile(null);\r\n      console.log(accepted[0]);\r\n      setVideoFile(accepted[0]);\r\n    }\r\n  };\r\n\r\n  const clearVideoFile = () => {\r\n    setVideoFile(null);\r\n  };\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n  };\r\n\r\n  const uploadHandler = () => {\r\n    if (\r\n      videoFile &&\r\n      selectedDate &&\r\n      location &&\r\n      typeof processVideo === \"boolean\"\r\n    ) {\r\n      setUploading(true);\r\n      setProgress(0);\r\n      \r\n      const headers = {\r\n        Authorization: 'Bearer ' + auth.token\r\n      };\r\n\r\n      const config = {\r\n        onUploadProgress: function (progressEvent) {\r\n          let percentCompleted = Math.round(\r\n            (progressEvent.loaded * 100) / progressEvent.total\r\n          );\r\n          setProgress(percentCompleted);\r\n        },\r\n        headers: headers\r\n      };\r\n\r\n\r\n      let data = new FormData();\r\n      data.append(\"video\", videoFile);\r\n      data.append(\"time\", String(selectedDate));\r\n      data.append(\"location\", location.oid);\r\n      data.append(\"process\", String(processVideo));\r\n\r\n      axios\r\n        .post(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/addvideo\",\r\n          data,\r\n          config\r\n        )\r\n        .then((res) => {\r\n          console.log(res);\r\n          clearError();\r\n          setLocation(undefined);\r\n          setVideoFile(null);\r\n          setSuccess(true);\r\n          setProcessVideo(false);\r\n        })\r\n        .catch((err) => {\r\n          setErrorText(err.message);\r\n          setUploading(false);\r\n        });\r\n    } else {\r\n      setErrorText(\"Fields are empty! Please recheck provided params.\");\r\n    }\r\n  };\r\n\r\n  const clearSuccess = () => {\r\n    setUploading(false);\r\n    setSuccess(false);\r\n    setProgress(0);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <LocationDialog\r\n        open={open}\r\n        handleClose={handleClose}\r\n        setLocation={setLocation}\r\n      />\r\n      <div className={classes.container}>\r\n        <Paper square>\r\n          <Grid container>\r\n            <Grid\r\n              style={{ backgroundColor: \"#d6dffe\" }}\r\n              item\r\n              md={7}\r\n              sm={12}\r\n              xs={12}\r\n            >\r\n              <div>\r\n                <MagicDropzone\r\n                  className={classes.dropzone}\r\n                  accept=\"video/mp4, video/x-m4v, video/*\"\r\n                  multiple={false}\r\n                  onDrop={onDrop}\r\n                >\r\n                  <div className={classes.dropzoneContainer}>\r\n                    <div style={{ marginTop: \"30px\", marginBottom: \"30px\" }}>\r\n                      <img width=\"100\" src={upload} alt=\"upload\" />\r\n                      <p className={classes.drag}>Drag and drop videos here</p>\r\n                      <p className={classes.or}>or</p>\r\n                      <Button className={classes.browseButton}>\r\n                        Browse Videos\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </MagicDropzone>\r\n              </div>\r\n            </Grid>\r\n            <Grid item md={5} sm={12} xs={12}>\r\n              <div style={{ padding: \"20px\" }}>\r\n                <Paper className={classes.filePaper} variant=\"outlined\" square>\r\n                  {videoFile ? (\r\n                    <Grid container>\r\n                      <Grid className={classes.verticalText} item xs={10}>\r\n                        <span className={classes.verticalSpan}>\r\n                          {videoFile.name}\r\n                        </span>\r\n                      </Grid>\r\n                      <Grid className={classes.verticalText} item xs={2}>\r\n                        <IconButton aria-label=\"clear\" onClick={clearVideoFile}>\r\n                          <CancelIcon />\r\n                        </IconButton>\r\n                      </Grid>\r\n                    </Grid>\r\n                  ) : (\r\n                    <Grid container>\r\n                      <Grid className={classes.verticalText} item xs={12}>\r\n                        No video uploaded\r\n                      </Grid>\r\n                    </Grid>\r\n                  )}\r\n                </Paper>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <div>\r\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                    <Typography variant=\"h5\" style={{ color: \"#758cd1\" }}>\r\n                      Date\r\n                    </Typography>\r\n                    <KeyboardDateTimePicker\r\n                      variant=\"inline\"\r\n                      ampm={false}\r\n                      label=\"Select Date and Timestamp\"\r\n                      value={selectedDate}\r\n                      onChange={handleDateChange}\r\n                      onError={console.log}\r\n                      format=\"yyyy/MM/dd HH:mm\"\r\n                    />\r\n                  </MuiPickersUtilsProvider>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Grid container className={classes.chooseLocation}>\r\n                  <Grid item xs={6}>\r\n                    <Paper square className={classes.locationPaper}>\r\n                      {location ? (\r\n                        <div style={{ padding: \"5px\" }}>\r\n                          <div style={{ fontSize: \"12px\" }}>Latitude</div>\r\n                          <div style={{ color: \"#fff\" }}>\r\n                            {location.latitude}\r\n                          </div>\r\n                          <div style={{ fontSize: \"12px\" }}>Longitude</div>\r\n                          <div style={{ color: \"#fff\" }}>\r\n                            {location.longitude}\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <Typography\r\n                          style={{\r\n                            marginTop: \"14%\",\r\n                            fontSize: \"18px\",\r\n                            textAlign: \"center\",\r\n                          }}\r\n                        >\r\n                          No Location selected\r\n                        </Typography>\r\n                      )}\r\n                    </Paper>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Paper\r\n                      square\r\n                      className={classes.locationButton}\r\n                      onClick={handleClickOpen}\r\n                    >\r\n                      <div style={{ margin: \"10px\" }}>\r\n                        <MyLocationIcon fontSize=\"large\" />\r\n                      </div>\r\n                      Choose Location\r\n                    </Paper>\r\n                  </Grid>\r\n                </Grid>\r\n                <FormGroup style={{ padding: \"20px\", paddingTop: \"0px\" }} row>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={processVideo}\r\n                        onChange={toggleProcess}\r\n                        name=\"process\"\r\n                        color=\"primary\"\r\n                      />\r\n                    }\r\n                    label=\"Process video after uploading\"\r\n                  />\r\n                </FormGroup>\r\n              </div>\r\n              <div style={{ paddingLeft: \"20px\", paddingRight: \"20px\" }}>\r\n                {error && (\r\n                  <Alert\r\n                    variant=\"outlined\"\r\n                    style={{ color: \"#f44336\", marginBottom: \"10px\" }}\r\n                    severity=\"error\"\r\n                    onClose={clearError}\r\n                  >\r\n                    {error}\r\n                  </Alert>\r\n                )}\r\n                {success && (\r\n                  <Alert severity=\"success\" onClose={clearSuccess}>\r\n                    <AlertTitle>Success</AlertTitle>\r\n                    <span>\r\n                      <strong>Camera</strong>\r\n                    </span>{\" \"}\r\n                    location has been succesfully updated.\r\n                  </Alert>\r\n                )}\r\n              </div>\r\n              {uploading && (\r\n                <Grid style={{ padding: \"20px\" }} container>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                      Uploading Video {progress} %\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <div className=\"cssProgress\">\r\n                      <div className=\"progress4\">\r\n                        <div\r\n                          className=\"cssProgress-bar cssProgress-glow-active cssProgress-lg\"\r\n                          style={{ width: `${progress}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n              )}\r\n              <div\r\n                style={{\r\n                  paddingLeft: \"20px\",\r\n                  paddingRight: \"20px\",\r\n                  marginBottom: \"10px\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"default\"\r\n                  className={classes.uploadButton}\r\n                  startIcon={<CloudUploadIcon />}\r\n                  onClick={uploadHandler}\r\n                  disabled={uploading}\r\n                >\r\n                  Upload\r\n                </Button>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Upload;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary,\r\n    height: \"100%\",\r\n  },\r\n}));\r\n\r\nconst AutoGrid: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4}>\r\n        <Grid item xl={4} lg={4} md={4} xs={12} sm={12}>\r\n          <Paper className={classes.paper} square></Paper>\r\n        </Grid>\r\n        <Grid item xl={4} lg={4} md={4} xs={12} sm={12}>\r\n          <Paper style={{ margin: \"auto\" }} className={classes.paper} square>\r\n            <div style={{ marginTop: \"50px\" }}>\r\n              <h1>BLANK</h1>\r\n            </div>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xl={4} lg={4} md={4} xs={12} sm={12}>\r\n          <Paper className={classes.paper} square>\r\n            <div style={{ marginTop: \"50px\" }}>\r\n              <h1>BLANK</h1>\r\n            </div>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoGrid;\r\n","import React from \"react\";\r\nimport AutoGrid from \"./AutoGrid\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst Console: React.FC = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"xl\">\r\n        <AutoGrid />\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Console;\r\n","import React, { createContext, useContext, useReducer } from \"react\";\r\nimport { AttributeState, Actions } from \"../../types\";\r\n\r\ninterface AttributeProps {\r\n  reducer: (\r\n    state: AttributeState,\r\n    action: Actions\r\n  ) => {\r\n    attributes: any[];\r\n  };\r\n  initialAttribute: AttributeState;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const AttributeContext = createContext<\r\n  [AttributeState, React.Dispatch<Actions>]\r\n>([null, null]);\r\n\r\nexport const AttributeProvider: React.FC<AttributeProps> = ({\r\n  reducer,\r\n  initialAttribute,\r\n  children,\r\n}) => (\r\n  <AttributeContext.Provider value={useReducer(reducer, initialAttribute)}>\r\n    {children}\r\n  </AttributeContext.Provider>\r\n);\r\n\r\nexport const useAttribute = () => useContext(AttributeContext);\r\n","import React, { useState } from \"react\";\r\nimport { useAttribute } from \"../context/attribute-context\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport { SketchPicker } from \"react-color\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    boxShadow: \"none !important\",\r\n  },\r\n  shape: {\r\n    width: 25,\r\n    height: 25,\r\n  },\r\n  shapeCircle: {\r\n    borderRadius: \"50%\",\r\n  },\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\ninterface ColorCircleProps {\r\n  id: string;\r\n  index: number;\r\n  color: { hex: string };\r\n}\r\n\r\nconst ColorCircle: React.FC<ColorCircleProps> = (props) => {\r\n  const classes = useStyles();\r\n\r\n  // eslint-disable-next-line\r\n  const [{ attributes }, dispatch] = useAttribute();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleColorChange = (color) => {\r\n    dispatch({\r\n      type: \"updateColor\",\r\n      value: color,\r\n      pid: props.id,\r\n      idx: props.index\r\n    });\r\n  };\r\n\r\n  const handleClick: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={clsx(classes.shape, classes.shapeCircle)}\r\n        style={{ backgroundColor: `${props.color.hex}` }}\r\n        onClick={handleClick}\r\n      />\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <SketchPicker\r\n          color={props.color.hex}\r\n          onChangeComplete={handleColorChange}\r\n        />\r\n      </Popover>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorCircle;\r\n","import { MetaData } from \"../../types\";\r\n\r\nexport const stopwords = ['Blazer','Burkha','Chudidar','Long-pants','Saree','Bags','Kurta','Skirt','Strip-dress','Sunglasses','Trousers','shirt'];\r\n\r\nexport function captureVideoFrame(vid, format, quality) {\r\n    if (typeof vid === \"string\") {\r\n      vid = document.getElementById(vid);\r\n    }\r\n\r\n    format = format || \"jpeg\";\r\n    quality = quality || 0.92;\r\n\r\n    if (!vid || (format !== \"png\" && format !== \"jpeg\")) {\r\n      return false;\r\n    }\r\n\r\n    const canvas = document.createElement(\"canvas\");\r\n\r\n    canvas.width = vid.videoWidth;\r\n    canvas.height = vid.videoHeight;\r\n\r\n    canvas.getContext(\"2d\").drawImage(vid, 0, 0);\r\n\r\n    let dataUri = canvas.toDataURL(\"image/\" + format, quality);\r\n    let data = dataUri.split(\",\")[1];\r\n    let mimeType = dataUri.split(\";\")[0].slice(5);\r\n\r\n    let bytes = window.atob(data);\r\n    let buf = new ArrayBuffer(bytes.length);\r\n    let arr = new Uint8Array(buf);\r\n\r\n    for (let i = 0; i < bytes.length; i++) {\r\n      arr[i] = bytes.charCodeAt(i);\r\n    }\r\n\r\n    let blob = new Blob([arr], { type: mimeType });\r\n    return { blob: blob, dataUri: dataUri, format: format };\r\n  }\r\n\r\n  export const md:MetaData[] = [\r\n    {\r\n      frame_sec: 0,\r\n      persons: [\r\n        {\r\n          box: [0, 0, 0.3, 0.3],\r\n          labels: [\"shirt\"],\r\n          colors: [\"#fff222\", \"#fff222\"],\r\n        },\r\n        {\r\n          box: [0, 0, 0.3, 0.3],\r\n          labels: [\"shirt\"],\r\n          colors: [\"#fff222\", \"#fff222\"],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      frame_sec: 0.5,\r\n      persons: [\r\n        {\r\n          box: [0, 0, 0.3, 0.3],\r\n          labels: [\"shirt\"],\r\n          colors: [\"#fff222\", \"#fff222\"],\r\n        },\r\n        {\r\n          box: [0, 0, 0.3, 0.3],\r\n          labels: [\"shirt\"],\r\n          colors: [\"#fff222\", \"#fff222\"],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      frame_sec: 1,\r\n      persons: [\r\n        {\r\n          box: [0, 0, 0.3, 0.3],\r\n          labels: [\"shirt\"],\r\n          colors: [\"#fff222\", \"#fff222\"],\r\n        },\r\n        {\r\n          box: [0, 0, 0.3, 0.3],\r\n          labels: [\"shirt\"],\r\n          colors: [\"#fff222\", \"#fff222\"],\r\n        },\r\n      ],\r\n    },\r\n  ]","import React, { useState } from \"react\";\r\nimport { useAttribute } from \"../context/attribute-context\";\r\nimport {\r\n  IconButton,\r\n  Grid,\r\n  Typography,\r\n  Chip,\r\n  Avatar,\r\n  Popover,\r\n  Divider\r\n} from \"@material-ui/core\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport IndeterminateCheckBoxIcon from \"@material-ui/icons/IndeterminateCheckBox\";\r\nimport ColorCircle from \"./ColorCircle\";\r\n\r\nimport { Feature } from \"../../types\";\r\nimport { stopwords } from \"../utils/utils\";\r\n\r\ninterface AttributeItemProps {\r\n  id: string;\r\n  index: number;\r\n  labels: string[];\r\n  colors: { hex: string }[];\r\n}\r\n\r\nconst AttributeItem: React.FC<AttributeItemProps> = (props) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  // eslint-disable-next-line\r\n  const [{ attributes }, dispatch] = useAttribute();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <div style={{ width: \"300px\" }}>\r\n          {stopwords.map((sw, index) => (\r\n            <React.Fragment key={index}>\r\n              {!props.labels.includes(sw) && (\r\n                <Chip\r\n                  style={{ margin: \"5px 10px\", cursor: \"pointer\" }}\r\n                  color=\"secondary\"\r\n                  label={sw}\r\n                  avatar={<Avatar>{sw.charAt(0)}</Avatar>}\r\n                  onClick={() => {\r\n                    dispatch({\r\n                      type: \"addLabel\",\r\n                      pid: props.id,\r\n                      value: sw,\r\n                    });\r\n                    handleClose();\r\n                  }}\r\n                />\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      </Popover>\r\n      <Grid container spacing={2}>\r\n        <Grid item xl={4} lg={4} md={4} xs={4} sm={4}>\r\n          <Typography color=\"primary\" variant=\"h6\">\r\n            Person {props.index + 1}\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={10}>\r\n          {props.labels.map((label, index) => (\r\n            <Chip\r\n              key={index}\r\n              style={{ margin: \"5px 3px\", color: \"#1C233E\", fontWeight: 600 }}\r\n              color=\"primary\"\r\n              label={label}\r\n              onDelete={() =>\r\n                dispatch({\r\n                  type: \"removeLabel\",\r\n                  pid: props.id,\r\n                  value: label,\r\n                })\r\n              }\r\n              avatar={<Avatar>{label.charAt(0)}</Avatar>}\r\n            />\r\n          ))}\r\n          <IconButton\r\n            aria-describedby={id}\r\n            style={{ padding: \"1px\", color: \"#fff\" }}\r\n            onClick={handleClick}\r\n          >\r\n            <AddBoxIcon />\r\n          </IconButton>\r\n        </Grid>\r\n        <Grid item xs={2}>\r\n          <Grid container spacing={1}>\r\n            {props.colors.map((color, index) => (\r\n              <Grid key={index} item xs={6}>\r\n                <ColorCircle id={props.id} index={index} color={color} />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n          <Grid container style={{ marginTop: \"10px\" }} spacing={1}>\r\n            <Grid item xs={6}>\r\n              {\" \"}\r\n              <IconButton\r\n                aria-describedby={id}\r\n                style={{ padding: \"1px\" }}\r\n                color='primary'\r\n                onClick={() =>\r\n                  dispatch({\r\n                    type: \"removeColor\",\r\n                    pid: props.id,\r\n                  })\r\n                }\r\n                disabled={props.colors.length === 0}\r\n              >\r\n                <IndeterminateCheckBoxIcon />\r\n              </IconButton>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {\" \"}\r\n              <IconButton\r\n                aria-describedby={id}\r\n                style={{ padding: \"1px\" }}\r\n                color='primary'\r\n                onClick={() =>\r\n                  dispatch({\r\n                    type: \"addColor\",\r\n                    pid: props.id,\r\n                    value: { hex: \"#000\" },\r\n                  })\r\n                }\r\n                disabled={props.colors.length > 3}\r\n              >\r\n                <AddBoxIcon />\r\n              </IconButton>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      <Divider style={{ margin: \"20px\", backgroundColor: \"#2db1e1\"}} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\ninterface AttributeListProps {\r\n  items: Feature[];\r\n}\r\n\r\nconst AttributeList: React.FC<AttributeListProps> = (props) => {\r\n  return (\r\n    <div>\r\n      {props.items.map((attribute, index: number) => (\r\n        <AttributeItem\r\n          key={index}\r\n          id={attribute.id}\r\n          index={index}\r\n          labels={attribute.labels}\r\n          colors={attribute.colors}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttributeList;\r\n","import React, { useState, useCallback } from \"react\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\n\r\ninterface CropperProps {\r\n  src: string | ArrayBuffer | null;\r\n  croppedSrc: string | ArrayBuffer | null;\r\n  setCroppedSrc: React.Dispatch<\r\n    React.SetStateAction<string | ArrayBuffer | null>\r\n  >;\r\n}\r\n\r\ntype Crop = {\r\n  aspect: number;\r\n  unit: string;\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n};\r\n\r\nconst Cropper: React.FC<CropperProps> = (props) => {\r\n  const [imgRef, setImgRef] = useState(null);\r\n  const [crop, setCrop] = useState<Crop>({\r\n    aspect: 9 / 16,\r\n    unit: \"%\",\r\n    x: 25,\r\n    y: 25,\r\n    width: 50,\r\n    height: 50,\r\n  });\r\n\r\n  const onLoad = useCallback((img) => {\r\n    setImgRef(img);\r\n  }, []);\r\n\r\n  const makeClientCrop = (crop) => {\r\n    if (imgRef && crop.width && crop.height) {\r\n      const croppedImageUrl = getCroppedImg(imgRef, crop);\r\n      props.setCroppedSrc(croppedImageUrl);\r\n    }\r\n  };\r\n\r\n  const getCroppedImg = (image: any, crop: Crop) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (ctx) {\r\n      ctx.drawImage(\r\n        image,\r\n        crop.x * scaleX,\r\n        crop.y * scaleY,\r\n        crop.width * scaleX,\r\n        crop.height * scaleY,\r\n        0,\r\n        0,\r\n        crop.width,\r\n        crop.height\r\n      );\r\n    }\r\n\r\n    return canvas.toDataURL(\"image/jpeg\");\r\n  };\r\n\r\n  makeClientCrop(crop);\r\n\r\n  return (\r\n    <ReactCrop\r\n      src={props.src}\r\n      onImageLoaded={onLoad}\r\n      crop={crop}\r\n      onChange={(c: Crop) => setCrop(c)}\r\n      onComplete={makeClientCrop}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Cropper;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  Typography,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  InputAdornment,\r\n  TextField,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  locationChooser: {\r\n    padding: \"10px\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      border: \"1px solid #0a045e\",\r\n    },\r\n  },\r\n  verticalContainer: {\r\n    height: \"75px\",\r\n    position: \"relative\",\r\n  },\r\n  verticalDiv: {\r\n    textAlign: \"center\",\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    msTransform: \"translateY(-50%)\",\r\n    transform: \"translateY(-50%)\",\r\n  },\r\n  loader: {\r\n    paddingTop: \"50px\",\r\n    paddingBottom: \"50px\",\r\n  },\r\n  selector: {\r\n      background: \"#2db1e1\",\r\n      color: \"#0a045e\",\r\n      fontWeight: 600\r\n  }\r\n}));\r\n\r\ninterface ChooseItemProps {\r\n  key: string | number;\r\n  index?: string | number;\r\n  oid: string;\r\n  name: string;\r\n  date: string | number;\r\n  time: string | number;\r\n  location_id: string | number;\r\n  file_id: string | number;\r\n  thumbnail_id: string | number;\r\n  duration: string | number;\r\n  processed: string | boolean;\r\n  video: string;\r\n  setVideo: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nconst ChooseItem: React.FC<ChooseItemProps> = (props) => {\r\n    const classes = useStyles();\r\n  return (\r\n        <Grid\r\n          item\r\n          xl={4}\r\n          lg={4}\r\n          md={4}\r\n          xs={12}\r\n          sm={12}\r\n          onClick={() => props.setVideo(props.oid)}\r\n          style= {{ cursor: 'pointer' }}\r\n          className={props.video === props.oid ? classes.selector : \"\"}\r\n        >\r\n            <img style={{ width: '100%'}} src={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${props.thumbnail_id}`} alt=\"thumbnail\" />\r\n          {props.name}\r\n        </Grid>\r\n  );\r\n};\r\ninterface ChooseDialogProps {\r\n  open: boolean;\r\n  setVideoTag: React.Dispatch<React.SetStateAction<string>>;\r\n  handleClose: () => void;\r\n  processed: boolean;\r\n}\r\n\r\nconst ChooseDialog: React.FC<ChooseDialogProps> = ({ open, setVideoTag, handleClose, processed }) => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const classes = useStyles();\r\n  const [videoData, setVideoData] = useState<{ [key: string]: any }[]>([]);\r\n  const auth = useContext(AuthContext);\r\n  const [searchData, setSearchData] = useState<{ [key: string]: any }[]>([]);\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [video, setVideo] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchVideos = async () => {\r\n      try {\r\n        let responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/getvideo\",\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        if (processed)\r\n          responseData = responseData.filter((video) => video.processed === true)\r\n        setVideoData(responseData);\r\n        setSearchData(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (open) {\r\n      fetchVideos();\r\n    }\r\n  }, [open, sendRequest, processed, auth.token]);\r\n  const clearVideo = () => {\r\n    setVideo(null);\r\n  };\r\n\r\n  const searchHandler = (event) => {\r\n    setSearchText(event.target.value);\r\n    let search = event.target.value;\r\n    let items = videoData;\r\n    if (search) {\r\n      let filterItems: { [key: string]: any }[] = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (items[i].name.toLowerCase().includes(search.toLowerCase())) {\r\n          filterItems.push(items[i]);\r\n        }\r\n      }\r\n      setSearchData(filterItems);\r\n    } else {\r\n      setSearchData(items);\r\n    }\r\n  };\r\n\r\n  const videoSetter = () => {\r\n      video && setVideoTag(video);\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      fullWidth={true}\r\n      maxWidth={\"lg\"}\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"max-width-dialog-title\"\r\n    >\r\n      <DialogTitle>\r\n        {error && (\r\n          <Alert\r\n            variant=\"outlined\"\r\n            style={{ color: \"#f44336\", marginBottom: \"10px\" }}\r\n            severity=\"error\"\r\n            onClose={clearError}\r\n          >\r\n            {error}\r\n          </Alert>\r\n        )}\r\n        <Grid container>\r\n          <Divider style={{ color: \"#ffffff\" }} />\r\n          <Grid item md={6} xs={12}>\r\n            <div>\r\n              <Typography\r\n                style={{ fontSize: \"20px\", color: \"#ffffff\" }}\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n              >\r\n                Choose a Video\r\n              </Typography>\r\n            </div>\r\n          </Grid>\r\n          <Grid item md={6} xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              className={classes.margin}\r\n              id=\"input-with-icon-textfield\"\r\n              label=\"Search\"\r\n              value={searchText}\r\n              onChange={searchHandler}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchIcon />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {isLoading && (\r\n          <div className={classes.loader}>\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        <Grid container>\r\n          {searchData && (\r\n            <Grid container spacing={4}>\r\n              {searchData.map((vid, index) => (\r\n                <ChooseItem\r\n                  key={index}\r\n                  index={index}\r\n                  oid={vid._id.$oid}\r\n                  name={vid.name}\r\n                  date={vid.date}\r\n                  time={vid.date}\r\n                  location_id={vid.location_id}\r\n                  file_id={vid.file_id}\r\n                  thumbnail_id={vid.thumbnail_id}\r\n                  duration={vid.duration}\r\n                  processed={vid.processed}\r\n                  video={video}\r\n                  setVideo={setVideo}\r\n                />\r\n              ))}\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={videoSetter} autoFocus color=\"primary\" disabled={!video}>\r\n          Ok\r\n        </Button>\r\n        <Button autoFocus color=\"primary\" onClick={clearVideo}>\r\n          Clear\r\n        </Button>\r\n        <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n          Cancel\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ChooseDialog;\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport ChooseDialog from \"./ChooseDialog\";\r\nimport ReactPlayer from \"react-player\";\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport { captureVideoFrame } from \"../utils/utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1),\r\n    textTransform: \"none\",\r\n    fontFamily: \"Trebuchet MS, Helvetica, sans-serif\",\r\n    borderRadius: 7,\r\n    fontWeight: 600,\r\n    color: \"#1E1E30\",\r\n    fontSize: \"15px\",\r\n    background: \"#5ce1e6\",\r\n    \"&:hover\": {\r\n      background: \"#ffffff\",\r\n    },\r\n  },\r\n  playIcon: {\r\n    fontSize: \"100px\",\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  handleClose: () => void;\r\n  imagePushHandler: (result: string | ArrayBuffer | null) => void;\r\n}\r\n\r\nconst CaptureDialog: React.FC<Props> = ({ open, handleClose, imagePushHandler }) => {\r\n  const classes = useStyles();\r\n  const [video, setVideo] = useState<{ [key: string]: any }>({});\r\n  const [choose, setChoose] = useState<boolean>(false);\r\n  const [videoTag, setVideoTag] = useState<string>(\"\");\r\n  const handleCloseChoose = () => setChoose(false);\r\n  const handleOpenChoose = () => setChoose(true);\r\n  const playerRef = useRef(null);\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest } = useHttpClient();\r\n  useEffect(() => {\r\n    if (videoTag) {\r\n      const fetchVideo = async () => {\r\n        try {\r\n          const responseData = await sendRequest(\r\n            process.env.REACT_APP_BACKEND_URL +\r\n              \"/video/getvideobyid/\" +\r\n              videoTag,\r\n            \"GET\",\r\n            null,\r\n            {\r\n              Authorization: \"Bearer \" + auth.token,\r\n            }\r\n          );\r\n          setVideo(responseData);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      fetchVideo();\r\n      handleCloseChoose();\r\n    }\r\n  }, [videoTag, auth.token, sendRequest]);\r\n  const getFrame = () => {\r\n    const frame = captureVideoFrame(\r\n      playerRef.current.getInternalPlayer(),\r\n      \"jpeg\",\r\n      0.92\r\n    );\r\n    if (frame) imagePushHandler(frame.dataUri);\r\n    handleClose();\r\n  };\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <ChooseDialog\r\n        open={choose}\r\n        setVideoTag={setVideoTag}\r\n        handleClose={handleCloseChoose}\r\n        processed={false}\r\n      />\r\n      <DialogTitle id=\"alert-dialog-title\">{\"Capture Frame\"}</DialogTitle>\r\n      <DialogContent>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            {Object.keys(video).length > 0 && (\r\n              <ReactPlayer\r\n                ref={(player) => {\r\n                  playerRef.current = player;\r\n                }}\r\n                controls\r\n                url={`${process.env.REACT_APP_BACKEND_URL}/helpers/video/${video.file_id}`}\r\n                light={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${video.thumbnail_id}`}\r\n                playing\r\n                pip\r\n                width=\"100%\"\r\n                playIcon={<PlayCircleFilledIcon className={classes.playIcon} />}\r\n                config={{\r\n                  file: {\r\n                    attributes: {\r\n                      crossOrigin: \"anonymous\",\r\n                    },\r\n                  },\r\n                }}\r\n              />\r\n            )}\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <Button className={classes.button} onClick={handleOpenChoose}>\r\n              Choose Video\r\n            </Button>\r\n          </Grid>\r\n          <Grid item sm={6} xs={12}>\r\n            <Button\r\n              className={classes.button}\r\n              onClick={getFrame}\r\n              disabled={Object.keys(video).length === 0}\r\n            >\r\n              Capture Frame\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n          Cancel\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CaptureDialog;\r\n","import React, { useState } from \"react\";\r\nimport uuid from \"uuid\";\r\nimport Cropper from \"./Cropper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PhotoIcon from \"@material-ui/icons/Photo\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CropIcon from \"@material-ui/icons/Crop\";\r\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\";\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport CaptureDialog from \"./CaptureDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  input: {\r\n    // display: 'none',\r\n  },\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  tryButton: {\r\n    margin: theme.spacing(1),\r\n    textTransform: \"none\",\r\n    fontFamily: \"Trebuchet MS, Helvetica, sans-serif\",\r\n    borderRadius: 7,\r\n    fontWeight: 600,\r\n    color: \"#1E1E30\",\r\n    fontSize: \"15px\",\r\n    background: \"#5ce1e6\",\r\n    \"&:hover\": {\r\n      background: \"#ffffff\",\r\n    },\r\n  },\r\n  videoCapture: {\r\n    width: \"100%\",\r\n    textTransform: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"15px\",\r\n    fontWeight: 600,\r\n    padding: \"10px 10px\",\r\n    border: \"1px solid #2bd1e1\"\r\n  },\r\n}));\r\n\r\ntype Image = { id: string; src: string | ArrayBuffer | null };\r\n\r\ninterface ImageItemProps {\r\n  imageDeleteHandler: (id: string) => void;\r\n  imageCropHandler: (id: string, result: string | ArrayBuffer | null) => void;\r\n  key: string;\r\n  id: string;\r\n  index: number;\r\n  src: string | ArrayBuffer | null;\r\n}\r\n\r\nconst ImageItem: React.FC<ImageItemProps> = (props) => {\r\n  const classes = useStyles();\r\n  const [fullWidth, setFullWidth] = useState<boolean>(true);\r\n  const [maxWidth, setMaxWidth] = useState<\r\n    false | \"md\" | \"xs\" | \"sm\" | \"lg\" | \"xl\" | undefined\r\n  >(\"md\");\r\n  const [show, setShow] = useState<boolean>(false);\r\n\r\n  const openModal = () => {\r\n    setShow(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShow(false);\r\n  };\r\n\r\n  // eslint-disable-next-line\r\n  const handleMaxWidthChange = (event) => {\r\n    setMaxWidth(event.target.value);\r\n  };\r\n\r\n  // eslint-disable-next-line\r\n  const handleFullWidthChange = (event) => {\r\n    setFullWidth(event.target.checked);\r\n  };\r\n\r\n  const [croppedSrc, setCroppedSrc] = useState(props.src);\r\n\r\n  const setCropHandler = () => {\r\n    props.imageCropHandler(props.id, croppedSrc);\r\n    closeModal();\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Dialog\r\n        fullWidth={fullWidth}\r\n        maxWidth={maxWidth}\r\n        open={show}\r\n        onClose={closeModal}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={closeModal}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Crop\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={setCropHandler}>\r\n              save\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Cropper\r\n            src={props.src}\r\n            croppedSrc={croppedSrc}\r\n            setCroppedSrc={setCroppedSrc}\r\n          />\r\n        </div>\r\n      </Dialog>\r\n      <Grid container spacing={0}>\r\n        <Grid\r\n          item\r\n          xs={6}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <img height=\"80\" width=\"80\" src={String(props.src)} alt=\"ImageSrc\" />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <IconButton\r\n            aria-label=\"crop\"\r\n            className={classes.margin}\r\n            onClick={openModal}\r\n          >\r\n            <CropIcon style={{ color: \"black\" }} fontSize=\"large\" />\r\n          </IconButton>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <IconButton\r\n            aria-label=\"delete\"\r\n            className={classes.margin}\r\n            onClick={() => {\r\n              props.imageDeleteHandler(props.id);\r\n            }}\r\n          >\r\n            <CloseIcon style={{ color: \"black\" }} fontSize=\"large\" />\r\n          </IconButton>\r\n        </Grid>\r\n      </Grid>\r\n      <hr></hr>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\ninterface ImageListProps {\r\n  items: Image[];\r\n  imageDeleteHandler: (id: string) => void;\r\n  imageCropHandler: (id: string, result: string | ArrayBuffer | null) => void;\r\n}\r\n\r\nconst ImageList: React.FC<ImageListProps> = (props) => {\r\n  return (\r\n    <div style={{ marginTop: \"20px\" }}>\r\n      {props.items.map((image: Image, index: number) => (\r\n        <ImageItem\r\n          imageDeleteHandler={props.imageDeleteHandler}\r\n          imageCropHandler={props.imageCropHandler}\r\n          key={image.id}\r\n          id={image.id}\r\n          index={index}\r\n          src={image.src}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ImageCrop: React.FC = () => {\r\n  const classes = useStyles();\r\n  const [imgSrc, setImgSrc] = useState<Image[]>([]);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  const imagePushHandler = (result: string | ArrayBuffer | null) => {\r\n    setImgSrc([...imgSrc, { id: uuid(), src: result }]);\r\n    console.log(imgSrc);\r\n  };\r\n\r\n  const imageDeleteHandler = (id: string) => {\r\n    setImgSrc(imgSrc.filter((img) => img.id !== id));\r\n  };\r\n\r\n  const imageCropHandler = (\r\n    id: string,\r\n    result: string | ArrayBuffer | null\r\n  ) => {\r\n    let newImg = imgSrc;\r\n    for (let i = 0; i < newImg.length; i++) {\r\n      if (newImg[i].id === id) {\r\n        newImg[i].id = uuid();\r\n        newImg[i].src = result;\r\n      }\r\n    }\r\n    setImgSrc([...newImg]);\r\n  };\r\n\r\n  const onSelectFile:\r\n    | ((event: React.ChangeEvent<HTMLInputElement>) => void)\r\n    | undefined = (event) => {\r\n    if (event.target.files && event.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      // ImageSetter(null);\r\n      reader.addEventListener(\"load\", () => {\r\n        imagePushHandler(reader.result);\r\n      });\r\n      reader.readAsDataURL(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        <CaptureDialog open={open} handleClose={handleClose} imagePushHandler={imagePushHandler} />\r\n      <Button className={classes.videoCapture} component=\"span\" onClick={handleClickOpen}>\r\n        <PlayCircleFilledIcon /> &nbsp; CAPTURE FRAME FROM VIDEO\r\n      </Button>\r\n      <ImageList\r\n        items={imgSrc}\r\n        imageDeleteHandler={imageDeleteHandler}\r\n        imageCropHandler={imageCropHandler}\r\n      />\r\n      <Grid\r\n        container\r\n        spacing={0}\r\n        style={{ marginTop: \"30px\", marginBottom: \"30px\" }}\r\n      >\r\n        <Grid\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n          item\r\n          xs={6}\r\n        >\r\n          <input\r\n            accept=\"image/*\"\r\n            className={classes.input}\r\n            style={{ display: \"none\" }}\r\n            id=\"raised-button-file\"\r\n            onChange={onSelectFile}\r\n            type=\"file\"\r\n          />\r\n          <label htmlFor=\"raised-button-file\">\r\n            <Button className={classes.tryButton} component=\"span\">\r\n              <PhotoIcon /> &nbsp; ADD IMAGE\r\n            </Button>\r\n          </label>\r\n        </Grid>\r\n        <Grid\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n          item\r\n          xs={6}\r\n        >\r\n          {imgSrc.length > 0 && (\r\n            <Button className={classes.tryButton} component=\"span\">\r\n              <NoteAddIcon /> &nbsp; GENERATE\r\n            </Button>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageCrop;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport KeyboardVoiceIcon from \"@material-ui/icons/KeyboardVoice\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"100%\",\r\n    },\r\n  },\r\n  button: {\r\n    marginTop: \"5px\",\r\n    marginLeft: \"5px\",\r\n    width: \"100%\",\r\n    textTransform: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"16px\",\r\n    fontWeight: 500,\r\n    padding: \"4px 10px\",\r\n    border: \"1px solid #2bd1e1\",\r\n  },\r\n}));\r\n\r\nconst QueryField: React.FC = () => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState<string>(\"\");\r\n\r\n  const handleChange: (event: any) => void = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <form className={classes.root} noValidate autoComplete=\"off\">\r\n        <div>\r\n          <TextField\r\n            id=\"outlined-multiline-static\"\r\n            label=\"Type your query\"\r\n            multiline\r\n            rows=\"4\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            value={value}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </form>\r\n      <Grid container spacing={1}>\r\n        <Grid item sm={11} xs={10}>\r\n          <Button\r\n            className={classes.button}\r\n            endIcon={<Icon>send</Icon>}\r\n          >\r\n            SEND\r\n          </Button>\r\n        </Grid>\r\n        <Grid item sm={1} xs={2}>\r\n          <IconButton aria-label=\"voice\">\r\n            <KeyboardVoiceIcon color=\"primary\" />\r\n          </IconButton>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default QueryField;\r\n","import React, { useState } from \"react\";\r\nimport { useAttribute } from \"../context/attribute-context\";\r\n\r\nimport ImageCrop from \"./ImageCrop\";\r\nimport QueryField from \"./QueryField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\ninterface TabPanelProps {\r\n  children: React.ReactNode;\r\n  value: number;\r\n  index: number;\r\n}\r\n\r\nconst TabPanel: React.FC<TabPanelProps> = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nfunction a11yProps(index: number) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      width: \"100%\",\r\n    },\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  tabAppBar: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst SearchTabs: React.FC = () => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState<number>(0);\r\n\r\n  // eslint-disable-next-line\r\n  const [{ attributes }, dispatch] = useAttribute();\r\n\r\n  const handleChange: ((event: React.ChangeEvent<{}>, value: number) => void) | undefined = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar className={classes.tabAppBar} position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          aria-label=\"scrollable auto tabs example\"\r\n        >\r\n          <Tab label=\"Photo\" {...a11yProps(0)} />\r\n          <Tab label=\"Type\" {...a11yProps(1)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <ImageCrop />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <QueryField />\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchTabs;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useAttribute } from \"../context/attribute-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport AttributeList from \"./AttributeList\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button, Paper, Grid } from \"@material-ui/core\";\r\nimport SearchTabs from \"./SearchTabs\";\r\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\r\nimport ChooseDialog from \"./ChooseDialog\";\r\nimport qualityIcon from \"./quality.svg\";\r\nimport ReactPlayer from \"react-player\";\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport { useLocation } from \"react-router-dom\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    color: theme.palette.text.secondary,\r\n    height: \"100%\",\r\n  },\r\n  option: {\r\n    width: \"50%\",\r\n    display: \"inline-block\",\r\n    padding: \"10px\",\r\n    marginTop: \"20px\",\r\n    paddingTop: \"15px\",\r\n    background: \"#2a3f73\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"15px\",\r\n    \"&:hover\": {\r\n      background: \"#30a3f2\",\r\n      border: \"1px solid #30a3f2\",\r\n    },\r\n  },\r\n  playIcon: {\r\n    fontSize: \"100px\",\r\n  },\r\n  tryButton: {\r\n    margin: theme.spacing(1),\r\n    textTransform: \"none\",\r\n    fontFamily: \"Trebuchet MS, Helvetica, sans-serif\",\r\n    borderRadius: 7,\r\n    fontWeight: 600,\r\n    color: \"#1E1E30\",\r\n    fontSize: \"17px\",\r\n    background: \"#5ce1e6\",\r\n    \"&:hover\": {\r\n      background: \"#ffffff\",\r\n    },\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  video: { [key: string]: any };\r\n  setVideo: React.Dispatch<\r\n    React.SetStateAction<{\r\n      [key: string]: any;\r\n    }>\r\n  >;\r\n}\r\n\r\nconst SearchGrid: React.FC<Props> = ({ video, setVideo }) => {\r\n  let location = useLocation();\r\n  const [{ attributes }, dispatch] = useAttribute();\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const [videoTag, setVideoTag] = useState<string>(\"\");\r\n  const handleClose = () => setOpen(false);\r\n  const auth = useContext(AuthContext);\r\n  const { sendRequest } = useHttpClient();\r\n  useEffect(() => {\r\n    if (location.state)\r\n      setVideoTag(String(location.state[0]));\r\n  }, [location])\r\n\r\n  useEffect(() => {\r\n    if (videoTag) {\r\n      const fetchVideo = async () => {\r\n        try {\r\n          const responseData = await sendRequest(\r\n            process.env.REACT_APP_BACKEND_URL +\r\n              \"/video/getvideobyid/\" +\r\n              videoTag,\r\n            \"GET\",\r\n            null,\r\n            {\r\n              Authorization: \"Bearer \" + auth.token,\r\n            }\r\n          );\r\n          console.log(responseData);\r\n          setVideo(responseData);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      fetchVideo();\r\n      handleClose();\r\n    }\r\n  }, [videoTag, setVideo, auth.token, sendRequest]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ChooseDialog\r\n        open={open}\r\n        setVideoTag={setVideoTag}\r\n        handleClose={handleClose}\r\n        processed={false}\r\n      />\r\n      <Grid container spacing={4}>\r\n        <Grid item xl={9} lg={9} md={9} xs={12} sm={12}>\r\n          <Paper className={classes.paper} square>\r\n            {video ? (\r\n              <ReactPlayer\r\n                controls\r\n                // style={{ boxShadow: \"-3px 6px 34px 6px rgba(18,25,41,1)\" }}\r\n                url={`${process.env.REACT_APP_BACKEND_URL}/helpers/video/${video.file_id}`}\r\n                light={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${video.thumbnail_id}`}\r\n                playing\r\n                pip\r\n                width=\"100%\"\r\n                playIcon={<PlayCircleFilledIcon className={classes.playIcon} />}\r\n                config={{\r\n                  file: {\r\n                    attributes: {\r\n                      crossOrigin: \"anonymous\",\r\n                    },\r\n                  },\r\n                }}\r\n              />\r\n            ) : (\r\n              <div style={{ height: \"100%\", border: \"2px solid #2db1e1\", paddingTop: \"10vh\" }}><h2>No Video Selected</h2></div>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xl={3} lg={3} md={3} xs={12} sm={12}>\r\n          <Paper className={classes.paper} square>\r\n            <Grid container style={{ textAlign: \"center\" }}>\r\n              <Grid style={{ marginTop: \"10px\" }} item xs={12}>\r\n                <img\r\n                  style={{ width: \"40%\", height: \"20vh\" }}\r\n                  src={qualityIcon}\r\n                  alt=\"qualityIcon\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <div className={classes.option} onClick={() => setOpen(true)}>\r\n                  CHOOSE VIDEO\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xl={6} lg={6} md={6} xs={12} sm={12}>\r\n          <Paper className={classes.paper} square>\r\n            <AttributeList items={attributes} />\r\n            <Button\r\n              className={classes.tryButton}\r\n              startIcon={<PersonAddIcon />}\r\n              onClick={() =>\r\n                dispatch({\r\n                  type: \"addPerson\",\r\n                })\r\n              }\r\n            >\r\n              Add Person\r\n            </Button>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xl={6} lg={6} md={6} xs={12} sm={12}>\r\n          <SearchTabs />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchGrid;\r\n","import React, { useState } from \"react\";\r\nimport uuid from \"uuid\";\r\n\r\nimport { AttributeState, Actions } from '../../types';\r\n\r\nimport { AttributeProvider } from \"../context/attribute-context\";\r\n\r\nimport { CssBaseline,  Container } from \"@material-ui/core\";\r\nimport SearchGrid from \"./SearchGrid\";\r\n\r\nconst Search: React.FC = () => {\r\n  const [video, setVideo] = useState<{ [key:string]: any}>();\r\n  const initialAttribute: AttributeState = {\r\n    attributes: [\r\n      {\r\n        id: uuid(), labels: [\"shirt\"], colors: [{ hex: \"#000\" }]\r\n      }\r\n    ],\r\n  };\r\n\r\n  const reducer = (state: AttributeState, action: Actions) => {\r\n    let attributes = state.attributes;\r\n    switch (action.type) {\r\n      case \"changeAttribute\":\r\n        return {\r\n          ...state,\r\n          attributes: [action.newAttribute],\r\n        };\r\n\r\n      case \"addPerson\":\r\n        return {\r\n          attributes: [\r\n            ...state.attributes,\r\n            {\r\n              id: uuid(), labels: [\"shirt\"], colors: [{ hex: \"#000\" }]\r\n            },\r\n          ],\r\n        };\r\n\r\n      case \"deletePerson\":\r\n        const newAttributes = attributes.filter(\r\n          (attribute) => attribute.id !== action.pid\r\n        );\r\n        return {\r\n          attributes: newAttributes,\r\n        };\r\n\r\n      case \"addLabel\":\r\n        attributes.forEach(function (attribute, index) {\r\n          if (attribute.id === action.pid) {\r\n            if (!attribute.labels.includes(action.value))\r\n            attribute.labels.push(action.value);\r\n          }\r\n        });\r\n        return {\r\n          attributes: attributes,\r\n        };\r\n\r\n      case \"removeLabel\":\r\n        attributes.forEach(function (attribute, index) {\r\n          if (attribute.id === action.pid) {\r\n            const newLabels = attribute.labels.filter((label) => label !== action.value)\r\n            attribute.labels = newLabels\r\n          }\r\n        });\r\n        return {\r\n          attributes: attributes,\r\n        };\r\n\r\n        case \"addColor\":\r\n          attributes.forEach(function (attribute, index) {\r\n            if (attribute.id === action.pid) {\r\n              if (!attribute.colors.includes(action.value))\r\n              attribute.colors.push(action.value);\r\n            }\r\n          });\r\n          return {\r\n            attributes: attributes,\r\n          };\r\n\r\n        case \"updateColor\": \r\n          attributes.forEach(function (attribute, index) {\r\n            if (attribute.id === action.pid) {\r\n              attribute.colors[action.idx] = action.value;\r\n            }\r\n          });\r\n          return {\r\n            attributes: attributes,\r\n          };\r\n  \r\n        case \"removeColor\":\r\n          attributes.forEach(function (attribute, index) {\r\n            if (attribute.id === action.pid) {\r\n              attribute.colors.pop();\r\n            }\r\n          });\r\n          return {\r\n            attributes: attributes,\r\n          };\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AttributeProvider initialAttribute={initialAttribute} reducer={reducer}>\r\n      <CssBaseline />\r\n      <Container maxWidth=\"xl\">\r\n        <SearchGrid video={video} setVideo={setVideo} />\r\n      </Container>\r\n    </AttributeProvider>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport qualityIcon from \"./quality.svg\";\r\nimport ChooseDialog from \"./ChooseDialog\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  option: {\r\n    width: \"50%\",\r\n    display: \"inline-block\",\r\n    padding: \"10px\",\r\n    marginTop: \"100px\",\r\n    paddingTop: \"15px\",\r\n    background: \"#2a3f73\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"18px\",\r\n    \"&:hover\": {\r\n      background: \"#30a3f2\",\r\n      border: \"1px solid #30a3f2\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst VideoQuality: React.FC = () => {\r\n  let history = useHistory();\r\n\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const [videoTag, setVideoTag] = useState<string>(\"\");\r\n  const handleClose = () => setOpen(false);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (videoTag) history.push(`enhance/${videoTag}`);\r\n  }, [history, videoTag]);\r\n\r\n  useEffect(() => {    \r\n    return () => {\r\n      setOpen(false);\r\n    }\r\n  }, [])\r\n  \r\n  return (\r\n    <>\r\n      <ChooseDialog\r\n        open={open}\r\n        setVideoTag={setVideoTag}\r\n        handleClose={handleClose}\r\n        processed={false}\r\n      />\r\n      <Grid container style={{ textAlign: \"center\" }}>\r\n        <Grid style={{ marginTop: \"100px\" }} item xs={12}>\r\n          <img\r\n            style={{ width: \"40%\", height: \"30vh\" }}\r\n            src={qualityIcon}\r\n            alt=\"qualityIcon\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <div className={classes.option} onClick={() => setOpen(true)}>\r\n            CHOOSE VIDEO\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VideoQuality;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  Typography,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  InputAdornment,\r\n  TextField,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  locationChooser: {\r\n    padding: \"10px\",\r\n    background: \"#2a3f73\",\r\n    border: \"1px solid #4f619a\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#0a045e\",\r\n      border: \"1px solid #0a045e\",\r\n    },\r\n  },\r\n  verticalContainer: {\r\n    height: \"75px\",\r\n    position: \"relative\",\r\n  },\r\n  verticalDiv: {\r\n    textAlign: \"center\",\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    msTransform: \"translateY(-50%)\",\r\n    transform: \"translateY(-50%)\",\r\n  },\r\n  loader: {\r\n    paddingTop: \"50px\",\r\n    paddingBottom: \"50px\",\r\n  },\r\n}));\r\n\r\ninterface LocationItemProps {\r\n  setLocation: React.Dispatch<\r\n    React.SetStateAction<\r\n      | {\r\n          [key: string]: any;\r\n        }\r\n      | null\r\n      | undefined\r\n    >\r\n  >;\r\n  oid: string;\r\n  latitude: string;\r\n  longitude: string;\r\n  name: string;\r\n}\r\n\r\nconst LocationItem: React.FC<LocationItemProps> = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const changeLocation = () => {\r\n    props.setLocation({\r\n      oid: props.oid,\r\n      latitude: props.latitude,\r\n      longitude: props.longitude,\r\n      name: props.name,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      className={classes.locationChooser}\r\n      onClick={changeLocation}\r\n      item\r\n      lg={2}\r\n      md={2}\r\n      sm={4}\r\n      xs={6}\r\n    >\r\n      <Grid container>\r\n        <Grid item xs={6}>\r\n          <div className={classes.verticalContainer}>\r\n            <div className={classes.verticalDiv}>\r\n              <LocationOnIcon fontSize=\"large\" />\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <div style={{ fontSize: \"12px\" }}>Latitude</div>\r\n          <div style={{ color: \"#fff\" }}>\r\n            {parseFloat(props.latitude).toFixed(3)}\r\n          </div>\r\n          <div style={{ fontSize: \"12px\" }}>Longitude</div>\r\n          <div style={{ color: \"#fff\" }}>\r\n            {parseFloat(props.longitude).toFixed(3)}\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\ninterface LocDialogProps {\r\n  open: boolean;\r\n  video_id: string;\r\n  camera: { [key: string]: any };\r\n  setVideo: React.Dispatch<\r\n    React.SetStateAction<{\r\n      [key: string]: any;\r\n    }>\r\n  >;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst LocDialog: React.FC<LocDialogProps> = (props) => {\r\n  const classes = useStyles();\r\n  const [locationData, setLocationData] = useState<{ [key: string]: any }[]>(\r\n    []\r\n  );\r\n  const auth = useContext(AuthContext);\r\n  const [searchData, setSearchData] = useState<{ [key: string]: any }[]>([]);\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [location, setLocation] = useState<{ [key: string]: any } | null>();\r\n\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchLocations = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/cctv/getcctv\"\r\n        );\r\n        setLocationData(responseData);\r\n        setSearchData(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (props.open) {\r\n      fetchLocations();\r\n    }\r\n  }, [props.open, sendRequest]);\r\n\r\n  const clearLocation = () => {\r\n    setLocation(null);\r\n  };\r\n\r\n  const searchHandler = (event) => {\r\n    setSearchText(event.target.value);\r\n    let search = event.target.value;\r\n    let items = locationData;\r\n    if (search) {\r\n      let filterItems: { [key: string]: any }[] = [];\r\n      for (let i = 0; i < items.length; i++) {\r\n        if (\r\n          items[i].formatted_address\r\n            .toLowerCase()\r\n            .includes(search.toLowerCase()) ||\r\n          items[i].latitude.toString().includes(search) ||\r\n          items[i].longitude.toString().includes(search)\r\n        ) {\r\n          filterItems.push(items[i]);\r\n        }\r\n      }\r\n      setSearchData(filterItems);\r\n    } else {\r\n      setSearchData(items);\r\n    }\r\n  };\r\n\r\n  const UpdateLocationHandler = async () => {\r\n    if (location && props.video_id) {\r\n      console.log(props.video_id);\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/updatevideolocation\",\r\n          \"PATCH\",\r\n          JSON.stringify({\r\n            video_id: props.video_id,\r\n            location_id: location.oid,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        props.setVideo(responseData);\r\n        props.handleClose();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      fullWidth={true}\r\n      maxWidth={\"lg\"}\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      aria-labelledby=\"max-width-dialog-title\"\r\n    >\r\n      <DialogTitle>\r\n        {error && (\r\n          <Alert\r\n            variant=\"outlined\"\r\n            style={{ color: \"#f44336\", marginBottom: \"10px\" }}\r\n            severity=\"error\"\r\n            onClose={clearError}\r\n          >\r\n            {error}\r\n          </Alert>\r\n        )}\r\n        <Grid container>\r\n          <Grid item md={4} xs={12}>\r\n            <div>\r\n              <Typography\r\n                style={{ color: \"#ffffff\" }}\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n              >\r\n                Current Location\r\n              </Typography>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                {props.camera\r\n                  ? `${props.camera.formatted_address}`\r\n                  : \"This video has no Location\"}\r\n              </Typography>\r\n            </div>\r\n          </Grid>\r\n          <Divider style={{ color: \"#ffffff\" }} />\r\n          <Grid item md={4} xs={12}>\r\n            <div>\r\n              <Typography\r\n                style={{ color: \"#ffffff\" }}\r\n                variant=\"subtitle2\"\r\n                gutterBottom\r\n              >\r\n                Choose a new Location\r\n              </Typography>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                {location && `${location.name}`}\r\n              </Typography>\r\n            </div>\r\n          </Grid>\r\n          <Grid item md={4} xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              className={classes.margin}\r\n              id=\"input-with-icon-textfield\"\r\n              label=\"Search\"\r\n              value={searchText}\r\n              onChange={searchHandler}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchIcon />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {isLoading && (\r\n          <div className={classes.loader}>\r\n            <LoadingSpinner />\r\n          </div>\r\n        )}\r\n        <Grid container>\r\n          {searchData &&\r\n            searchData.map((location, index) => (\r\n              <LocationItem\r\n                key={index}\r\n                oid={location._id.$oid}\r\n                latitude={location.latitude}\r\n                longitude={location.longitude}\r\n                name={location.formatted_address}\r\n                setLocation={setLocation}\r\n              />\r\n            ))}\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          autoFocus\r\n          onClick={UpdateLocationHandler}\r\n          color=\"primary\"\r\n          disabled={!location || !props.video_id || isLoading}\r\n        >\r\n          Update\r\n        </Button>\r\n        <Button autoFocus onClick={clearLocation} color=\"primary\">\r\n          Clear\r\n        </Button>\r\n        <Button onClick={props.handleClose} color=\"primary\" autoFocus>\r\n          Cancel\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default LocDialog;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useHttpClient } from '../hooks/http-hook';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\r\nimport LoadingSpinner from '../utils/LoadingSpinner';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { Button, Typography, Dialog, DialogActions, DialogContent }from '@material-ui/core';\r\n\r\ninterface Props {\r\n    open: boolean;\r\n    video: { [key: string] : any };\r\n    setVideo: (responseData: {}) => void;\r\n    handleClose: () => void;\r\n}\r\n\r\nconst TimeDialog: React.FC<Props> = ({ open, video, setVideo, handleClose }) => {\r\n    const [selectedDate, setSelectedDate] = useState(new Date());\r\n    const auth = useContext(AuthContext);\r\n    \r\n    // eslint-disable-next-line\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n    const handleDateChange = (date) => {\r\n        setSelectedDate(date)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (open && video) {\r\n            setSelectedDate(new Date(video.date + \"T\" + video.time + \"+05:30\"))\r\n        }\r\n    }, [open, video])\r\n\r\n    const updateTimeHandler = async () => {\r\n        if (selectedDate && video) {\r\n            console.log(selectedDate.toString())\r\n            try {\r\n                const responseData = await sendRequest(\r\n                    process.env.REACT_APP_BACKEND_URL + '/video/updatevideotimestamp',\r\n                    'PATCH',\r\n                    JSON.stringify({\r\n                        'video_id': video._id.$oid,\r\n                        'time': selectedDate.toString()\r\n                    }),\r\n                    {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization: 'Bearer ' + auth.token\r\n                    }\r\n                )\r\n                setVideo(responseData)\r\n                handleClose()\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={handleClose}\r\n        >\r\n            <DialogContent>\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <div>\r\n                        {error && (\r\n                            <Alert variant=\"outlined\" style={{ color: '#f44336', marginBottom: '10px' }} severity=\"error\" onClose={clearError}>\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                        {isLoading ? (\r\n                            <LoadingSpinner />\r\n                        ) : (\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <Typography variant='h5' style={{ color: '#758cd1' }}>Date</Typography>\r\n                                <KeyboardDateTimePicker\r\n                                    variant=\"inline\"\r\n                                    ampm={false}\r\n                                    label=\"Select Date and Timestamp\"\r\n                                    value={selectedDate}\r\n                                    onChange={handleDateChange}\r\n                                    onError={console.log}\r\n                                    format=\"yyyy/MM/dd HH:mm\"\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={updateTimeHandler} disabled={isLoading} color=\"primary\">\r\n                Update\r\n            </Button>\r\n            <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n                Cancel\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n  );\r\n}\r\n\r\nexport default TimeDialog;","import React, { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { FlyToInterpolator } from \"react-map-gl\";\r\nimport CamMap from \"./CamMap\";\r\nimport LocDialog from \"./LocDialog\";\r\nimport TimeDialog from \"./TimeDialog\";\r\nimport UtilDialog from \"../utils/UtilDialog\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LoadingSpinner from \"../utils/LoadingSpinner\";\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Divider,\r\n  Typography,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport MyLocationIcon from \"@material-ui/icons/MyLocation\";\r\nimport EditLocationIcon from \"@material-ui/icons/EditLocation\";\r\nimport AccessAlarmsIcon from \"@material-ui/icons/AccessAlarms\";\r\nimport KeyboardBackspaceIcon from \"@material-ui/icons/KeyboardBackspace\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport ImageSearchIcon from \"@material-ui/icons/ImageSearch\";\r\nimport TrendingDownIcon from \"@material-ui/icons/TrendingDown\";\r\nimport DynamicFeedIcon from \"@material-ui/icons/DynamicFeed\";\r\nimport BookmarksIcon from \"@material-ui/icons/Bookmarks\";\r\nimport CameraEnhanceIcon from \"@material-ui/icons/CameraEnhance\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginBottom: \"20px\",\r\n  },\r\n  paper: {\r\n    height: 140,\r\n    width: 100,\r\n  },\r\n  control: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  playIcon: {\r\n    fontSize: \"100px\",\r\n  },\r\n  option: {\r\n    padding: \"10px\",\r\n    paddingTop: \"15px\",\r\n    background: \"#2a3f73\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#30a3f2\",\r\n      border: \"1px solid #30a3f2\",\r\n    },\r\n  },\r\n  optionTitle: {\r\n    paddingTop: \"10px\",\r\n    fontSize: \"15px\",\r\n    fontWeight: 400,\r\n    pointerEvents: \"none\",\r\n  },\r\n  details: {\r\n    padding: \"10px\",\r\n    background: \"#2a3f73\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n  },\r\n  locationAttributes: {\r\n    textAlign: \"left\",\r\n    marginTop: \"8px\",\r\n    marginBottom: \"8px\",\r\n  },\r\n  iconMargin: {\r\n    \"& > *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n  locationParams: {\r\n    fontSize: \"13px\",\r\n    color: \"#ffffff\",\r\n    fontWeight: 500,\r\n  },\r\n  camDetails: {\r\n    padding: \"10px 20px\",\r\n    textAlign: \"center\",\r\n  },\r\n  divider: {\r\n    background: \"#323e63\",\r\n  },\r\n  camHeading: {\r\n    padding: \"15px 15px 5px\",\r\n  },\r\n  mapContainer: {\r\n    boxShadow: \"-3px 6px 34px 6px rgba(18,25,41,1)\",\r\n    border: \"1px solid #4f619a\",\r\n    position: \"relative\",\r\n  },\r\n  noLocation: {\r\n    textAlign: \"center\",\r\n    padding: \"50px 10px\",\r\n    fontWeight: 500,\r\n    fontSize: \"18px\",\r\n  },\r\n  content: {\r\n    padding: \"5%\",\r\n  },\r\n  videoHeader: {\r\n    background: \"#435080\",\r\n  },\r\n  infoButton: {\r\n    padding: 5,\r\n    color: \"#758cd1\",\r\n  },\r\n  videocamButton: {\r\n    padding: 5,\r\n    color: \"#ffffff\",\r\n  },\r\n  filename: {\r\n    padding: \"5px 10px\",\r\n    color: \"#ffffff\",\r\n    fontWeight: 400,\r\n  },\r\n  timestamp: {\r\n    margin: \"20px 0px\",\r\n    padding: \"10px 10px 5px\",\r\n    border: \"2px solid #4f5c88\",\r\n  },\r\n  mainContent: {\r\n    margin: \"20px 0px\",\r\n  },\r\n  mainOption: {\r\n    padding: \"10px\",\r\n    paddingTop: \"15px\",\r\n    background: \"#0a045e\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      background: \"#ffffff\",\r\n      border: \"1px solid #30a3f2\",\r\n      color: \"#0a045e\",\r\n    },\r\n  },\r\n}));\r\n\r\ninterface CamDisplayProps {\r\n  location: [];\r\n  camera: { [key: string]: any };\r\n  setCamera: React.Dispatch<\r\n    React.SetStateAction<{\r\n      [key: string]: any;\r\n    }>\r\n  >;\r\n}\r\n\r\nconst CamDisplay: React.FC<CamDisplayProps> = ({\r\n  location,\r\n  camera,\r\n  setCamera,\r\n}) => {\r\n  const auth = useContext(AuthContext);\r\n  const classes = useStyles();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchCamera = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/cctv/getcctvbyid/\" + location,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        setCamera(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (location !== null) {\r\n      fetchCamera();\r\n    }\r\n  }, [location, setCamera, sendRequest, auth.token]);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading && (\r\n        <div style={{ padding: \"40px 0px\" }}>\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div style={{ marginTop: \"20p\", marginBottom: \"20px\" }}>\r\n          <Alert\r\n            variant=\"outlined\"\r\n            style={{ color: \"#f44336\", marginBottom: \"10px\" }}\r\n            severity=\"error\"\r\n            onClose={clearError}\r\n          >\r\n            {error}\r\n          </Alert>\r\n        </div>\r\n      )}\r\n      {!isLoading && (\r\n        <div>\r\n          {Object.keys(camera).length > 0 ? (\r\n            <div>\r\n              <div className={classes.camHeading}>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  Camera Id{\" \"}\r\n                  <span style={{ color: \"#ffffff\" }}>#{camera._id.$oid}</span>\r\n                </Typography>\r\n              </div>\r\n              <Divider className={classes.divider} />\r\n              <Grid className={classes.camDetails} container>\r\n                <Grid className={classes.locationAttributes} item xs={6}>\r\n                  <div>Latitude</div>\r\n                  <div className={classes.locationParams}>\r\n                    {camera.latitude}\r\n                  </div>\r\n                </Grid>\r\n                <Grid className={classes.locationAttributes} item xs={6}>\r\n                  <div>Longitude</div>\r\n                  <div className={classes.locationParams}>\r\n                    {camera.longitude}\r\n                  </div>\r\n                </Grid>\r\n                <Grid className={classes.locationAttributes} item xs={6}>\r\n                  <div>Country</div>\r\n                  <div className={classes.locationParams}>{camera.country}</div>\r\n                </Grid>\r\n                <Grid className={classes.locationAttributes} item xs={6}>\r\n                  <div>State</div>\r\n                  <div className={classes.locationParams}>{camera.state}</div>\r\n                </Grid>\r\n                <Grid className={classes.locationAttributes} item xs={6}>\r\n                  <div>City</div>\r\n                  <div className={classes.locationParams}>{camera.city}</div>\r\n                </Grid>\r\n                <Grid className={classes.locationAttributes} item xs={6}>\r\n                  <div>Sublocality</div>\r\n                  <div className={classes.locationParams}>\r\n                    {camera.sublocality}\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n              <Divider className={classes.divider} />\r\n              <div className={classes.details}>\r\n                <Grid container>\r\n                  <Grid style={{ paddingTop: \"10px\" }} item xs={1}>\r\n                    <LocationOnIcon />\r\n                  </Grid>\r\n                  <Grid item xs={11}>\r\n                    <div\r\n                      style={{\r\n                        color: \"#758cd1\",\r\n                        padding: \"5px 0px\",\r\n                        fontSize: \"18px\",\r\n                        fontWeight: 500,\r\n                      }}\r\n                    >\r\n                      Address\r\n                    </div>\r\n                    {camera.formatted_address}\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className={classes.noLocation}>\r\n              No Location data found. Add a Location to this video.\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Play: React.FC = () => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const { oid } = useParams();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n    clearError,\r\n    setErrorText,\r\n  } = useHttpClient();\r\n\r\n  const [video, setVideo] = useState<{ [key: string]: any }>({});\r\n  const [camera, setCamera] = useState<{ [key: string]: any }>({});\r\n\r\n  const optionHandler:\r\n    | ((event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void)\r\n    | undefined = (event) => {\r\n    if (!video) {\r\n      setErrorText(\r\n        \"No camera found in the database. Start with inserting one.\"\r\n      );\r\n    } else {\r\n      let option = event.target.id;\r\n      switch (option) {\r\n        case \"back\":\r\n          history.push(\"/library\");\r\n          break;\r\n        case \"track\":\r\n          history.push(`/track/${video._id.$oid}`);\r\n          break;\r\n        case \"analytics\":\r\n          history.push(`/analytics/${video._id.$oid}`);\r\n          break;\r\n        case \"process\":\r\n          history.push('/search',[video._id.$oid]);\r\n          break;\r\n        case \"search\":\r\n          history.push('/search',[video._id.$oid]);\r\n          break;\r\n        case \"enhance\":\r\n          history.push(`/enhance/${video._id.$oid}`);\r\n          break;\r\n        case \"bookmark\":\r\n          break;\r\n        case \"time\":\r\n          handleTimeOpen();\r\n          break;\r\n        case \"locate\":\r\n          if (camera) {\r\n            handleFlyTo({\r\n              latitude: camera.latitude,\r\n              longitude: camera.longitude,\r\n            });\r\n          }\r\n          break;\r\n        case \"edit\":\r\n          handleLocationOpen();\r\n          break;\r\n        case \"delete\":\r\n          handleDeleteOpen();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchVideo = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/getvideobyid/\" + oid,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: 'Bearer ' + auth.token\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        setVideo(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    console.log(oid);\r\n    fetchVideo();\r\n  }, [oid, sendRequest, auth.token]);\r\n\r\n  const handleChangeViewState = ({ viewState }) => setViewState(viewState);\r\n\r\n  const [viewState, setViewState] = useState({\r\n    latitude: 19.076,\r\n    longitude: 72.8777,\r\n    zoom: 11,\r\n    pitch: 40.5,\r\n    bearing: 0.7,\r\n  });\r\n\r\n  const handleFlyTo = useCallback((destination) => {\r\n    setViewState((v) => {\r\n      return {\r\n        ...v,\r\n        ...destination,\r\n        zoom: 11,\r\n        transitionDuration: 2000,\r\n        transitionInterpolator: new FlyToInterpolator(),\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(camera).length > 0) {\r\n      handleFlyTo({\r\n        latitude: camera.latitude,\r\n        longitude: camera.longitude,\r\n      });\r\n    }\r\n  }, [camera, handleFlyTo]);\r\n\r\n  const [locationOpen, setLocationOpen] = useState(false);\r\n\r\n  const handleLocationOpen = () => {\r\n    setLocationOpen(true);\r\n  };\r\n\r\n  const handleLocationClose = () => {\r\n    setLocationOpen(false);\r\n  };\r\n\r\n  const [timeOpen, setTimeOpen] = useState(false);\r\n\r\n  const handleTimeOpen = () => {\r\n    setTimeOpen(true);\r\n  };\r\n\r\n  const handleTimeClose = () => {\r\n    setTimeOpen(false);\r\n  };\r\n\r\n  const [deleteOpen, setDeleteOpen] = useState(false);\r\n\r\n  const handleDeleteOpen = () => {\r\n    setDeleteOpen(true);\r\n  };\r\n\r\n  const handleDeleteClose = () => {\r\n    setDeleteOpen(false);\r\n  };\r\n\r\n  const deleteVideoHandler = async () => {\r\n    try {\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL +\r\n          \"/video/deletevideo/\" +\r\n          video._id.$oid,\r\n        \"DELETE\"\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    handleDeleteClose();\r\n    history.push(\"/library\");\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <LocDialog\r\n        open={locationOpen}\r\n        camera={camera}\r\n        video_id={oid}\r\n        setVideo={setVideo}\r\n        handleClose={handleLocationClose}\r\n      />\r\n      <TimeDialog\r\n        open={timeOpen}\r\n        video={video}\r\n        setVideo={setVideo}\r\n        handleClose={handleTimeClose}\r\n      />\r\n      <UtilDialog\r\n        open={deleteOpen}\r\n        title=\"Delete Camera?\"\r\n        operationHandler={deleteVideoHandler}\r\n        handleClose={handleDeleteClose}\r\n      >\r\n        This will delete this video from the database. Please confirm if you\r\n        want to delete the video.\r\n      </UtilDialog>\r\n      <Grid container className={classes.root}>\r\n        <Grid item md={8} xs={12}>\r\n          <div className={classes.content}>\r\n            {error && (\r\n              <div style={{ marginTop: \"20p\", marginBottom: \"20px\" }}>\r\n                <Alert onClose={clearError} severity=\"error\">\r\n                  {error}\r\n                </Alert>\r\n              </div>\r\n            )}\r\n            {isLoading && (\r\n              <div style={{ marginTop: \"25vh\" }}>\r\n                <LoadingSpinner />\r\n              </div>\r\n            )}\r\n            {Object.keys(video).length > 0 && (\r\n              <React.Fragment>\r\n                <Grid style={{ marginBottom: \"10px\" }} container>\r\n                  <Grid className={classes.videoHeader} item md={10} sm={12}>\r\n                    <Typography\r\n                      className={classes.filename}\r\n                      variant=\"subtitle2\"\r\n                      gutterBottom\r\n                    >\r\n                      {video.name}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid style={{ textAlign: \"center\" }} item md={2} xs={12}>\r\n                    <div className={classes.iconMargin}>\r\n                      <Tooltip title={`Id #${video._id.$oid}`}>\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          className={classes.infoButton}\r\n                          aria-label=\"Info\"\r\n                        >\r\n                          <InfoOutlinedIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                      <Tooltip title=\"Upload Video\">\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          className={classes.videocamButton}\r\n                          aria-label=\"Upload Video\"\r\n                          onClick={() => {\r\n                            history.push(\"/upload\");\r\n                          }}\r\n                        >\r\n                          <VideocamIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n                <ReactPlayer\r\n                  controls\r\n                  style={{ boxShadow: \"-3px 6px 34px 6px rgba(18,25,41,1)\" }}\r\n                  url={`${process.env.REACT_APP_BACKEND_URL}/helpers/video/${video.file_id}`}\r\n                  light={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${video.thumbnail_id}`}\r\n                  playing\r\n                  pip\r\n                  width=\"100%\"\r\n                  playIcon={\r\n                    <PlayCircleFilledIcon className={classes.playIcon} />\r\n                  }\r\n                />\r\n                <Grid className={classes.timestamp} container>\r\n                  <Grid\r\n                    item\r\n                    xs={11}\r\n                    style={{ fontSize: \"15px\", color: \"#ffffff\" }}\r\n                  >\r\n                    {new Date(\r\n                      video.date + \"T\" + video.time + \"+05:30\"\r\n                    ).toString()}\r\n                  </Grid>\r\n                  <Grid item xs={1}>\r\n                    <Tooltip title={`${video.date} ${video.time}`}>\r\n                      <AccessAlarmsIcon style={{ color: \"#ffffff\" }} />\r\n                    </Tooltip>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid className={classes.mainContent} container>\r\n                  <Grid\r\n                    id=\"back\"\r\n                    className={classes.mainOption}\r\n                    item\r\n                    md={2}\r\n                    sm={2}\r\n                    xs={6}\r\n                    onClick={optionHandler}\r\n                  >\r\n                    <KeyboardBackspaceIcon fontSize=\"large\" />\r\n                    <Typography className={classes.optionTitle}>\r\n                      Back to Library\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid\r\n                    id=\"track\"\r\n                    className={classes.mainOption}\r\n                    item\r\n                    md={2}\r\n                    sm={2}\r\n                    xs={6}\r\n                    onClick={optionHandler}\r\n                  >\r\n                    <TrendingDownIcon fontSize=\"large\" />\r\n                    <Typography className={classes.optionTitle}>\r\n                      Realtime Tracking\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid\r\n                    id=\"analytics\"\r\n                    className={classes.mainOption}\r\n                    item\r\n                    md={2}\r\n                    sm={2}\r\n                    xs={6}\r\n                    onClick={optionHandler}\r\n                  >\r\n                    <DynamicFeedIcon fontSize=\"large\" />\r\n                    <Typography className={classes.optionTitle}>\r\n                      Video Analytics\r\n                    </Typography>\r\n                  </Grid>\r\n                  {video.processed ? (\r\n                    <Grid\r\n                      id=\"search\"\r\n                      className={classes.mainOption}\r\n                      item\r\n                      md={2}\r\n                      sm={2}\r\n                      xs={6}\r\n                      onClick={optionHandler}\r\n                    >\r\n                      <ImageSearchIcon fontSize=\"large\" />\r\n                      <Typography className={classes.optionTitle}>\r\n                        Search\r\n                      </Typography>\r\n                    </Grid>\r\n                  ) : (\r\n                    <Grid\r\n                      id=\"process\"\r\n                      className={classes.mainOption}\r\n                      item\r\n                      md={2}\r\n                      sm={2}\r\n                      xs={6}\r\n                      onClick={optionHandler}\r\n                    >\r\n                      <ImageIcon fontSize=\"large\" />\r\n                      <Typography className={classes.optionTitle}>\r\n                        Process Video\r\n                      </Typography>\r\n                    </Grid>\r\n                  )}\r\n                  <Grid\r\n                    id=\"enhance\"\r\n                    className={classes.mainOption}\r\n                    item\r\n                    md={2}\r\n                    sm={2}\r\n                    xs={6}\r\n                    onClick={optionHandler}\r\n                  >\r\n                    <CameraEnhanceIcon fontSize=\"large\" />\r\n                    <Typography className={classes.optionTitle}>\r\n                      Enhance Video\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid\r\n                    id=\"bookmark\"\r\n                    className={classes.mainOption}\r\n                    item\r\n                    md={2}\r\n                    sm={2}\r\n                    xs={6}\r\n                    onClick={optionHandler}\r\n                  >\r\n                    <BookmarksIcon fontSize=\"large\" />\r\n                    <Typography className={classes.optionTitle}>\r\n                      Bookmark Video\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n        </Grid>\r\n        <Grid item md={4} xs={12}>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <Paper square>\r\n                {Object.keys(video).length > 0 && (\r\n                  <CamDisplay\r\n                    location={video.location_id}\r\n                    camera={camera}\r\n                    setCamera={setCamera}\r\n                  />\r\n                )}\r\n              </Paper>\r\n            </Grid>\r\n            <Grid\r\n              id=\"time\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <EditIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Edit Timestamp\r\n              </Typography>\r\n            </Grid>\r\n            <Grid\r\n              id=\"locate\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <MyLocationIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Locate Camera\r\n              </Typography>\r\n            </Grid>\r\n            <Grid\r\n              id=\"edit\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <EditLocationIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Edit Location\r\n              </Typography>\r\n            </Grid>\r\n            <Grid\r\n              id=\"delete\"\r\n              className={classes.option}\r\n              item\r\n              xs={3}\r\n              onClick={optionHandler}\r\n            >\r\n              <ClearIcon />\r\n              <Typography className={classes.optionTitle}>\r\n                Delete Video\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <div className={classes.mapContainer}>\r\n                <CamMap\r\n                  width=\"100%\"\r\n                  height=\"30vh\"\r\n                  viewState={viewState}\r\n                  onViewStateChange={handleChangeViewState}\r\n                  libraries={Object.keys(camera).length > 0 ? [camera] : []}\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Play;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Grow } from \"@material-ui/core\";\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst FadeIn: React.FC<Props> = ({ children }) => {\r\n  const [isVisible, setVisible] = useState<boolean>(false);\r\n  const domRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        // console.log(`entry`, entry, `is = ${entry.isIntersecting}`);\r\n        setVisible(v => !v ? entry.isIntersecting : v);\r\n      });\r\n    });\r\n\r\n    const { current } = domRef;\r\n    if (current) observer.observe(current);\r\n\r\n    return () => {\r\n      if (current) observer.unobserve(current);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Grow in={isVisible} timeout={2000}>\r\n      <div ref={domRef}>{children}</div>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default FadeIn;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-scroll\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Logout from \"../auth/Logout\";\r\nimport {\r\n  Typography,\r\n  Fab,\r\n  IconButton,\r\n  Button,\r\n  Zoom,\r\n  useScrollTrigger,\r\n  CssBaseline,\r\n  Toolbar,\r\n  AppBar,\r\n  Drawer,\r\n  List,\r\n  Divider,\r\n  ListItem,\r\n} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n  appBar: {\r\n    background:\r\n      \"linear-gradient(90deg, rgba(36,44,78,1) 0%, rgba(49,61,100,1) 29%, rgba(63,78,128,1) 51%, rgba(47,58,98,1) 75%, rgba(36,44,78,1) 100%)\",\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n  toolBar: {\r\n    width: \"100vw\",\r\n    overflowY: \"auto\",\r\n  },\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\",\r\n    },\r\n  },\r\n  nav: {\r\n    margin: \"0px 5px\",\r\n    textTransform: \"none\",\r\n    color: \"#ffffff\",\r\n    fontSize: \"17px\",\r\n    fontFamily: \"Verdana, Geneva, sans-serif\",\r\n    \"&:hover\": {\r\n      color: \"#5ce1e6\",\r\n    },\r\n  },\r\n  hamburger: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    justifyContent: \"flex-end\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  tryButton: {\r\n    marginLeft: \"5px\",\r\n    textTransform: \"none\",\r\n    fontFamily: \"Trebuchet MS, Helvetica, sans-serif\",\r\n    borderRadius: 7,\r\n    fontWeight: 600,\r\n    color: \"#1E1E30\",\r\n    fontSize: \"17px\",\r\n    background: \"#5ce1e6\",\r\n    \"&:hover\": {\r\n      background: \"#ffffff\",\r\n    },\r\n  },\r\n  logoTypo: {\r\n    marginLeft: \"10px\",\r\n    fontFamily: \"Verdana, Geneva, sans-serif\",\r\n  },\r\n  menu: {\r\n    backgroundColor: \"#1E1E30\",\r\n  },\r\n  menuDivider: {\r\n    backgroundColor: \"#464670\",\r\n  },\r\n  menuItem: {\r\n    padding: \"24px\",\r\n    color: \"#6C757D\",\r\n    fontSize: \"16px\",\r\n    fontWeight: 600,\r\n  },\r\n  iconContainer: {\r\n    textAlign: \"right\",\r\n    padding: \"10px 20px\",\r\n  },\r\n}));\r\n\r\nconst menu = [\r\n  { text: \"Home\", section: \"section1\" },\r\n  { text: \"Features\", section: \"section2\" },\r\n  { text: \"Model\", section: \"section3\" },\r\n  { text: \"Database\", section: \"section4\" },\r\n  { text: \"Techstack\", section: \"section5\" },\r\n];\r\n\r\ninterface ScrollToTopProps {\r\n  children: React.ReactNode;\r\n  window?: Window;\r\n}\r\n\r\nconst ScrollTop: React.FC<ScrollToTopProps> = (props) => {\r\n  const { children, window } = props;\r\n  const classes = useStyles();\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick:\r\n    | ((event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void)\r\n    | undefined = (event) => {\r\n    const anchor = (\r\n      (event.target as HTMLInputElement).ownerDocument || document\r\n    ).querySelector(\"#back-to-top-anchor\");\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Zoom in={trigger}>\r\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n};\r\n\r\ninterface ScrollLinkProps {\r\n  to: String;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst ScrollLink: React.FC<ScrollLinkProps> = ({ to, children }) => {\r\n  return (\r\n    <Link\r\n      activeClass=\"active\"\r\n      to={to}\r\n      spy={true}\r\n      smooth={true}\r\n      offset={-70}\r\n      duration={500}\r\n    >\r\n      {children}\r\n    </Link>\r\n  );\r\n};\r\n\r\ninterface TopMenuProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst TopMenu: React.FC<TopMenuProps> = ({ onClose }) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  return (\r\n    <div className={classes.menu} role=\"presentation\">\r\n      <div className={classes.iconContainer}>\r\n        <IconButton\r\n          edge=\"end\"\r\n          color=\"inherit\"\r\n          aria-label=\"close\"\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </div>\r\n      <List>\r\n        {menu.map((m, i) => (\r\n          <div key={i}>\r\n            <Divider className={classes.menuDivider} />\r\n\r\n            <ScrollLink to={m.section}>\r\n              <ListItem className={classes.menuItem} button>\r\n                {m.text}\r\n              </ListItem>\r\n            </ScrollLink>\r\n          </div>\r\n        ))}\r\n      </List>\r\n      <div style={{ padding: \"24px\" }}>\r\n        <Button\r\n          className={classes.tryButton}\r\n          onClick={() => history.push(\"/console\")}\r\n        >\r\n          Go to Console\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface HeaderProps {\r\n  window?: Window;\r\n  isLoggedIn: boolean;\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = (props) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const toggleDrawer = () => setOpen((open) => !open);\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <Drawer anchor={\"top\"} open={open} onClose={toggleDrawer}>\r\n        <TopMenu onClose={toggleDrawer} />\r\n      </Drawer>\r\n      <AppBar\r\n        className={classes.appBar}\r\n        style={{ alignItems: \"center\", justifyContent: \"center\" }}\r\n      >\r\n        <Toolbar className={classes.toolBar}>\r\n          <img\r\n            src=\"/logo192.png\"\r\n            className=\"nav-logo\"\r\n            alt=\"Logo\"\r\n            width=\"40\"\r\n            height=\"30\"\r\n          />\r\n          <Typography className={classes.logoTypo} variant=\"h6\">\r\n            GearStalk\r\n          </Typography>\r\n          <div className={classes.sectionDesktop}>\r\n            {menu.map((m, i) => (\r\n              <Button key={i} className={classes.nav}>\r\n                <ScrollLink to={m.section}>{m.text}</ScrollLink>\r\n              </Button>\r\n            ))}\r\n            {props.isLoggedIn ? (\r\n              <>\r\n                <Button\r\n                  className={classes.tryButton}\r\n                  onClick={() => history.push(\"/console\")}\r\n                >\r\n                  Go to Console\r\n                </Button>\r\n                <Logout className={classes.nav} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Button\r\n                  className={classes.tryButton}\r\n                  onClick={() => history.push(\"/signup\")}\r\n                >\r\n                  SignUp\r\n                </Button>\r\n                <Button\r\n                  className={classes.tryButton}\r\n                  onClick={() => history.push(\"/signin\")}\r\n                >\r\n                  SignIn\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className={classes.hamburger}>\r\n            <IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={toggleDrawer}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Toolbar id=\"back-to-top-anchor\" />\r\n      <ScrollTop {...props}>\r\n        <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n          <KeyboardArrowUpIcon />\r\n        </Fab>\r\n      </ScrollTop>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect } from 'react';\r\n\r\n/* Imports */\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\r\nimport am4geodata_worldLow from \"@amcharts/amcharts4-geodata/worldLow\";\r\nimport am4themes_dark from \"@amcharts/amcharts4/themes/dark\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\n\r\n/* Chart code */\r\n\r\nconst WorldMap: React.FC = () => {\r\n  useEffect(() => {\r\n    // Themes begin\r\n    am4core.useTheme(am4themes_dark);\r\n    am4core.useTheme(am4themes_animated);\r\n    // Themes end\r\n\r\n    // Create map instance\r\n    let chart = am4core.create(\"cctvChart\", am4maps.MapChart);\r\n\r\n    // Set map definition\r\n    chart.geodata = am4geodata_worldLow;\r\n\r\n    // Set projection\r\n    chart.projection = new am4maps.projections.Miller();\r\n\r\n    // Create map polygon series\r\n    let polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n\r\n    // Exclude Antartica\r\n    polygonSeries.exclude = [\"AQ\"];\r\n\r\n    // Make map load polygon (like country names) data from GeoJSON\r\n    polygonSeries.useGeodata = true;\r\n\r\n    // Configure series\r\n    let polygonTemplate = polygonSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.polygon.fillOpacity = 0.6;\r\n\r\n\r\n    // Create hover state and set alternative fill color\r\n    let hs = polygonTemplate.states.create(\"hover\");\r\n    hs.properties.fill = chart.colors.getIndex(0);\r\n\r\n    // Add image series\r\n    let imageSeries = chart.series.push(new am4maps.MapImageSeries());\r\n    imageSeries.mapImages.template.propertyFields.longitude = \"longitude\";\r\n    imageSeries.mapImages.template.propertyFields.latitude = \"latitude\";\r\n    imageSeries.mapImages.template.tooltipText = \"{title}\";\r\n\r\n    let circle = imageSeries.mapImages.template.createChild(am4core.Circle);\r\n    circle.radius = 3;\r\n    circle.propertyFields.fill = \"color\";\r\n\r\n    let circle2 = imageSeries.mapImages.template.createChild(am4core.Circle);\r\n    circle2.radius = 3;\r\n    circle2.propertyFields.fill = \"color\";\r\n\r\n\r\n    circle2.events.on(\"inited\", function(event){\r\n      animateBullet(event.target);\r\n    })\r\n\r\n\r\n    function animateBullet(circle) {\r\n        let animation = circle.animate([{ property: \"scale\", from: 1, to: 5 }, { property: \"opacity\", from: 1, to: 0 }], 3000, am4core.ease.circleOut);\r\n        animation.events.on(\"animationended\", function(event){\r\n          animateBullet(event.target.object);\r\n        })\r\n    }\r\n\r\n    let colorSet = \"#2563ff\";\r\n\r\n    imageSeries.data = [ {\r\n      \"title\": \"Brussels\",\r\n      \"latitude\": 50.8371,\r\n      \"longitude\": 4.3676,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Copenhagen\",\r\n      \"latitude\": 55.6763,\r\n      \"longitude\": 12.5681,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Paris\",\r\n      \"latitude\": 48.8567,\r\n      \"longitude\": 2.3510,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Reykjavik\",\r\n      \"latitude\": 64.1353,\r\n      \"longitude\": -21.8952,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Moscow\",\r\n      \"latitude\": 55.7558,\r\n      \"longitude\": 37.6176,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Madrid\",\r\n      \"latitude\": 40.4167,\r\n      \"longitude\": -3.7033,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"London\",\r\n      \"latitude\": 51.5002,\r\n      \"longitude\": -0.1262,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Peking\",\r\n      \"latitude\": 39.9056,\r\n      \"longitude\": 116.3958,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"New Delhi\",\r\n      \"latitude\": 28.6353,\r\n      \"longitude\": 77.2250,\r\n      \"color\":colorSet\r\n    },{\r\n      \"title\": \"Mumbai\",\r\n      \"latitude\": 19.0760,\r\n      \"longitude\": 72.8777,\r\n      \"color\":colorSet\r\n    },{\r\n      \"title\": \"Kerala\",\r\n      \"latitude\": 10.8505,\r\n      \"longitude\": 76.2711,\r\n      \"color\":colorSet\r\n    },{\r\n      \"title\": \"Banglore\",\r\n      \"latitude\": 12.9716,\r\n      \"longitude\": 77.5946,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Tokyo\",\r\n      \"latitude\": 35.6785,\r\n      \"longitude\": 139.6823,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Ankara\",\r\n      \"latitude\": 39.9439,\r\n      \"longitude\": 32.8560,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Buenos Aires\",\r\n      \"latitude\": -34.6118,\r\n      \"longitude\": -58.4173,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Brasilia\",\r\n      \"latitude\": -15.7801,\r\n      \"longitude\": -47.9292,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Ottawa\",\r\n      \"latitude\": 45.4235,\r\n      \"longitude\": -75.6979,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Washington\",\r\n      \"latitude\": 38.8921,\r\n      \"longitude\": -77.0241,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Kinshasa\",\r\n      \"latitude\": -4.3369,\r\n      \"longitude\": 15.3271,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Cairo\",\r\n      \"latitude\": 30.0571,\r\n      \"longitude\": 31.2272,\r\n      \"color\":colorSet\r\n    }, {\r\n      \"title\": \"Pretoria\",\r\n      \"latitude\": -25.7463,\r\n      \"longitude\": 28.1876,\r\n      \"color\":colorSet\r\n    } ];\r\n\r\n    return () => {\r\n        chart.dispose();\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div style={{ width: \"100%\", height: '400px' }} id=\"cctvChart\" />\r\n  );\r\n}\r\n\r\n\r\nconst PieChart: React.FC = () => {\r\n  useEffect(() => {\r\n    // Themes begin\r\n    am4core.useTheme(am4themes_dark);\r\n    am4core.useTheme(am4themes_animated);\r\n    // Themes end\r\n\r\n    let chart = am4core.create(\"pieChart\", am4charts.PieChart3D);\r\n    chart.hiddenState.properties.opacity = 0; // this creates initial fade-in\r\n\r\n    chart.data = [\r\n      {\r\n        feature: 'Blazer',\r\n        detected: 201\r\n      },\r\n      {\r\n        feature: 'Burkha',\r\n        detected: 161\r\n      },\r\n      {\r\n        feature: 'Chudidar',\r\n        detected: 121\r\n      },\r\n      {\r\n        feature: 'Long-pants',\r\n        detected: 98\r\n      },\r\n      {\r\n        feature: 'Saree',\r\n        detected: 62\r\n      },\r\n      {\r\n        feature: 'Kurta',\r\n        detected: 42\r\n      },\r\n      {\r\n        feature: 'Skirt',\r\n        detected: 29\r\n      },\r\n      {\r\n        feature: 'Strip-dress',\r\n        detected: 18\r\n      },\r\n      {\r\n        feature: 'shirt',\r\n        detected: 12\r\n      },\r\n      {\r\n        feature: 'Trousers',\r\n        detected: 5\r\n      }\r\n    ];\r\n\r\n    chart.innerRadius = am4core.percent(40);\r\n    chart.depth = 120;\r\n\r\n    chart.legend = new am4charts.Legend();\r\n\r\n    let series = chart.series.push(new am4charts.PieSeries3D());\r\n    series.dataFields.value = \"detected\";\r\n    series.dataFields.depthValue = \"detected\";\r\n    series.dataFields.category = \"feature\";\r\n    series.slices.template.cornerRadius = 5;\r\n    series.colors.step = 3;\r\n\r\n    return () => {\r\n      chart.dispose();\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div style={{ maxWidth: '90vw', overflowX: 'auto' }}>\r\n      <div style={{ width: '600px', height: '400px' }} id=\"pieChart\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport {\r\n  PieChart,\r\n  WorldMap,\r\n};","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n// import logo from './logo.png'\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  grid: {\r\n      padding: '15px',\r\n  },\r\n  media: {\r\n    height: 180,\r\n  },\r\n  cardHeight:{\r\n    maxWidth: 250,\r\n    height : 380,\r\n    backgroundColor: \"#333333\",\r\n    color: \"white\",\r\n    opacity: .8,\r\n  },\r\n  Link: {\r\n    color: \"Lightgreen\",  \r\n  },\r\n});\r\n\r\n\r\n\r\nconst Techstack: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Grid container>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3} >\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/tensorflow.png\")}\r\n                title=\"Tensorflow JS\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  TensorFlow.JS\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  TensorFlow.js is an hardware-accelerated JavaScript library\r\n                  for training and deploying ML models.\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"default\">\r\n                <Link className={classes.Link} href=\"https://www.tensorflow.org/js\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/reactjs.png\")}\r\n                title=\"React JS\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  ReactJS\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  React is a JavaScript library for building user interfaces. It\r\n                  is maintained by Facebook and a large Community.\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"default\">\r\n                <Link className={classes.Link} href=\"https://reactjs.org/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/flask.png\")}\r\n                title=\"Flask\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  Flask\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  D3.js is a JavaScript library for producing dynamic,\r\n                  interactive data visualizations in web browsers.\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              <Button size=\"small\" color=\"default\">\r\n                <Link className={classes.Link} href=\"https://d3js.org/\">See More</Link>\r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/materialui.png\")}\r\n                title=\"Material UI\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  Material UI\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  Material UI provides React components implementing <Link className={classes.Link} href=\"https://material.io/\">Google's Material Design</Link>\r\n                  specification\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"default\">\r\n                <Link className={classes.Link} href=\"https://material-ui.com/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/mongodb.png\")}\r\n                title=\"MongoDB Atlas\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  MongoDB Atlas\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  Material UI provides React components implementing <Link className={classes.Link} href=\"https://material.io/\">Google's Material Design</Link>\r\n                  specification\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"default\">\r\n                <Link className={classes.Link} href=\"https://material-ui.com/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/gridfs.png\")}\r\n                title=\"Grid FS\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  Grid FS\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  Material UI provides React components implementing <Link className={classes.Link} href=\"https://material.io/\">Google's Material Design</Link>\r\n                  specification\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"default\">\r\n                <Link className={classes.Link} href=\"https://material-ui.com/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/amcharts.png\")}\r\n                title=\"AMcharts\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  AMcharts\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  Material UI provides React components implementing <Link className={classes.Link} href=\"https://material.io/\">Google's Material Design</Link>\r\n                  specification\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" style={{ color: '#ffffff'}}>\r\n                <Link className={classes.Link} href=\"https://material-ui.com/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Techstack;","import React from \"react\";\r\nimport { FaGithub, FaCopyright } from 'react-icons/fa'\r\n\r\n\r\nconst Footer: React.FC = () => {\r\n  return (\r\n    <div style={{ background: \"#1f1f1f\", height: \"210px\" }}>\r\n        <div style={{ color:'white', padding: '30px', textAlign:'center'}}>\r\n            <FaGithub  size=\"40px\" href=\"#\"/>\r\n            <br /><br />\r\n            View the code Here.\r\n            <br /><br />\r\n            <FaCopyright />\r\n            &nbsp;&nbsp;\r\n            2020 DATA PIRATES.  ALL RIGHTS RESERVED. PRIVACY POLICY\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React, { useContext } from \"react\";\r\nimport FadeIn from \"../utils/FadeIn\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { Button, Grid } from \"@material-ui/core\";\r\nimport { GiMiner, GiMiningHelmet } from \"react-icons/gi\";\r\nimport Header from \"./Header\";\r\nimport { PieChart, WorldMap } from \"./Charts\";\r\nimport TechStack from \"./Techstack\";\r\nimport Footer from \"./Footer\";\r\n\r\nimport \"./Landing.css\";\r\n\r\ninterface FeatureProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Feature: React.FC<FeatureProps> = ({ children }) => {\r\n  return (\r\n    <Grid className=\"box\" item lg={3} md={4} sm={6} xs={12}>\r\n      <FadeIn>{children}</FadeIn>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Landing: React.FC = () => {\r\n  let history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"landing\">\r\n      <Header isLoggedIn={auth.isLoggedIn} />\r\n      <div className=\"section-content rowC section1\">\r\n        <Grid container>\r\n          <Grid\r\n            style={{ paddingLeft: \"0px\", textAlign: \"left\", color: \"white\" }}\r\n            item\r\n            md={6}\r\n            xs={12}\r\n          >\r\n            <br />\r\n            <FadeIn>\r\n              <button\r\n                style={{\r\n                  background:\r\n                    \"linear-gradient(90deg, rgba(29, 36, 63, 1) 5%, rgba(35, 46, 79, 1) 96%)\",\r\n                  borderRadius: \"50px\",\r\n                  padding: \"15px\",\r\n                  color: \"white\",\r\n                  fontSize: \"15px\",\r\n                }}\r\n              >\r\n                Smart India Hackathon Project\r\n              </button>\r\n              <br />\r\n              <h1 style={{ padding: \"10px\", fontSize: \"50px\" }}>\r\n                Textile Detection\r\n              </h1>\r\n              <h3 style={{ padding: \"10px\" }}>\r\n                To configure this component to work with your existing app,\r\n                you’ll need to import and call initImages, passing an object for\r\n                configuration. imageResolver is where you will take the\r\n                processed image object with calculated dimensions and generate a\r\n                URL that conforms to how your CMS resizes images.\r\n              </h3>\r\n              <br />\r\n              {auth.isLoggedIn ? (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => history.push(\"/console\")}\r\n                  >\r\n                    Go to Console\r\n                  </Button>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => history.push(\"/signup\")}\r\n                  >\r\n                    Sign Up\r\n                  </Button>\r\n                  &nbsp;\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => history.push(\"/signin\")}\r\n                  >\r\n                    Log In\r\n                  </Button>\r\n                </>\r\n              )}\r\n              &nbsp;&nbsp;&nbsp;\r\n              <Button variant=\"outlined\" color=\"primary\">\r\n                Github\r\n              </Button>\r\n            </FadeIn>\r\n          </Grid>\r\n          <Grid\r\n            className=\"inner-content\"\r\n            style={{ paddingLeft: \"0px\" }}\r\n            item\r\n            md={6}\r\n            xs={12}\r\n          >\r\n            <FadeIn>\r\n              <img\r\n                src={require(\"./images/start.png\")}\r\n                className=\"start-img\"\r\n                alt=\"Start_image\"\r\n              />\r\n            </FadeIn>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n\r\n      <div className=\"section-content section2\" style={{ background: \"#111\" }}>\r\n        <div className=\"inner-content\">\r\n          <h1 className=\"Headers\">Features Implemented</h1>\r\n          <Grid container>\r\n            <Feature>\r\n              <GiMiner size=\"90px\" color=\"blue\" />\r\n              <h2>feature1</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiningHelmet size=\"90px\" color=\"blue\" />\r\n              <h2>feature2</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiner size=\"90px\" color=\"blue\" />\r\n              <h2>feature3</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiningHelmet size=\"90px\" color=\"blue\" />\r\n              <h2>feature4</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiner size=\"90px\" color=\"blue\" />\r\n              <h2>feature5</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiner size=\"90px\" color=\"blue\" />\r\n              <h2>feature1</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiningHelmet size=\"90px\" color=\"blue\" />\r\n              <h2>feature2</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiner size=\"90px\" color=\"blue\" />\r\n              <h2>feature3</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiningHelmet size=\"90px\" color=\"blue\" />\r\n              <h2>feature4</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n            <Feature>\r\n              <GiMiner size=\"90px\" color=\"blue\" />\r\n              <h2>feature5</h2>\r\n              <h5>\r\n                The leading digital currency by market capitalization, has grown\r\n                in value by more than 10 times.\r\n              </h5>\r\n            </Feature>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"section-content section3\">\r\n        <h1 className=\"Headers\">About the Model</h1>\r\n        <br />\r\n        <Grid container>\r\n          <Grid\r\n            item\r\n            md={6}\r\n            sm={12}\r\n            xs={12}\r\n            style={{ paddingLeft: \"20px\", textAlign: \"left\" }}\r\n          >\r\n            <FadeIn>\r\n              <h1 style={{ color: \"lightgreen\" }}>\r\n                MultiLabel Image classifier\r\n              </h1>\r\n              <h4>(Resnet Architechture)</h4>\r\n              <h3>\r\n                To configure this component to work with your existing app,\r\n                you’ll need to import and call initImages, passing an object for\r\n                configuration. imageResolver is where you will take the\r\n                processed image object with calculated dimensions and generate a\r\n                URL that conforms to how your CMS resizes images.<br></br>The\r\n                example below connects to a local instance of image-steam and\r\n                will resize image based on the users viewport and pixel density.\r\n              </h3>\r\n            </FadeIn>\r\n          </Grid>\r\n          <Grid item md={6} sm={12} style={{ paddingLeft: \"10px\" }}>\r\n            <FadeIn>\r\n              <PieChart />\r\n            </FadeIn>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n\r\n      <div className=\"section-content section4\" style={{ background: \"#111\" }}>\r\n        <h1 className=\"Headers\">Preparation of the Database</h1>\r\n        <Grid container>\r\n          <Grid item md={6} sm={12}>\r\n            <FadeIn>\r\n              <WorldMap />\r\n            </FadeIn>\r\n          </Grid>\r\n          <Grid\r\n            style={{ textAlign: \"left\", color: \"#2563ff\" }}\r\n            item\r\n            md={6}\r\n            sm={12}\r\n          >\r\n            <FadeIn>\r\n              <h1 style={{ padding: \"0px 15px\" }}>\r\n                CCTV Cameras at<br></br>various Locations.\r\n              </h1>\r\n              <h3 style={{ padding: \"0px 15px\", color: \"white\" }}>\r\n                To configure this component to work with your existing app,\r\n                you’ll need to import and call initImages, passing an object for\r\n                configuration. imageResolver is where you will take the\r\n                processed image object with calculated dimensions and generate a\r\n                URL that conforms to how your CMS resizes images.<br></br>The\r\n                example below connects to a local instance of image-steam and\r\n                will resize image based on the users viewport and pixel density.\r\n              </h3>\r\n            </FadeIn>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n\r\n      <div\r\n        className=\"section-content section5\"\r\n        style={{ padding: \"0px\", background: \"#111\" }}\r\n      >\r\n        <div className=\"inner-content\">\r\n          <h1 className=\"Headers\">Technologies Used</h1>\r\n          <TechStack />\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport analysisIcon from \"./analysis.svg\";\r\nimport ChooseDialog from \"./ChooseDialog\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  option: {\r\n    width: \"50%\",\r\n    display: \"inline-block\",\r\n    padding: \"10px\",\r\n    marginTop: \"100px\",\r\n    paddingTop: \"15px\",\r\n    background: \"#2a3f73\",\r\n    color: \"#ffffff\",\r\n    border: \"1px solid #4f619a\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"18px\",\r\n    \"&:hover\": {\r\n      background: \"#30a3f2\",\r\n      border: \"1px solid #30a3f2\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Visualization: React.FC = () => {\r\n  let history = useHistory();\r\n\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const [videoTag, setVideoTag] = useState<string>(\"\");\r\n  const handleClose = () => setOpen(false);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (videoTag) history.push(`analytics/${videoTag}`);\r\n  }, [history, videoTag]);\r\n  return (\r\n    <>\r\n      <ChooseDialog\r\n        open={open}\r\n        setVideoTag={setVideoTag}\r\n        handleClose={handleClose}\r\n        processed={false}\r\n      />\r\n      <Grid container style={{ textAlign: \"center\" }}>\r\n        <Grid style={{ marginTop: \"100px\" }} item xs={12}>\r\n          <img\r\n            style={{ width: \"40%\", height: \"30vh\" }}\r\n            src={analysisIcon}\r\n            alt=\"analysisIcon\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <div className={classes.option} onClick={() => setOpen(true)}>\r\n            CHOOSE VIDEO\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Visualization;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ReactPlayer from \"react-player\";\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport { captureVideoFrame } from \"../utils/utils\";\r\nimport { Grid, Button, Paper, Slider, Typography } from \"@material-ui/core\";\r\nimport WallpaperIcon from \"@material-ui/icons/Wallpaper\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  playIcon: {\r\n    fontSize: \"100px\",\r\n  },\r\n  infoContainer: {\r\n    padding: \"10px\",\r\n  },\r\n  info: {\r\n    paddingTop: \"40px\",\r\n    color: \"#111\",\r\n    textAlign: \"center\",\r\n    height: \"100%\",\r\n    backgroundColor: \"#0a045e\",\r\n    border: \"1px solid #2db1e1\",\r\n  },\r\n  filterPaper: {\r\n    height: \"100%\", \r\n    padding: \"20px 20px\", \r\n    backgroundColor: \"#0a045e\",\r\n    border: \"1px solid #2db1e1\"\r\n  }\r\n}));\r\n\r\nconst filterMap = [\r\n  { key: \"contrast\", min: 0, max: 200 },\r\n  { key: \"opacity\", min: 0, max: 100 },\r\n  { key: \"saturate\", min: 0, max: 100 },\r\n  { key: \"brightness\", min: 0, max: 200 },\r\n  { key: \"hueRotate\", min: 0, max: 360 },\r\n  { key: \"sepia\", min: 0, max: 100 },\r\n  { key: \"blur\", min: 0, max: 100 },\r\n  { key: \"grayscale\", min: 0, max: 100 },\r\n];\r\n\r\nconst Enhance: React.FC = () => {\r\n  const classes = useStyles();\r\n  const { oid } = useParams();\r\n  const auth = useContext(AuthContext);\r\n  const [video, setVideo] = useState<{ [key: string]: any }>({});\r\n  const [image, setImage] = useState(null);\r\n  const { sendRequest } = useHttpClient();\r\n  const playerRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n  const [filter, setFilter] = useState<{ [key: string]: any }>({\r\n    contrast: 100,\r\n    opacity: 100,\r\n    saturate: 100,\r\n    brightness: 100,\r\n    hueRotate: 0,\r\n    sepia: 0,\r\n    blur: 0,\r\n    grayscale: 0,\r\n  });\r\n  useEffect(() => {\r\n    const fetchVideo = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/getvideobyid/\" + oid,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        setVideo(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchVideo();\r\n  }, [oid, sendRequest, auth.token]);\r\n  const getFrame = () => {\r\n    const frame = captureVideoFrame(\r\n      playerRef.current.getInternalPlayer(),\r\n      \"jpeg\",\r\n      0.92\r\n    );\r\n    if (frame) setImage(frame.dataUri);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (image && imageRef.current) {\r\n      console.log(imageRef.current.style.filter);\r\n      imageRef.current.style.filter = `\r\n      blur(${filter.blur}px)\r\n      brightness(${filter.brightness}%)\r\n      contrast(${filter.contrast}%)\r\n      grayscale(${filter.grayscale}%)\r\n      hue-rotate(${filter.hueRotate}deg) \r\n      opacity(${filter.opacity}%)\r\n      saturate(${filter.saturate}%)\r\n      sepia(${filter.sepia}%)\r\n    `;\r\n    }\r\n  }, [image, filter]);\r\n\r\n  const handleFilter = (event, newValue) => {\r\n    console.log(event.target.value)\r\n    setFilter({ ...filter, [event.target.id]: newValue });\r\n  };\r\n\r\n  return (\r\n    <Grid style={{ padding: \"20px\" }} container>\r\n      <Typography variant=\"h5\" gutterBottom>Image Quality</Typography>\r\n      <Grid style={{ backgroundColor: \"#2db1e1\", height: \"1px\", marginBottom: \"20px\" }} item xs={12} />\r\n      <Grid item md={6} sm={12} xs={12}>\r\n        <ReactPlayer\r\n          ref={(player) => {\r\n            playerRef.current = player;\r\n          }}\r\n          controls\r\n          // style={{ boxShadow: \"-3px 6px 34px 6px rgba(18,25,41,1)\" }}\r\n          url={`${process.env.REACT_APP_BACKEND_URL}/helpers/video/${video.file_id}`}\r\n          light={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${video.thumbnail_id}`}\r\n          playing\r\n          pip\r\n          width=\"100%\"\r\n          playIcon={<PlayCircleFilledIcon className={classes.playIcon} />}\r\n          config={{\r\n            file: {\r\n              attributes: {\r\n                crossOrigin: \"anonymous\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </Grid>\r\n      <Grid className={classes.infoContainer} item md={6} sm={12} xs={12}>\r\n        <Grid container className={classes.info}>\r\n          <Grid item xs={12} style={{ padding: \"20px\" }}>\r\n            <WallpaperIcon style={{ color: \"2db1e1\", fontSize: \"100px\" }} />\r\n          </Grid>\r\n          <Grid item xs={12} style={{ padding: \"20px\" }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              style={{ backgroundColor: \"#2db1e1\", fontWeight: 500 }}\r\n              onClick={getFrame}\r\n            >\r\n              CAPTURE FRAME\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid style={{ height: \"50px\" }} item xs={12} />\r\n      <Grid item md={6} sm={12} xs={12}>\r\n        {image && (\r\n          <img\r\n            style={{ width: \"100%\" }}\r\n            src={image}\r\n            alt=\"frame\"\r\n            ref={imageRef}\r\n          />\r\n        )}\r\n      </Grid>\r\n      <Grid style={{ padding: \"10px\", paddingTop: \"0px\" }} item md={6} sm={12} xs={12}>\r\n        {image && (\r\n          <Paper className={classes.filterPaper} square>\r\n            <Grid container spacing={2}>\r\n              {filterMap.map((f, i) => (\r\n                <Grid key={i} item md={6} xs={12} style={{ margin: \"10px 0px\" }}>\r\n                  <Grid container>\r\n                    <Grid item xs={12}>\r\n                      <div style={{ fontSize: \"17px\", fontWeight: 600 }}>{f.key.toUpperCase()}</div>\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                      {f.min}\r\n                    </Grid>\r\n                    <Grid item xs={10}>\r\n                      <Slider\r\n                        id={f.key}\r\n                        value={filter[f.key]}\r\n                        min={f.min}\r\n                        max={f.max}\r\n                        aria-labelledby=\"continuous-slider\"\r\n                        onChange={handleFilter}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                      {f.max}\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Paper>\r\n        )}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Enhance;\r\n","import React from \"react\";\r\n\r\ninterface Props {\r\n  color: string;\r\n}\r\n\r\nconst Dot: React.FC<Props> = ({ color }) => {\r\n  return (\r\n    <span\r\n      style={{\r\n        margin: \"5px\",\r\n        height: \"20px\",\r\n        width: \"20px\",\r\n        backgroundColor: `${color}`,\r\n        borderRadius: \"50%\",\r\n        display: \"inline-block\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Dot;\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Grid, Paper, Chip, Avatar, Typography } from \"@material-ui/core\";\r\nimport ReactPlayer from \"react-player\";\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport { useInterval } from \"../hooks/time-hook\";\r\nimport { MetaData, Person } from \"../../types\";\r\nimport { md } from \"../utils/utils\";\r\nimport Dot from \"../utils/Dot\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginBottom: \"20px\",\r\n  },\r\n  playIcon: {\r\n    margin: \"200px 0px\",\r\n    fontSize: \"100px\",\r\n    zIndex: 10,\r\n  },\r\n  container: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    height: \"auto\",\r\n    overflow: \"hidden\",\r\n  },\r\n  canvas: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"500px\",\r\n    top: \"0px\",\r\n    left: \"0px\",\r\n  },\r\n  personContainer: {\r\n    height: \"100%\",\r\n    padding: \"10px\",\r\n  },\r\n  person: {\r\n    border: \"1px solid #2db1e1\",\r\n    padding: \"10px\",\r\n  },\r\n  personInfo: {\r\n    padding: \"0px 8px\",\r\n    fontWeight: 500,\r\n    fontSize: \"17px\",\r\n  },\r\n}));\r\nconst Analytics: React.FC = () => {\r\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\r\n  const classes = useStyles();\r\n  const { oid } = useParams();\r\n  const auth = useContext(AuthContext);\r\n  const [video, setVideo] = useState<{ [key: string]: any }>({});\r\n  const { sendRequest } = useHttpClient();\r\n  const playerRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const handleIsPlaying = () => setIsPlaying(true);\r\n  const handleIsNotPlaying = () => setIsPlaying(false);\r\n\r\n  const [metadata, setMetadata] = useState<MetaData[]>(null);\r\n  const [currentData, setCurrentData] = useState<Person[]>(null);\r\n\r\n  const renderPredictions = (persons, canvasRef) => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    // ctx.translate(0.5, 0.5);\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    // Font options.\r\n    const font = \"10px sans-serif\";\r\n    ctx.font = font;\r\n    ctx.textBaseline = \"top\";\r\n    persons.forEach((person) => {\r\n      const x = Math.floor(ctx.canvas.width * person.box[0] + 0.5);\r\n      const y = Math.floor(ctx.canvas.height * person.box[1] + 0.5);\r\n      const width = ctx.canvas.width * person.box[2];\r\n      const height = ctx.canvas.height * person.box[3];\r\n      console.log(x, y, width, height);\r\n      // Draw the bounding box.\r\n      ctx.strokeStyle = \"#2db1e1\";\r\n      ctx.lineWidth = 1;\r\n      ctx.strokeRect(x, y, width, height);\r\n      // Draw the label background.\r\n      ctx.fillStyle = \"#00FFFF\";\r\n      let text: string = \"\";\r\n      person.labels.forEach((label: string) => (text = text + \", \" + label));\r\n      // const textWidth = ctx.measureText(text).width;\r\n      // const textHeight = parseInt(font, 10); // base 10\r\n      // // ctx.fillRect(x, y, textWidth + 1, textHeight + 1)\r\n      // ctx.fillRect(0, 0, textWidth - 1, textHeight - 1);\r\n    });\r\n\r\n    // persons.forEach((person) => {\r\n    //   const x = ctx.canvas.width * person.box[0];\r\n    //   const y = ctx.canvas.height * person.box[1];\r\n    //   // Draw the text last to ensure it's on top.\r\n    //   ctx.fillStyle = \"#000000\";\r\n    //   let text: string = \"\";\r\n    //   person.labels.forEach((label: string) => (text = text + \", \" + label));\r\n    //   ctx.fillText(text, x, y);\r\n    // });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (video) setMetadata(md);\r\n    if (playerRef.current) console.log(playerRef.current);\r\n  }, [video]);\r\n\r\n  useEffect(() => {\r\n    const fetchVideo = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/video/getvideobyid/\" + oid,\r\n          \"GET\",\r\n          null,\r\n          {\r\n            Authorization: \"Bearer \" + auth.token,\r\n          }\r\n        );\r\n        console.log(responseData);\r\n        setVideo(responseData);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    console.log(oid);\r\n    fetchVideo();\r\n  }, [oid, sendRequest, auth.token]);\r\n\r\n  useInterval(() => {\r\n    if (metadata && isPlaying && playerRef.current) {\r\n      let ct = playerRef.current.getCurrentTime();\r\n      let f = Math.floor(ct);\r\n      let m = ct % f;\r\n      if (m >= 0.5) ct = ct + 0.5;\r\n      ct = Math.floor(ct * 2);\r\n      try {\r\n        console.log(metadata[ct]);\r\n        setCurrentData(metadata[ct].persons);\r\n        renderPredictions(metadata[ct].persons, canvasRef);\r\n      } catch (err) {}\r\n    }\r\n  }, 500);\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid style={{ padding: \"10px\" }} item md={8} sm={12} xs={12}>\r\n        <div className={classes.container}>\r\n          <canvas\r\n            width=\"100%\"\r\n            height=\"auto\"\r\n            className={classes.canvas}\r\n            ref={canvasRef}\r\n          />\r\n          <ReactPlayer\r\n            ref={(player) => {\r\n              playerRef.current = player;\r\n            }}\r\n            onStart={handleIsPlaying}\r\n            onPlay={handleIsPlaying}\r\n            onPause={handleIsNotPlaying}\r\n            onEnded={handleIsNotPlaying}\r\n            controls\r\n            style={{\r\n              boxShadow: \"-3px 6px 34px 6px rgba(18,25,41,1)\",\r\n            }}\r\n            width=\"100%\"\r\n            height=\"auto\"\r\n            url={`${process.env.REACT_APP_BACKEND_URL}/helpers/video/${video.file_id}`}\r\n            light={`${process.env.REACT_APP_BACKEND_URL}/helpers/file/${video.thumbnail_id}`}\r\n            playing\r\n            pip\r\n            playIcon={<PlayCircleFilledIcon className={classes.playIcon} />}\r\n          />\r\n        </div>\r\n      </Grid>\r\n      <Grid style={{ padding: \"10px\" }} item md={4} sm={12} xs={12}>\r\n        <Paper className={classes.personContainer} square>\r\n          <Typography\r\n            style={{ marginBottom: \"10px\", fontSize: \"15px\", fontWeight: 500 }}\r\n          >\r\n            Metadata will appear over here\r\n          </Typography>\r\n          {currentData &&\r\n            currentData.map((cd, index) => (\r\n              <div key={index} className={classes.person}>\r\n                <div className={classes.personInfo}>Person {index + 1}</div>\r\n                <div>\r\n                  {cd.colors.map((color, index) => (\r\n                    <Dot key={index} color={color} />\r\n                  ))}\r\n                </div>\r\n                <div>\r\n                  {cd.labels.map((label, index) => (\r\n                    <Chip\r\n                      key={index}\r\n                      color=\"primary\"\r\n                      style={{\r\n                        margin: \"5px 3px\",\r\n                        color: \"#1C233E\",\r\n                        fontWeight: 600,\r\n                      }}\r\n                      label={label}\r\n                      avatar={<Avatar>{label.charAt(0)}</Avatar>}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Analytics;\r\n","import { useEffect, useRef } from 'react';\r\n\r\nexport const useInterval = (callback, delay) => {\r\n  const savedCallback = useRef(null);\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n} from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"./components/context/auth-context\";\r\nimport { useAuth } from \"./components/hooks/auth-hook\";\r\n\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { customTheme } from \"./components/theme/theme\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nimport ResponsiveDrawer from \"./components/utils/ResponsiveDrawer\";\r\nimport Signin from \"./components/auth/Signin\";\r\nimport Library from \"./components/database/Library\";\r\nimport Camera from \"./components/database/Camera\";\r\nimport Upload from \"./components/database/Upload\";\r\nimport Signup from \"./components/auth/Signup\";\r\nimport Console from \"./components/utils/Console\";\r\nimport Search from \"./components/tools/Search\";\r\nimport VideoQuality from \"./components/tools/VideoQuality\";\r\nimport Play from \"./components/database/Play\";\r\nimport Landing from \"./components/landing/Landing\";\r\nimport Visualization from \"./components/tools/Visualization\";\r\nimport Enhance from \"./components/tools/Enhance\";\r\nimport Analytics from \"./components/tools/Analytics\";\r\n\r\nconst theme = createMuiTheme(customTheme);\r\n\r\nconst App = () => {\r\n  const { token, login, logout, userId } = useAuth();\r\n\r\n  let routes;\r\n\r\n  // if (token) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact>\r\n          <Landing />\r\n        </Route>\r\n        <Route path=\"/console\" exact>\r\n          <ResponsiveDrawer>\r\n            <Console />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/library\" exact>\r\n          <ResponsiveDrawer>\r\n            <Library />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/play/:oid\" exact>\r\n          <ResponsiveDrawer>\r\n            <Play />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/enhance/:oid\" exact>\r\n          <ResponsiveDrawer>\r\n            <Enhance />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/analytics/:oid\" exact>\r\n          <ResponsiveDrawer>\r\n            <Analytics />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/search\" exact>\r\n          <ResponsiveDrawer>\r\n            <Search />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/videoquality\" exact>\r\n          <ResponsiveDrawer>\r\n            <VideoQuality />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/visualization\" exact>\r\n          <ResponsiveDrawer>\r\n            <Visualization />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/upload\" exact>\r\n          <ResponsiveDrawer>\r\n            <Upload />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Route path=\"/cctv\" exact>\r\n          <ResponsiveDrawer>\r\n            <Camera />\r\n          </ResponsiveDrawer>\r\n        </Route>\r\n        <Redirect to=\"/search\" />\r\n      </Switch>\r\n    );\r\n  // } else {\r\n  //   routes = (\r\n  //     <Switch>\r\n  //       <Route path=\"/\" exact>\r\n  //         <Landing />\r\n  //       </Route>\r\n  //       <Route path=\"/signin\" exact>\r\n  //         <Signin />\r\n  //       </Route>\r\n  //       <Route path=\"/signup\" exact>\r\n  //         <Signup />\r\n  //       </Route>\r\n  //       <Redirect to=\"/\" />\r\n  //     </Switch>\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <AuthContext.Provider\r\n        value={{\r\n          isLoggedIn: !!token,\r\n          token: token,\r\n          userId: userId,\r\n          login: login,\r\n          logout: logout,\r\n        }}\r\n      >\r\n        <Router>{routes}</Router>\r\n      </AuthContext.Provider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","interface Theme {\r\n  palette: { [key: string]: { [key: string]: string } };\r\n}\r\n\r\nexport const customTheme: Theme = {\r\n  palette: {\r\n    common: {\r\n      black: \"#000\",\r\n      white: \"#fff\",\r\n    },\r\n    background: {\r\n      paper: \"#1c233e\",\r\n      default: \"#001f42\",\r\n    },\r\n    primary: {\r\n      light: \"rgba(133, 59, 188, 1)\",\r\n      main: \"#2db1e1\",\r\n      dark: \"rgba(21, 0, 93, 1)\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    secondary: {\r\n      light: \"#fff\",\r\n      main: \"#4c02ad\",\r\n      dark: \"rgba(166, 0, 173, 1)\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    error: {\r\n      light: \"#e57373\",\r\n      main: \"#f44336\",\r\n      dark: \"#d32f2f\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    text: {\r\n      primary: \"#2db1e1\",\r\n      secondary: \"#2db1e1\",\r\n      disabled: \"#000\",\r\n      hint: \"#000\",\r\n    },\r\n  },\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import \"core-js\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/quality.153c006f.svg\";","module.exports = __webpack_public_path__ + \"static/media/cctv.51e90fbf.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.cfae1e12.svg\";","module.exports = __webpack_public_path__ + \"static/media/analysis.81a55fb7.svg\";"],"sourceRoot":""}